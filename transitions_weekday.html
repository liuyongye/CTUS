<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<style>body{background-color:white;}</style>
<script>(function() {
  // If window.HTMLWidgets is already defined, then use it; otherwise create a
  // new object. This allows preceding code to set options that affect the
  // initialization process (though none currently exist).
  window.HTMLWidgets = window.HTMLWidgets || {};

  // See if we're running in a viewer pane. If not, we're in a web browser.
  var viewerMode = window.HTMLWidgets.viewerMode =
      /\bviewer_pane=1\b/.test(window.location);

  // See if we're running in Shiny mode. If not, it's a static document.
  // Note that static widgets can appear in both Shiny and static modes, but
  // obviously, Shiny widgets can only appear in Shiny apps/documents.
  var shinyMode = window.HTMLWidgets.shinyMode =
      typeof(window.Shiny) !== "undefined" && !!window.Shiny.outputBindings;

  // We can't count on jQuery being available, so we implement our own
  // version if necessary.
  function querySelectorAll(scope, selector) {
    if (typeof(jQuery) !== "undefined" && scope instanceof jQuery) {
      return scope.find(selector);
    }
    if (scope.querySelectorAll) {
      return scope.querySelectorAll(selector);
    }
  }

  function asArray(value) {
    if (value === null)
      return [];
    if ($.isArray(value))
      return value;
    return [value];
  }

  // Implement jQuery's extend
  function extend(target /*, ... */) {
    if (arguments.length == 1) {
      return target;
    }
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var prop in source) {
        if (source.hasOwnProperty(prop)) {
          target[prop] = source[prop];
        }
      }
    }
    return target;
  }

  // IE8 doesn't support Array.forEach.
  function forEach(values, callback, thisArg) {
    if (values.forEach) {
      values.forEach(callback, thisArg);
    } else {
      for (var i = 0; i < values.length; i++) {
        callback.call(thisArg, values[i], i, values);
      }
    }
  }

  // Replaces the specified method with the return value of funcSource.
  //
  // Note that funcSource should not BE the new method, it should be a function
  // that RETURNS the new method. funcSource receives a single argument that is
  // the overridden method, it can be called from the new method. The overridden
  // method can be called like a regular function, it has the target permanently
  // bound to it so "this" will work correctly.
  function overrideMethod(target, methodName, funcSource) {
    var superFunc = target[methodName] || function() {};
    var superFuncBound = function() {
      return superFunc.apply(target, arguments);
    };
    target[methodName] = funcSource(superFuncBound);
  }

  // Add a method to delegator that, when invoked, calls
  // delegatee.methodName. If there is no such method on
  // the delegatee, but there was one on delegator before
  // delegateMethod was called, then the original version
  // is invoked instead.
  // For example:
  //
  // var a = {
  //   method1: function() { console.log('a1'); }
  //   method2: function() { console.log('a2'); }
  // };
  // var b = {
  //   method1: function() { console.log('b1'); }
  // };
  // delegateMethod(a, b, "method1");
  // delegateMethod(a, b, "method2");
  // a.method1();
  // a.method2();
  //
  // The output would be "b1", "a2".
  function delegateMethod(delegator, delegatee, methodName) {
    var inherited = delegator[methodName];
    delegator[methodName] = function() {
      var target = delegatee;
      var method = delegatee[methodName];

      // The method doesn't exist on the delegatee. Instead,
      // call the method on the delegator, if it exists.
      if (!method) {
        target = delegator;
        method = inherited;
      }

      if (method) {
        return method.apply(target, arguments);
      }
    };
  }

  // Implement a vague facsimilie of jQuery's data method
  function elementData(el, name, value) {
    if (arguments.length == 2) {
      return el["htmlwidget_data_" + name];
    } else if (arguments.length == 3) {
      el["htmlwidget_data_" + name] = value;
      return el;
    } else {
      throw new Error("Wrong number of arguments for elementData: " +
        arguments.length);
    }
  }

  // http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex
  function escapeRegExp(str) {
    return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
  }

  function hasClass(el, className) {
    var re = new RegExp("\\b" + escapeRegExp(className) + "\\b");
    return re.test(el.className);
  }

  // elements - array (or array-like object) of HTML elements
  // className - class name to test for
  // include - if true, only return elements with given className;
  //   if false, only return elements *without* given className
  function filterByClass(elements, className, include) {
    var results = [];
    for (var i = 0; i < elements.length; i++) {
      if (hasClass(elements[i], className) == include)
        results.push(elements[i]);
    }
    return results;
  }

  function on(obj, eventName, func) {
    if (obj.addEventListener) {
      obj.addEventListener(eventName, func, false);
    } else if (obj.attachEvent) {
      obj.attachEvent(eventName, func);
    }
  }

  function off(obj, eventName, func) {
    if (obj.removeEventListener)
      obj.removeEventListener(eventName, func, false);
    else if (obj.detachEvent) {
      obj.detachEvent(eventName, func);
    }
  }

  // Translate array of values to top/right/bottom/left, as usual with
  // the "padding" CSS property
  // https://developer.mozilla.org/en-US/docs/Web/CSS/padding
  function unpackPadding(value) {
    if (typeof(value) === "number")
      value = [value];
    if (value.length === 1) {
      return {top: value[0], right: value[0], bottom: value[0], left: value[0]};
    }
    if (value.length === 2) {
      return {top: value[0], right: value[1], bottom: value[0], left: value[1]};
    }
    if (value.length === 3) {
      return {top: value[0], right: value[1], bottom: value[2], left: value[1]};
    }
    if (value.length === 4) {
      return {top: value[0], right: value[1], bottom: value[2], left: value[3]};
    }
  }

  // Convert an unpacked padding object to a CSS value
  function paddingToCss(paddingObj) {
    return paddingObj.top + "px " + paddingObj.right + "px " + paddingObj.bottom + "px " + paddingObj.left + "px";
  }

  // Makes a number suitable for CSS
  function px(x) {
    if (typeof(x) === "number")
      return x + "px";
    else
      return x;
  }

  // Retrieves runtime widget sizing information for an element.
  // The return value is either null, or an object with fill, padding,
  // defaultWidth, defaultHeight fields.
  function sizingPolicy(el) {
    var sizingEl = document.querySelector("script[data-for='" + el.id + "'][type='application/htmlwidget-sizing']");
    if (!sizingEl)
      return null;
    var sp = JSON.parse(sizingEl.textContent || sizingEl.text || "{}");
    if (viewerMode) {
      return sp.viewer;
    } else {
      return sp.browser;
    }
  }

  // @param tasks Array of strings (or falsy value, in which case no-op).
  //   Each element must be a valid JavaScript expression that yields a
  //   function. Or, can be an array of objects with "code" and "data"
  //   properties; in this case, the "code" property should be a string
  //   of JS that's an expr that yields a function, and "data" should be
  //   an object that will be added as an additional argument when that
  //   function is called.
  // @param target The object that will be "this" for each function
  //   execution.
  // @param args Array of arguments to be passed to the functions. (The
  //   same arguments will be passed to all functions.)
  function evalAndRun(tasks, target, args) {
    if (tasks) {
      forEach(tasks, function(task) {
        var theseArgs = args;
        if (typeof(task) === "object") {
          theseArgs = theseArgs.concat([task.data]);
          task = task.code;
        }
        var taskFunc = tryEval(task);
        if (typeof(taskFunc) !== "function") {
          throw new Error("Task must be a function! Source:\n" + task);
        }
        taskFunc.apply(target, theseArgs);
      });
    }
  }

  // Attempt eval() both with and without enclosing in parentheses.
  // Note that enclosing coerces a function declaration into
  // an expression that eval() can parse
  // (otherwise, a SyntaxError is thrown)
  function tryEval(code) {
    var result = null;
    try {
      result = eval("(" + code + ")");
    } catch(error) {
      if (!(error instanceof SyntaxError)) {
        throw error;
      }
      try {
        result = eval(code);
      } catch(e) {
        if (e instanceof SyntaxError) {
          throw error;
        } else {
          throw e;
        }
      }
    }
    return result;
  }

  function initSizing(el) {
    var sizing = sizingPolicy(el);
    if (!sizing)
      return;

    var cel = document.getElementById("htmlwidget_container");
    if (!cel)
      return;

    if (typeof(sizing.padding) !== "undefined") {
      document.body.style.margin = "0";
      document.body.style.padding = paddingToCss(unpackPadding(sizing.padding));
    }

    if (sizing.fill) {
      document.body.style.overflow = "hidden";
      document.body.style.width = "100%";
      document.body.style.height = "100%";
      document.documentElement.style.width = "100%";
      document.documentElement.style.height = "100%";
      cel.style.position = "absolute";
      var pad = unpackPadding(sizing.padding);
      cel.style.top = pad.top + "px";
      cel.style.right = pad.right + "px";
      cel.style.bottom = pad.bottom + "px";
      cel.style.left = pad.left + "px";
      el.style.width = "100%";
      el.style.height = "100%";

      return {
        getWidth: function() { return cel.getBoundingClientRect().width; },
        getHeight: function() { return cel.getBoundingClientRect().height; }
      };

    } else {
      el.style.width = px(sizing.width);
      el.style.height = px(sizing.height);

      return {
        getWidth: function() { return cel.getBoundingClientRect().width; },
        getHeight: function() { return cel.getBoundingClientRect().height; }
      };
    }
  }

  // Default implementations for methods
  var defaults = {
    find: function(scope) {
      return querySelectorAll(scope, "." + this.name);
    },
    renderError: function(el, err) {
      var $el = $(el);

      this.clearError(el);

      // Add all these error classes, as Shiny does
      var errClass = "shiny-output-error";
      if (err.type !== null) {
        // use the classes of the error condition as CSS class names
        errClass = errClass + " " + $.map(asArray(err.type), function(type) {
          return errClass + "-" + type;
        }).join(" ");
      }
      errClass = errClass + " htmlwidgets-error";

      // Is el inline or block? If inline or inline-block, just display:none it
      // and add an inline error.
      var display = $el.css("display");
      $el.data("restore-display-mode", display);

      if (display === "inline" || display === "inline-block") {
        $el.hide();
        if (err.message !== "") {
          var errorSpan = $("<span>").addClass(errClass);
          errorSpan.text(err.message);
          $el.after(errorSpan);
        }
      } else if (display === "block") {
        // If block, add an error just after the el, set visibility:none on the
        // el, and position the error to be on top of the el.
        // Mark it with a unique ID and CSS class so we can remove it later.
        $el.css("visibility", "hidden");
        if (err.message !== "") {
          var errorDiv = $("<div>").addClass(errClass).css("position", "absolute")
            .css("top", el.offsetTop)
            .css("left", el.offsetLeft)
            // setting width can push out the page size, forcing otherwise
            // unnecessary scrollbars to appear and making it impossible for
            // the element to shrink; so use max-width instead
            .css("maxWidth", el.offsetWidth)
            .css("height", el.offsetHeight);
          errorDiv.text(err.message);
          $el.after(errorDiv);

          // Really dumb way to keep the size/position of the error in sync with
          // the parent element as the window is resized or whatever.
          var intId = setInterval(function() {
            if (!errorDiv[0].parentElement) {
              clearInterval(intId);
              return;
            }
            errorDiv
              .css("top", el.offsetTop)
              .css("left", el.offsetLeft)
              .css("maxWidth", el.offsetWidth)
              .css("height", el.offsetHeight);
          }, 500);
        }
      }
    },
    clearError: function(el) {
      var $el = $(el);
      var display = $el.data("restore-display-mode");
      $el.data("restore-display-mode", null);

      if (display === "inline" || display === "inline-block") {
        if (display)
          $el.css("display", display);
        $(el.nextSibling).filter(".htmlwidgets-error").remove();
      } else if (display === "block"){
        $el.css("visibility", "inherit");
        $(el.nextSibling).filter(".htmlwidgets-error").remove();
      }
    },
    sizing: {}
  };

  // Called by widget bindings to register a new type of widget. The definition
  // object can contain the following properties:
  // - name (required) - A string indicating the binding name, which will be
  //   used by default as the CSS classname to look for.
  // - initialize (optional) - A function(el) that will be called once per
  //   widget element; if a value is returned, it will be passed as the third
  //   value to renderValue.
  // - renderValue (required) - A function(el, data, initValue) that will be
  //   called with data. Static contexts will cause this to be called once per
  //   element; Shiny apps will cause this to be called multiple times per
  //   element, as the data changes.
  window.HTMLWidgets.widget = function(definition) {
    if (!definition.name) {
      throw new Error("Widget must have a name");
    }
    if (!definition.type) {
      throw new Error("Widget must have a type");
    }
    // Currently we only support output widgets
    if (definition.type !== "output") {
      throw new Error("Unrecognized widget type '" + definition.type + "'");
    }
    // TODO: Verify that .name is a valid CSS classname

    // Support new-style instance-bound definitions. Old-style class-bound
    // definitions have one widget "object" per widget per type/class of
    // widget; the renderValue and resize methods on such widget objects
    // take el and instance arguments, because the widget object can't
    // store them. New-style instance-bound definitions have one widget
    // object per widget instance; the definition that's passed in doesn't
    // provide renderValue or resize methods at all, just the single method
    //   factory(el, width, height)
    // which returns an object that has renderValue(x) and resize(w, h).
    // This enables a far more natural programming style for the widget
    // author, who can store per-instance state using either OO-style
    // instance fields or functional-style closure variables (I guess this
    // is in contrast to what can only be called C-style pseudo-OO which is
    // what we required before).
    if (definition.factory) {
      definition = createLegacyDefinitionAdapter(definition);
    }

    if (!definition.renderValue) {
      throw new Error("Widget must have a renderValue function");
    }

    // For static rendering (non-Shiny), use a simple widget registration
    // scheme. We also use this scheme for Shiny apps/documents that also
    // contain static widgets.
    window.HTMLWidgets.widgets = window.HTMLWidgets.widgets || [];
    // Merge defaults into the definition; don't mutate the original definition.
    var staticBinding = extend({}, defaults, definition);
    overrideMethod(staticBinding, "find", function(superfunc) {
      return function(scope) {
        var results = superfunc(scope);
        // Filter out Shiny outputs, we only want the static kind
        return filterByClass(results, "html-widget-output", false);
      };
    });
    window.HTMLWidgets.widgets.push(staticBinding);

    if (shinyMode) {
      // Shiny is running. Register the definition with an output binding.
      // The definition itself will not be the output binding, instead
      // we will make an output binding object that delegates to the
      // definition. This is because we foolishly used the same method
      // name (renderValue) for htmlwidgets definition and Shiny bindings
      // but they actually have quite different semantics (the Shiny
      // bindings receive data that includes lots of metadata that it
      // strips off before calling htmlwidgets renderValue). We can't
      // just ignore the difference because in some widgets it's helpful
      // to call this.renderValue() from inside of resize(), and if
      // we're not delegating, then that call will go to the Shiny
      // version instead of the htmlwidgets version.

      // Merge defaults with definition, without mutating either.
      var bindingDef = extend({}, defaults, definition);

      // This object will be our actual Shiny binding.
      var shinyBinding = new Shiny.OutputBinding();

      // With a few exceptions, we'll want to simply use the bindingDef's
      // version of methods if they are available, otherwise fall back to
      // Shiny's defaults. NOTE: If Shiny's output bindings gain additional
      // methods in the future, and we want them to be overrideable by
      // HTMLWidget binding definitions, then we'll need to add them to this
      // list.
      delegateMethod(shinyBinding, bindingDef, "getId");
      delegateMethod(shinyBinding, bindingDef, "onValueChange");
      delegateMethod(shinyBinding, bindingDef, "onValueError");
      delegateMethod(shinyBinding, bindingDef, "renderError");
      delegateMethod(shinyBinding, bindingDef, "clearError");
      delegateMethod(shinyBinding, bindingDef, "showProgress");

      // The find, renderValue, and resize are handled differently, because we
      // want to actually decorate the behavior of the bindingDef methods.

      shinyBinding.find = function(scope) {
        var results = bindingDef.find(scope);

        // Only return elements that are Shiny outputs, not static ones
        var dynamicResults = results.filter(".html-widget-output");

        // It's possible that whatever caused Shiny to think there might be
        // new dynamic outputs, also caused there to be new static outputs.
        // Since there might be lots of different htmlwidgets bindings, we
        // schedule execution for later--no need to staticRender multiple
        // times.
        if (results.length !== dynamicResults.length)
          scheduleStaticRender();

        return dynamicResults;
      };

      // Wrap renderValue to handle initialization, which unfortunately isn't
      // supported natively by Shiny at the time of this writing.

      shinyBinding.renderValue = function(el, data) {
        Shiny.renderDependencies(data.deps);
        // Resolve strings marked as javascript literals to objects
        if (!(data.evals instanceof Array)) data.evals = [data.evals];
        for (var i = 0; data.evals && i < data.evals.length; i++) {
          window.HTMLWidgets.evaluateStringMember(data.x, data.evals[i]);
        }
        if (!bindingDef.renderOnNullValue) {
          if (data.x === null) {
            el.style.visibility = "hidden";
            return;
          } else {
            el.style.visibility = "inherit";
          }
        }
        if (!elementData(el, "initialized")) {
          initSizing(el);

          elementData(el, "initialized", true);
          if (bindingDef.initialize) {
            var rect = el.getBoundingClientRect();
            var result = bindingDef.initialize(el, rect.width, rect.height);
            elementData(el, "init_result", result);
          }
        }
        bindingDef.renderValue(el, data.x, elementData(el, "init_result"));
        evalAndRun(data.jsHooks.render, elementData(el, "init_result"), [el, data.x]);
      };

      // Only override resize if bindingDef implements it
      if (bindingDef.resize) {
        shinyBinding.resize = function(el, width, height) {
          // Shiny can call resize before initialize/renderValue have been
          // called, which doesn't make sense for widgets.
          if (elementData(el, "initialized")) {
            bindingDef.resize(el, width, height, elementData(el, "init_result"));
          }
        };
      }

      Shiny.outputBindings.register(shinyBinding, bindingDef.name);
    }
  };

  var scheduleStaticRenderTimerId = null;
  function scheduleStaticRender() {
    if (!scheduleStaticRenderTimerId) {
      scheduleStaticRenderTimerId = setTimeout(function() {
        scheduleStaticRenderTimerId = null;
        window.HTMLWidgets.staticRender();
      }, 1);
    }
  }

  // Render static widgets after the document finishes loading
  // Statically render all elements that are of this widget's class
  window.HTMLWidgets.staticRender = function() {
    var bindings = window.HTMLWidgets.widgets || [];
    forEach(bindings, function(binding) {
      var matches = binding.find(document.documentElement);
      forEach(matches, function(el) {
        var sizeObj = initSizing(el, binding);

        var getSize = function(el) {
          if (sizeObj) {
            return {w: sizeObj.getWidth(), h: sizeObj.getHeight()}
          } else {
            var rect = el.getBoundingClientRect();
            return {w: rect.width, h: rect.height}
          }
        };

        if (hasClass(el, "html-widget-static-bound"))
          return;
        el.className = el.className + " html-widget-static-bound";

        var initResult;
        if (binding.initialize) {
          var size = getSize(el);
          initResult = binding.initialize(el, size.w, size.h);
          elementData(el, "init_result", initResult);
        }

        if (binding.resize) {
          var lastSize = getSize(el);
          var resizeHandler = function(e) {
            var size = getSize(el);
            if (size.w === 0 && size.h === 0)
              return;
            if (size.w === lastSize.w && size.h === lastSize.h)
              return;
            lastSize = size;
            binding.resize(el, size.w, size.h, initResult);
          };

          on(window, "resize", resizeHandler);

          // This is needed for cases where we're running in a Shiny
          // app, but the widget itself is not a Shiny output, but
          // rather a simple static widget. One example of this is
          // an rmarkdown document that has runtime:shiny and widget
          // that isn't in a render function. Shiny only knows to
          // call resize handlers for Shiny outputs, not for static
          // widgets, so we do it ourselves.
          if (window.jQuery) {
            window.jQuery(document).on(
              "shown.htmlwidgets shown.bs.tab.htmlwidgets shown.bs.collapse.htmlwidgets",
              resizeHandler
            );
            window.jQuery(document).on(
              "hidden.htmlwidgets hidden.bs.tab.htmlwidgets hidden.bs.collapse.htmlwidgets",
              resizeHandler
            );
          }

          // This is needed for the specific case of ioslides, which
          // flips slides between display:none and display:block.
          // Ideally we would not have to have ioslide-specific code
          // here, but rather have ioslides raise a generic event,
          // but the rmarkdown package just went to CRAN so the
          // window to getting that fixed may be long.
          if (window.addEventListener) {
            // It's OK to limit this to window.addEventListener
            // browsers because ioslides itself only supports
            // such browsers.
            on(document, "slideenter", resizeHandler);
            on(document, "slideleave", resizeHandler);
          }
        }

        var scriptData = document.querySelector("script[data-for='" + el.id + "'][type='application/json']");
        if (scriptData) {
          var data = JSON.parse(scriptData.textContent || scriptData.text);
          // Resolve strings marked as javascript literals to objects
          if (!(data.evals instanceof Array)) data.evals = [data.evals];
          for (var k = 0; data.evals && k < data.evals.length; k++) {
            window.HTMLWidgets.evaluateStringMember(data.x, data.evals[k]);
          }
          binding.renderValue(el, data.x, initResult);
          evalAndRun(data.jsHooks.render, initResult, [el, data.x]);
        }
      });
    });

    invokePostRenderHandlers();
  }


  function has_jQuery3() {
    if (!window.jQuery) {
      return false;
    }
    var $version = window.jQuery.fn.jquery;
    var $major_version = parseInt($version.split(".")[0]);
    return $major_version >= 3;
  }

  /*
  / Shiny 1.4 bumped jQuery from 1.x to 3.x which means jQuery's
  / on-ready handler (i.e., $(fn)) is now asyncronous (i.e., it now
  / really means $(setTimeout(fn)).
  / https://jquery.com/upgrade-guide/3.0/#breaking-change-document-ready-handlers-are-now-asynchronous
  /
  / Since Shiny uses $() to schedule initShiny, shiny>=1.4 calls initShiny
  / one tick later than it did before, which means staticRender() is
  / called renderValue() earlier than (advanced) widget authors might be expecting.
  / https://github.com/rstudio/shiny/issues/2630
  /
  / For a concrete example, leaflet has some methods (e.g., updateBounds)
  / which reference Shiny methods registered in initShiny (e.g., setInputValue).
  / Since leaflet is privy to this life-cycle, it knows to use setTimeout() to
  / delay execution of those methods (until Shiny methods are ready)
  / https://github.com/rstudio/leaflet/blob/18ec981/javascript/src/index.js#L266-L268
  /
  / Ideally widget authors wouldn't need to use this setTimeout() hack that
  / leaflet uses to call Shiny methods on a staticRender(). In the long run,
  / the logic initShiny should be broken up so that method registration happens
  / right away, but binding happens later.
  */
  function maybeStaticRenderLater() {
    if (shinyMode && has_jQuery3()) {
      window.jQuery(window.HTMLWidgets.staticRender);
    } else {
      window.HTMLWidgets.staticRender();
    }
  }

  if (document.addEventListener) {
    document.addEventListener("DOMContentLoaded", function() {
      document.removeEventListener("DOMContentLoaded", arguments.callee, false);
      maybeStaticRenderLater();
    }, false);
  } else if (document.attachEvent) {
    document.attachEvent("onreadystatechange", function() {
      if (document.readyState === "complete") {
        document.detachEvent("onreadystatechange", arguments.callee);
        maybeStaticRenderLater();
      }
    });
  }


  window.HTMLWidgets.getAttachmentUrl = function(depname, key) {
    // If no key, default to the first item
    if (typeof(key) === "undefined")
      key = 1;

    var link = document.getElementById(depname + "-" + key + "-attachment");
    if (!link) {
      throw new Error("Attachment " + depname + "/" + key + " not found in document");
    }
    return link.getAttribute("href");
  };

  window.HTMLWidgets.dataframeToD3 = function(df) {
    var names = [];
    var length;
    for (var name in df) {
        if (df.hasOwnProperty(name))
            names.push(name);
        if (typeof(df[name]) !== "object" || typeof(df[name].length) === "undefined") {
            throw new Error("All fields must be arrays");
        } else if (typeof(length) !== "undefined" && length !== df[name].length) {
            throw new Error("All fields must be arrays of the same length");
        }
        length = df[name].length;
    }
    var results = [];
    var item;
    for (var row = 0; row < length; row++) {
        item = {};
        for (var col = 0; col < names.length; col++) {
            item[names[col]] = df[names[col]][row];
        }
        results.push(item);
    }
    return results;
  };

  window.HTMLWidgets.transposeArray2D = function(array) {
      if (array.length === 0) return array;
      var newArray = array[0].map(function(col, i) {
          return array.map(function(row) {
              return row[i]
          })
      });
      return newArray;
  };
  // Split value at splitChar, but allow splitChar to be escaped
  // using escapeChar. Any other characters escaped by escapeChar
  // will be included as usual (including escapeChar itself).
  function splitWithEscape(value, splitChar, escapeChar) {
    var results = [];
    var escapeMode = false;
    var currentResult = "";
    for (var pos = 0; pos < value.length; pos++) {
      if (!escapeMode) {
        if (value[pos] === splitChar) {
          results.push(currentResult);
          currentResult = "";
        } else if (value[pos] === escapeChar) {
          escapeMode = true;
        } else {
          currentResult += value[pos];
        }
      } else {
        currentResult += value[pos];
        escapeMode = false;
      }
    }
    if (currentResult !== "") {
      results.push(currentResult);
    }
    return results;
  }
  // Function authored by Yihui/JJ Allaire
  window.HTMLWidgets.evaluateStringMember = function(o, member) {
    var parts = splitWithEscape(member, '.', '\\');
    for (var i = 0, l = parts.length; i < l; i++) {
      var part = parts[i];
      // part may be a character or 'numeric' member name
      if (o !== null && typeof o === "object" && part in o) {
        if (i == (l - 1)) { // if we are at the end of the line then evalulate
          if (typeof o[part] === "string")
            o[part] = tryEval(o[part]);
        } else { // otherwise continue to next embedded object
          o = o[part];
        }
      }
    }
  };

  // Retrieve the HTMLWidget instance (i.e. the return value of an
  // HTMLWidget binding's initialize() or factory() function)
  // associated with an element, or null if none.
  window.HTMLWidgets.getInstance = function(el) {
    return elementData(el, "init_result");
  };

  // Finds the first element in the scope that matches the selector,
  // and returns the HTMLWidget instance (i.e. the return value of
  // an HTMLWidget binding's initialize() or factory() function)
  // associated with that element, if any. If no element matches the
  // selector, or the first matching element has no HTMLWidget
  // instance associated with it, then null is returned.
  //
  // The scope argument is optional, and defaults to window.document.
  window.HTMLWidgets.find = function(scope, selector) {
    if (arguments.length == 1) {
      selector = scope;
      scope = document;
    }

    var el = scope.querySelector(selector);
    if (el === null) {
      return null;
    } else {
      return window.HTMLWidgets.getInstance(el);
    }
  };

  // Finds all elements in the scope that match the selector, and
  // returns the HTMLWidget instances (i.e. the return values of
  // an HTMLWidget binding's initialize() or factory() function)
  // associated with the elements, in an array. If elements that
  // match the selector don't have an associated HTMLWidget
  // instance, the returned array will contain nulls.
  //
  // The scope argument is optional, and defaults to window.document.
  window.HTMLWidgets.findAll = function(scope, selector) {
    if (arguments.length == 1) {
      selector = scope;
      scope = document;
    }

    var nodes = scope.querySelectorAll(selector);
    var results = [];
    for (var i = 0; i < nodes.length; i++) {
      results.push(window.HTMLWidgets.getInstance(nodes[i]));
    }
    return results;
  };

  var postRenderHandlers = [];
  function invokePostRenderHandlers() {
    while (postRenderHandlers.length) {
      var handler = postRenderHandlers.shift();
      if (handler) {
        handler();
      }
    }
  }

  // Register the given callback function to be invoked after the
  // next time static widgets are rendered.
  window.HTMLWidgets.addPostRenderHandler = function(callback) {
    postRenderHandlers.push(callback);
  };

  // Takes a new-style instance-bound definition, and returns an
  // old-style class-bound definition. This saves us from having
  // to rewrite all the logic in this file to accomodate both
  // types of definitions.
  function createLegacyDefinitionAdapter(defn) {
    var result = {
      name: defn.name,
      type: defn.type,
      initialize: function(el, width, height) {
        return defn.factory(el, width, height);
      },
      renderValue: function(el, x, instance) {
        return instance.renderValue(x);
      },
      resize: function(el, width, height, instance) {
        return instance.resize(width, height);
      }
    };

    if (defn.find)
      result.find = defn.find;
    if (defn.renderError)
      result.renderError = defn.renderError;
    if (defn.clearError)
      result.clearError = defn.clearError;

    return result;
  }
})();
</script>
<style type="text/css">
.nvd3 .nv-axis {
pointer-events:none;
opacity: 1;
}
.nvd3 .nv-axis path {
fill: none;
stroke: #000;
stroke-opacity: .75;
shape-rendering: crispEdges;
}
.nvd3 .nv-axis path.domain {
stroke-opacity: .75;
}
.nvd3 .nv-axis.nv-x path.domain {
stroke-opacity: 0;
}
.nvd3 .nv-axis line {
fill: none;
stroke: #e5e5e5;
shape-rendering: crispEdges;
}
.nvd3 .nv-axis .zero line,
 .nvd3 .nv-axis line.zero {
stroke-opacity: .75;
}
.nvd3 .nv-axis .nv-axisMaxMin text {
font-weight: bold;
}
.nvd3 .x .nv-axis .nv-axisMaxMin text,
.nvd3 .x2 .nv-axis .nv-axisMaxMin text,
.nvd3 .x3 .nv-axis .nv-axisMaxMin text {
text-anchor: middle
}
.nvd3 .nv-axis.nv-disabled {
opacity: 0;
}
.nvd3 .nv-bars rect {
fill-opacity: .75;
transition: fill-opacity 250ms linear;
-moz-transition: fill-opacity 250ms linear;
-webkit-transition: fill-opacity 250ms linear;
}
.nvd3 .nv-bars rect.hover {
fill-opacity: 1;
}
.nvd3 .nv-bars .hover rect {
fill: lightblue;
}
.nvd3 .nv-bars text {
fill: rgba(0,0,0,0);
}
.nvd3 .nv-bars .hover text {
fill: rgba(0,0,0,1);
}
.nvd3 .nv-multibar .nv-groups rect,
.nvd3 .nv-multibarHorizontal .nv-groups rect,
.nvd3 .nv-discretebar .nv-groups rect {
stroke-opacity: 0;
transition: fill-opacity 250ms linear;
-moz-transition: fill-opacity 250ms linear;
-webkit-transition: fill-opacity 250ms linear;
}
.nvd3 .nv-multibar .nv-groups rect:hover,
.nvd3 .nv-multibarHorizontal .nv-groups rect:hover,
.nvd3 .nv-candlestickBar .nv-ticks rect:hover,
.nvd3 .nv-discretebar .nv-groups rect:hover {
fill-opacity: 1;
}
.nvd3 .nv-discretebar .nv-groups text,
.nvd3 .nv-multibarHorizontal .nv-groups text {
font-weight: bold;
fill: rgba(0,0,0,1);
stroke: rgba(0,0,0,0);
}

.nvd3 .nv-boxplot circle {
fill-opacity: 0.5;
}
.nvd3 .nv-boxplot circle:hover {
fill-opacity: 1;
}
.nvd3 .nv-boxplot rect:hover {
fill-opacity: 1;
}
.nvd3 line.nv-boxplot-median {
stroke: black;
}
.nv-boxplot-tick:hover {
stroke-width: 2.5px;
}

.nvd3.nv-bullet { font: 10px sans-serif; }
.nvd3.nv-bullet .nv-measure { fill-opacity: .8; }
.nvd3.nv-bullet .nv-measure:hover { fill-opacity: 1; }
.nvd3.nv-bullet .nv-marker { stroke: #000; stroke-width: 2px; }
.nvd3.nv-bullet .nv-markerTriangle { stroke: #000; fill: #fff; stroke-width: 1.5px; }
.nvd3.nv-bullet .nv-markerLine { stroke: #000; stroke-width: 1.5px; }
.nvd3.nv-bullet .nv-tick line { stroke: #666; stroke-width: .5px; }
.nvd3.nv-bullet .nv-range.nv-s0 { fill: #eee; }
.nvd3.nv-bullet .nv-range.nv-s1 { fill: #ddd; }
.nvd3.nv-bullet .nv-range.nv-s2 { fill: #ccc; }
.nvd3.nv-bullet .nv-title { font-size: 14px; font-weight: bold; }
.nvd3.nv-bullet .nv-subtitle { fill: #999; }
.nvd3.nv-bullet .nv-range {
fill: #bababa;
fill-opacity: .4;
}
.nvd3.nv-bullet .nv-range:hover {
fill-opacity: .7;
}
.nvd3.nv-candlestickBar .nv-ticks .nv-tick {
stroke-width: 1px;
}
.nvd3.nv-candlestickBar .nv-ticks .nv-tick.hover {
stroke-width: 2px;
}
.nvd3.nv-candlestickBar .nv-ticks .nv-tick.positive rect {
stroke: #2ca02c;
fill: #2ca02c;
}
.nvd3.nv-candlestickBar .nv-ticks .nv-tick.negative rect {
stroke: #d62728;
fill: #d62728;
}
.with-transitions .nv-candlestickBar .nv-ticks .nv-tick {
transition: stroke-width 250ms linear, stroke-opacity 250ms linear;
-moz-transition: stroke-width 250ms linear, stroke-opacity 250ms linear;
-webkit-transition: stroke-width 250ms linear, stroke-opacity 250ms linear;
}
.nvd3.nv-candlestickBar .nv-ticks line {
stroke: #333;
}
.nv-force-node {
stroke: #fff;
stroke-width: 1.5px;
}
.nv-force-link {
stroke: #999;
stroke-opacity: .6;
}
.nv-force-node text {
stroke-width: 0px
}
.nvd3 .nv-legend .nv-disabled rect {

}
.nvd3 .nv-check-box .nv-box {
fill-opacity:0;
stroke-width:2;
}
.nvd3 .nv-check-box .nv-check {
fill-opacity:0;
stroke-width:4;
}
.nvd3 .nv-series.nv-disabled .nv-check-box .nv-check {
fill-opacity:0;
stroke-opacity:0;
}
.nvd3 .nv-controlsWrap .nv-legend .nv-check-box .nv-check {
opacity: 0;
}

.nvd3.nv-linePlusBar .nv-bar rect {
fill-opacity: .75;
}
.nvd3.nv-linePlusBar .nv-bar rect:hover {
fill-opacity: 1;
}
.nvd3 .nv-groups path.nv-line {
fill: none;
}
.nvd3 .nv-groups path.nv-area {
stroke: none;
}
.nvd3.nv-line .nvd3.nv-scatter .nv-groups .nv-point {
fill-opacity: 0;
stroke-opacity: 0;
}
.nvd3.nv-scatter.nv-single-point .nv-groups .nv-point {
fill-opacity: .5 !important;
stroke-opacity: .5 !important;
}
.with-transitions .nvd3 .nv-groups .nv-point {
transition: stroke-width 250ms linear, stroke-opacity 250ms linear;
-moz-transition: stroke-width 250ms linear, stroke-opacity 250ms linear;
-webkit-transition: stroke-width 250ms linear, stroke-opacity 250ms linear;
}
.nvd3.nv-scatter .nv-groups .nv-point.hover,
.nvd3 .nv-groups .nv-point.hover {
stroke-width: 7px;
fill-opacity: .95 !important;
stroke-opacity: .95 !important;
}
.nvd3 .nv-point-paths path {
stroke: #aaa;
stroke-opacity: 0;
fill: #eee;
fill-opacity: 0;
}
.nvd3 .nv-indexLine {
cursor: ew-resize;
}


svg.nvd3-svg {
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-ms-user-select: none;
-moz-user-select: none;
user-select: none;
display: block;
width:100%;
height:100%;
}

.nvtooltip.with-3d-shadow, .with-3d-shadow .nvtooltip {
-moz-box-shadow: 0 5px 10px rgba(0,0,0,.2);
-webkit-box-shadow: 0 5px 10px rgba(0,0,0,.2);
box-shadow: 0 5px 10px rgba(0,0,0,.2);
-webkit-border-radius: 5px;
-moz-border-radius: 5px;
border-radius: 5px;
}
.nvd3 text {
font: normal 12px Arial;
}
.nvd3 .title {
font: bold 14px Arial;
}
.nvd3 .nv-background {
fill: white;
fill-opacity: 0;
}
.nvd3.nv-noData {
font-size: 18px;
font-weight: bold;
}

.nv-brush .extent {
fill-opacity: .125;
shape-rendering: crispEdges;
}
.nv-brush .resize path {
fill: #eee;
stroke: #666;
}

.nvd3 .nv-legend .nv-series {
cursor: pointer;
}
.nvd3 .nv-legend .nv-disabled circle {
fill-opacity: 0;
}

.nvd3 .nv-brush .extent {
fill-opacity: 0 !important;
}
.nvd3 .nv-brushBackground rect {
stroke: #000;
stroke-width: .4;
fill: #fff;
fill-opacity: .7;
}

@media print {
.nvd3 text {
stroke-width: 0;
fill-opacity: 1;
}
}
.nvd3.nv-ohlcBar .nv-ticks .nv-tick {
stroke-width: 1px;
}
.nvd3.nv-ohlcBar .nv-ticks .nv-tick.hover {
stroke-width: 2px;
}
.nvd3.nv-ohlcBar .nv-ticks .nv-tick.positive {
stroke: #2ca02c;
}
.nvd3.nv-ohlcBar .nv-ticks .nv-tick.negative {
stroke: #d62728;
}
.nvd3 .background path {
fill: none;
stroke: #EEE;
stroke-opacity: .4;
shape-rendering: crispEdges;
}
.nvd3 .foreground path {
fill: none;
stroke-opacity: .7;
}
.nvd3 .nv-parallelCoordinates-brush .extent
{
fill: #fff;
fill-opacity: .6;
stroke: gray;
shape-rendering: crispEdges;
}
.nvd3 .nv-parallelCoordinates .hover {
fill-opacity: 1;
stroke-width: 3px;
}
.nvd3 .missingValuesline line {
fill: none;
stroke: black;
stroke-width: 1;
stroke-opacity: 1;
stroke-dasharray: 5, 5;
}
.nvd3.nv-pie path {
stroke-opacity: 0;
transition: fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;
-moz-transition: fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;
-webkit-transition: fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;
}
.nvd3.nv-pie .nv-pie-title {
font-size: 24px;
fill: rgba(19, 196, 249, 0.59);
}
.nvd3.nv-pie .nv-slice text {
stroke: #000;
stroke-width: 0;
}
.nvd3.nv-pie path {
stroke: #fff;
stroke-width: 1px;
stroke-opacity: 1;
}
.nvd3.nv-pie path {
fill-opacity: .7;
}
.nvd3.nv-pie .hover path {
fill-opacity: 1;
}
.nvd3.nv-pie .nv-label {
pointer-events: none;
}
.nvd3.nv-pie .nv-label rect {
fill-opacity: 0;
stroke-opacity: 0;
}

.nvd3 .nv-groups .nv-point.hover {
stroke-width: 20px;
stroke-opacity: .5;
}
.nvd3 .nv-scatter .nv-point.hover {
fill-opacity: 1;
}
.nv-noninteractive {
pointer-events: none;
}
.nv-distx, .nv-disty {
pointer-events: none;
}

.nvd3.nv-sparkline path {
fill: none;
}
.nvd3.nv-sparklineplus g.nv-hoverValue {
pointer-events: none;
}
.nvd3.nv-sparklineplus .nv-hoverValue line {
stroke: #333;
stroke-width: 1.5px;
}
.nvd3.nv-sparklineplus,
.nvd3.nv-sparklineplus g {
pointer-events: all;
}
.nvd3 .nv-hoverArea {
fill-opacity: 0;
stroke-opacity: 0;
}
.nvd3.nv-sparklineplus .nv-xValue,
.nvd3.nv-sparklineplus .nv-yValue {
stroke-width: 0;
font-size: .9em;
font-weight: normal;
}
.nvd3.nv-sparklineplus .nv-yValue {
stroke: #f66;
}
.nvd3.nv-sparklineplus .nv-maxValue {
stroke: #2ca02c;
fill: #2ca02c;
}
.nvd3.nv-sparklineplus .nv-minValue {
stroke: #d62728;
fill: #d62728;
}
.nvd3.nv-sparklineplus .nv-currentValue {
font-weight: bold;
font-size: 1.1em;
}

.nvd3.nv-stackedarea path.nv-area {
fill-opacity: .7;
stroke-opacity: 0;
transition: fill-opacity 250ms linear, stroke-opacity 250ms linear;
-moz-transition: fill-opacity 250ms linear, stroke-opacity 250ms linear;
-webkit-transition: fill-opacity 250ms linear, stroke-opacity 250ms linear;
}
.nvd3.nv-stackedarea path.nv-area.hover {
fill-opacity: .9;
}
.nvd3.nv-stackedarea .nv-groups .nv-point {
stroke-opacity: 0;
fill-opacity: 0;
}
.nvtooltip {
position: absolute;
background-color: white;
color: black;
padding: 1px;
border: 1px solid rgba(0,0,0,.2);
z-index: 10000;
display: block;
font-family: Roboto;
font-size: 13px;
text-align: left;
pointer-events: none;
white-space: nowrap;
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.nvtooltip {
background: white;
border: 1px solid rgba(0,0,0,0.5);
border-radius: 4px;
}

.nvtooltip.with-transitions, .with-transitions .nvtooltip {
transition: opacity 50ms linear;
-moz-transition: opacity 50ms linear;
-webkit-transition: opacity 50ms linear;
transition-delay: 200ms;
-moz-transition-delay: 200ms;
-webkit-transition-delay: 200ms;
}
.nvtooltip.x-nvtooltip,
.nvtooltip.y-nvtooltip {
padding: 8px;
}
.nvtooltip h3 {
margin: 0;
padding: 4px 14px;
line-height: 18px;
font-weight: normal;
background-color: rgba(247,247,247,0.75);
color: rgba(0,0,0,1.0);
text-align: center;
border-bottom: 1px solid #ebebeb;
-webkit-border-radius: 5px 5px 0 0;
-moz-border-radius: 5px 5px 0 0;
border-radius: 5px 5px 0 0;
}
.nvtooltip p {
margin: 0;
padding: 5px 14px;
text-align: center;
}
.nvtooltip span {
display: inline-block;
margin: 2px 0;
}
.nvtooltip table {
margin: 6px;
border-spacing:0;
}
.nvtooltip table td {
padding: 2px 9px 2px 0;
vertical-align: middle;
}
.nvtooltip table td.key {
font-weight: normal;
}
.nvtooltip table td.key.total {
font-weight: bold;
}
.nvtooltip table td.value {
text-align: right;
font-weight: bold;
}
.nvtooltip table td.percent {
color: darkgray;
}
.nvtooltip table tr.highlight td {
padding: 1px 9px 1px 0;
border-bottom-style: solid;
border-bottom-width: 1px;
border-top-style: solid;
border-top-width: 1px;
}
.nvtooltip table td.legend-color-guide div {
width: 8px;
height: 8px;
vertical-align: middle;
}
.nvtooltip table td.legend-color-guide div {
width: 12px;
height: 12px;
border: 1px solid #999;
}
.nvtooltip .footer {
padding: 3px;
text-align: center;
}
.nvtooltip-pending-removal {
pointer-events: none;
display: none;
}

.nvd3 .nv-interactiveGuideLine {
pointer-events:none;
}
.nvd3 line.nv-guideline {
stroke: #ccc;
}

.labelMain {
font-size: 20px;
font-style: italic;
text-decoration: underline;
line-height: 1.2;
font-weight: 500;
color: dimgray;
}
.timeLabel {
font-size: 30px;
text-decoration: underline overline;
text-decoration-color: black;
line-height: 1.2;
font-weight: 500;
color: black;
}
.h1 {
font-size: 18px;
font-style: italic;
line-height: 1.2;
font-weight: 500;
}
h1.stylish-heading {
margin-bottom: 10px;
position: relative;
}
h1.stylish-heading:before,
h1.stylish-heading:after {
position: absolute;
top: -4px;
left: 0;
width: 66px;
height: 1px;
background: dimgray;
content: '';
display: block;
}
h1.stylish-heading:after {
bottom: -14px;
top: auto;
}
h2 {
font-size: 22px;
}
.text-center {
text-align: center;
}
.spacer {
margin-bottom: 30px;
}
.full-width {
width: 100%;
}
.full-height {
height: 100%;
}
.button {
border: 1px solid dimgray;
background-color: white;
color: dimgray;
}
.button:hover {
color: #f6ecec;
background: #00C5CD;
}
button:focus {
outline: none;
}
.button.active {
background-color: #00C5CD;
color: #f6ecec;
border: darkturquoise;
}
.button-primary {
background: #00C5CD;
color: #f6ecec !important;
padding: 5px 20px;
}
.button-primary:hover {
background: #00949a;
}
.heading1 {
grid-column: 1;
grid-row: 1;
justify-self: center;
height: 30px;
}
.heading2 {
grid-column: 2;
grid-row: 1;
justify-self: center;
height: 30px;
}
.heading3 {
grid-column: 3;
grid-row: 1;
justify-self: center;
height: 30px;
}
.heading4 {
grid-column: 1;
grid-row: 3;
justify-self: center;
align-self: end;
}
.heading5 {
grid-column: 3;
grid-row: 3;
justify-self: center;
align-self: end;
}
.tooltip {
position: relative;
display: inline-block;
-webkit-border-radius: 3px;
-moz-border-radius: 3px;
border: 1px solid rgba(0, 0, 0, 0.5);
background: white;
color: black;
font-family: sans-serif, Roboto;
font-size: 13px;
padding: 3px;
pointer-events: none;
max-width: 70px;
}
.name-photo {
display: flex;
justify-content: space-between;
align-self: center;
margin: auto;
}
.headname {
font-family: Roboto, Arial, sans-serif;
font-weight: bold;
font-size: 50px;
}
.chordLabel {
font-family: 'Roboto', Arial, sans-serif;
font-size: 11px;
font-weight: 200;
}
.ribbon {
opacity: 0.8;
}
.inAreas:hover > .ribbon {
opacity: 0.2;
}
.inAreas:hover > .ribbon:hover {
opacity: 1;
}
.glassWrapper {
padding-top: 20px;
max-height: 100%;
display: grid;
grid-template-columns: repeat(3, 1fr);
grid-gap: 1px;
grid-template-rows: repeat(4, 70px);
}
.glass-1 {
grid-column: 1;
grid-row: 1 / 3;
}
.jqvmap-label {
position: absolute;
display: none;
-webkit-border-radius: 3px;
-moz-border-radius: 3px;
border: 1px solid rgba(0, 0, 0, 0.5);
background: white;
color: black;
font-family: sans-serif, Roboto;
font-size: 13px;
padding: 3px;
pointer-events: none;
}
.jqvmap-pin {
pointer-events: none;
}
.jqvmap-zoomin,
.jqvmap-zoomout {
position: absolute;
left: 10px;
border-radius: 3px;
background: #000000;
padding: 3px;
color: white;
width: 10px;
height: 10px;
cursor: pointer;
line-height: 10px;
text-align: center;
}
.jqvmap-zoomin {
top: 10px;
}
.jqvmap-zoomout {
top: 30px;
}
.jqvmap-region {
cursor: pointer;
}
.jqvmap-ajax_response {
width: 80%;
height: 450px;
}
.wrapper {
max-height: 60px;
display: grid;
grid-template-columns: repeat(4, 1fr);
grid-gap: 1px;
}
.button-1 {
grid-column: 1;
grid-row: 1 / 3;
}
.timeLabel {
display: block;
text-align: center;
vertical-align: middle;
}
</style>
<script>!function(){function n(n,t){return t>n?-1:n>t?1:n>=t?0:0/0}function t(n){return null===n?0/0:+n}function e(n){return!isNaN(n)}function r(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)<0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)>0?u=i:r=i+1}return r}}}function u(n){return n.length}function i(n){for(var t=1;n*t%1;)t*=10;return t}function o(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function a(){this._=Object.create(null)}function c(n){return(n+="")===da||n[0]===ma?ma+n:n}function l(n){return(n+="")[0]===ma?n.slice(1):n}function s(n){return c(n)in this._}function f(n){return(n=c(n))in this._&&delete this._[n]}function h(){var n=[];for(var t in this._)n.push(l(t));return n}function g(){var n=0;for(var t in this._)++n;return n}function p(){for(var n in this._)return!1;return!0}function v(){this._=Object.create(null)}function d(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function m(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=ya.length;r>e;++e){var u=ya[e]+t;if(u in n)return u}}function y(){}function M(){}function x(n){function t(){for(var t,r=e,u=-1,i=r.length;++u<i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new a;return t.on=function(t,u){var i,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,i=e.indexOf(o)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function b(){ta.event.preventDefault()}function _(){for(var n,t=ta.event;n=t.sourceEvent;)t=n;return t}function w(n){for(var t=new M,e=0,r=arguments.length;++e<r;)t[arguments[e]]=x(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=ta.event;u.target=n,ta.event=u,t[u.type].apply(e,r)}finally{ta.event=i}}},t}function S(n){return xa(n,ka),n}function k(n){return"function"==typeof n?n:function(){return ba(n,this)}}function E(n){return"function"==typeof n?n:function(){return _a(n,this)}}function A(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ta.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?i:u}function N(n){return n.trim().replace(/\s+/g," ")}function C(n){return new RegExp("(?:^|\\s+)"+ta.requote(n)+"(?:\\s+|$)","g")}function z(n){return(n+"").trim().split(/^|\s+/)}function q(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=z(n).map(L);var u=n.length;return"function"==typeof t?r:e}function L(n){var t=C(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",N(u+" "+n))):e.setAttribute("class",N(u.replace(t," ")))}}function T(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function R(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function D(n){return"function"==typeof n?n:(n=ta.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,n)}}function P(){var n=this.parentNode;n&&n.removeChild(this)}function U(n){return{__data__:n}}function j(n){return function(){return Sa(this,n)}}function F(t){return arguments.length||(t=n),function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}function H(n,t){for(var e=0,r=n.length;r>e;e++)for(var u,i=n[e],o=0,a=i.length;a>o;o++)(u=i[o])&&t(u,o,e);return n}function O(n){return xa(n,Aa),n}function Y(n){var t,e;return function(r,u,i){var o,a=n[i].update,c=a.length;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(o=a[t])&&++t<c;);return o}}function I(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function u(){var u=c(t,ra(arguments));r.call(this),this.addEventListener(n,this[o]=u,u.$=e),u._=t}function i(){var t,e=new RegExp("^__on([^.]+)"+ta.requote(n)+"$");for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),c=Z;a>0&&(n=n.slice(0,a));var l=Ca.get(n);return l&&(n=l,c=V),a?t?u:r:t?y:i}function Z(n,t){return function(e){var r=ta.event;ta.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ta.event=r}}}function V(n,t){var e=Z(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function X(){var n=".dragsuppress-"+ ++qa,t="click"+n,e=ta.select(oa).on("touchmove"+n,b).on("dragstart"+n,b).on("selectstart"+n,b);if(za){var r=ia.style,u=r[za];r[za]="none"}return function(i){if(e.on(n,null),za&&(r[za]=u),i){var o=function(){e.on(t,null)};e.on(t,function(){b(),o()},!0),setTimeout(o,0)}}}function $(n,t){t.changedTouches&&(t=t.changedTouches[0]);var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();if(0>La&&(oa.scrollX||oa.scrollY)){e=ta.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var u=e[0][0].getScreenCTM();La=!(u.f||u.e),e.remove()}return La?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}function B(){return ta.event.changedTouches[0].identifier}function W(){return ta.event.target}function J(){return oa}function G(n){return n>0?1:0>n?-1:0}function K(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function Q(n){return n>1?0:-1>n?Da:Math.acos(n)}function nt(n){return n>1?ja:-1>n?-ja:Math.asin(n)}function tt(n){return((n=Math.exp(n))-1/n)/2}function et(n){return((n=Math.exp(n))+1/n)/2}function rt(n){return((n=Math.exp(2*n))-1)/(n+1)}function ut(n){return(n=Math.sin(n/2))*n}function it(){}function ot(n,t,e){return this instanceof ot?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof ot?new ot(n.h,n.s,n.l):xt(""+n,bt,ot):new ot(n,t,e)}function at(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(o-i)*n/60:180>n?o:240>n?i+(o-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+t):e+t-e*t,i=2*e-o,new dt(u(n+120),u(n),u(n-120))}function ct(n,t,e){return this instanceof ct?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof ct?new ct(n.h,n.c,n.l):n instanceof st?ht(n.l,n.a,n.b):ht((n=_t((n=ta.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new ct(n,t,e)}function lt(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new st(e,Math.cos(n*=Fa)*t,Math.sin(n)*t)}function st(n,t,e){return this instanceof st?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof st?new st(n.l,n.a,n.b):n instanceof ct?lt(n.h,n.c,n.l):_t((n=dt(n)).r,n.g,n.b):new st(n,t,e)}function ft(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=gt(u)*Ja,r=gt(r)*Ga,i=gt(i)*Ka,new dt(vt(3.2404542*u-1.5371385*r-.4985314*i),vt(-.969266*u+1.8760108*r+.041556*i),vt(.0556434*u-.2040259*r+1.0572252*i))}function ht(n,t,e){return n>0?new ct(Math.atan2(e,t)*Ha,Math.sqrt(t*t+e*e),n):new ct(0/0,0/0,n)}function gt(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function pt(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function vt(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function dt(n,t,e){return this instanceof dt?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof dt?new dt(n.r,n.g,n.b):xt(""+n,dt,at):new dt(n,t,e)}function mt(n){return new dt(n>>16,255&n>>8,255&n)}function yt(n){return mt(n)+""}function Mt(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function xt(n,t,e){var r,u,i,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/i.exec(n))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(St(u[0]),St(u[1]),St(u[2]))}return(i=tc.get(n))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&i)>>4,o=o>>4|o,a=240&i,a=a>>4|a,c=15&i,c=c<<4|c):7===n.length&&(o=(16711680&i)>>16,a=(65280&i)>>8,c=255&i)),t(o,a,c))}function bt(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-i,c=(o+i)/2;return a?(u=.5>c?a/(o+i):a/(2-o-i),r=n==o?(t-e)/a+(e>t?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=0/0,u=c>0&&1>c?0:r),new ot(r,u,c)}function _t(n,t,e){n=wt(n),t=wt(t),e=wt(e);var r=pt((.4124564*n+.3575761*t+.1804375*e)/Ja),u=pt((.2126729*n+.7151522*t+.072175*e)/Ga),i=pt((.0193339*n+.119192*t+.9503041*e)/Ka);return st(116*u-16,500*(r-u),200*(u-i))}function wt(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function St(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function kt(n){return"function"==typeof n?n:function(){return n}}function Et(n){return n}function At(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Nt(t,e,n,r)}}function Nt(n,t,e,r){function u(){var n,t=c.status;if(!t&&zt(c)||t>=200&&300>t||304===t){try{n=e.call(i,c)}catch(r){return o.error.call(i,r),void 0}o.load.call(i,n)}else o.error.call(i,c)}var i={},o=ta.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,l=null;return!oa.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=u:c.onreadystatechange=function(){c.readyState>3&&u()},c.onprogress=function(n){var t=ta.event;ta.event=n;try{o.progress.call(i,c)}finally{ta.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(l=n,i):l},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(ra(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),c.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),c.setRequestHeader)for(var s in a)c.setRequestHeader(s,a[s]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=l&&(c.responseType=l),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},ta.rebind(i,o,"on"),null==r?i:i.get(Ct(r))}function Ct(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function zt(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qt(){var n=Lt(),t=Tt()-n;t>24?(isFinite(t)&&(clearTimeout(ic),ic=setTimeout(qt,t)),uc=0):(uc=1,ac(qt))}function Lt(){var n=Date.now();for(oc=ec;oc;)n>=oc.t&&(oc.f=oc.c(n-oc.t)),oc=oc.n;return n}function Tt(){for(var n,t=ec,e=1/0;t;)t.f?t=n?n.n=t.n:ec=t.n:(t.t<e&&(e=t.t),t=(n=t).n);return rc=n,e}function Rt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Dt(n,t){var e=Math.pow(10,3*va(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Pt(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r&&e?function(n,t){for(var u=n.length,i=[],o=0,a=r[0],c=0;u>0&&a>0&&(c+a+1>t&&(a=Math.max(1,t-c)),i.push(n.substring(u-=a,u+a)),!((c+=a+1)>t));)a=r[o=(o+1)%r.length];return i.reverse().join(e)}:Et;return function(n){var e=lc.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",c=e[4]||"",l=e[5],s=+e[6],f=e[7],h=e[8],g=e[9],p=1,v="",d="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===o)&&(l=r="0",o="="),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+g.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===c&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=sc.get(g)||Ut;var M=l&&f;return function(n){var e=d;if(m&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):"-"===a?"":a;if(0>p){var c=ta.formatPrefix(n,h);n=c.scale(n),e=c.symbol+d}else n*=p;n=g(n,h);var x,b,_=n.lastIndexOf(".");if(0>_){var w=y?n.lastIndexOf("e"):-1;0>w?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!l&&f&&(x=i(x,1/0));var S=v.length+x.length+b.length+(M?0:u.length),k=s>S?new Array(S=s-S+1).join(r):"";return M&&(x=i(k+x,k.length?s-b.length:1/0)),u+=v,n=x+b,("<"===o?u+n+k:">"===o?k+u+n:"^"===o?k.substring(0,S>>=1)+u+n+k.substring(S):u+(M?n:k+n))+e}}}function Ut(n){return n+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ft(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new hc(e-1)),1),e}function i(n,e){return t(n=new hc(+n),e),n}function o(n,r,i){var o=u(n),a=[];if(i>1)for(;r>o;)e(o)%i||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{hc=jt;var r=new jt;return r._=n,o(r,t,e)}finally{hc=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=o;var c=n.utc=Ht(n);return c.floor=c,c.round=Ht(r),c.ceil=Ht(u),c.offset=Ht(i),c.range=a,n}function Ht(n){return function(t,e){try{hc=jt;var r=new jt;return r._=t,n(r,e)._}finally{hc=Date}}}function Ot(n){function t(n){function t(t){for(var e,u,i,o=[],a=-1,c=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.slice(c,a)),null!=(u=pc[e=n.charAt(++a)])&&(e=n.charAt(++a)),(i=N[e])&&(e=i(t,null==u?"e"===e?" ":"0":u)),o.push(e),c=a+1);return o.push(n.slice(c,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&hc!==jt,o=new(i?jt:hc);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(0|r.Z/100),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,o,a=0,c=t.length,l=e.length;c>a;){if(r>=l)return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=C[o in pc?t.charAt(a++):o],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){E.lastIndex=0;var r=E.exec(t.slice(e));return r?(n.m=A.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,N.c.toString(),t,r)}function c(n,t,r){return e(n,N.x.toString(),t,r)}function l(n,t,r){return e(n,N.X.toString(),t,r)}function s(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{hc=jt;var t=new hc;return t._=n,r(t)}finally{hc=Date}}var r=t(n);return e.parse=function(n){try{hc=jt;var t=r.parse(n);return t&&t._}finally{hc=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ae;var M=ta.map(),x=It(v),b=Zt(v),_=It(d),w=Zt(d),S=It(m),k=Zt(m),E=It(y),A=Zt(y);p.forEach(function(n,t){M.set(n.toLowerCase(),t)});var N={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return Yt(n.getDate(),t,2)},e:function(n,t){return Yt(n.getDate(),t,2)},H:function(n,t){return Yt(n.getHours(),t,2)},I:function(n,t){return Yt(n.getHours()%12||12,t,2)},j:function(n,t){return Yt(1+fc.dayOfYear(n),t,3)},L:function(n,t){return Yt(n.getMilliseconds(),t,3)},m:function(n,t){return Yt(n.getMonth()+1,t,2)},M:function(n,t){return Yt(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return Yt(n.getSeconds(),t,2)},U:function(n,t){return Yt(fc.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Yt(fc.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return Yt(n.getFullYear()%100,t,2)},Y:function(n,t){return Yt(n.getFullYear()%1e4,t,4)},Z:ie,"%":function(){return"%"}},C={a:r,A:u,b:i,B:o,c:a,d:Qt,e:Qt,H:te,I:te,j:ne,L:ue,m:Kt,M:ee,p:s,S:re,U:Xt,w:Vt,W:$t,x:c,X:l,y:Wt,Y:Bt,Z:Jt,"%":oe};return t}function Yt(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function It(n){return new RegExp("^(?:"+n.map(ta.requote).join("|")+")","i")}function Zt(n){for(var t=new a,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function Vt(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Xt(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function $t(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Bt(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Wt(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e,e+2));return r?(n.y=Gt(+r[0]),e+r[0].length):-1}function Jt(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Gt(n){return n+(n>68?1900:2e3)}function Kt(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Qt(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function ne(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function te(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ee(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function re(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ue(n,t,e){vc.lastIndex=0;var r=vc.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ie(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=0|va(t)/60,u=va(t)%60;return e+Yt(r,"0",2)+Yt(u,"0",2)}function oe(n,t,e){dc.lastIndex=0;var r=dc.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ae(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ce(){}function le(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function se(n,t){n&&xc.hasOwnProperty(n.type)&&xc[n.type](n,t)}function fe(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u<i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function he(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)fe(n[e],t,1);t.polygonEnd()}function ge(){function n(n,t){n*=Fa,t=t*Fa/2+Da/4;var e=n-r,o=e>=0?1:-1,a=o*e,c=Math.cos(t),l=Math.sin(t),s=i*l,f=u*c+s*Math.cos(a),h=s*o*Math.sin(a);_c.add(Math.atan2(h,f)),r=n,u=c,i=l}var t,e,r,u,i;wc.point=function(o,a){wc.point=n,r=(t=o)*Fa,u=Math.cos(a=(e=a)*Fa/2+Da/4),i=Math.sin(a)},wc.lineEnd=function(){n(t,e)}}function pe(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function ve(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function de(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function me(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ye(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Me(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function xe(n){return[Math.atan2(n[1],n[0]),nt(n[2])]}function be(n,t){return va(n[0]-t[0])<Ta&&va(n[1]-t[1])<Ta}function _e(n,t){n*=Fa;var e=Math.cos(t*=Fa);we(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function we(n,t,e){++Sc,Ec+=(n-Ec)/Sc,Ac+=(t-Ac)/Sc,Nc+=(e-Nc)/Sc}function Se(){function n(n,u){n*=Fa;var i=Math.cos(u*=Fa),o=i*Math.cos(n),a=i*Math.sin(n),c=Math.sin(u),l=Math.atan2(Math.sqrt((l=e*c-r*a)*l+(l=r*o-t*c)*l+(l=t*a-e*o)*l),t*o+e*a+r*c);kc+=l,Cc+=l*(t+(t=o)),zc+=l*(e+(e=a)),qc+=l*(r+(r=c)),we(t,e,r)}var t,e,r;Dc.point=function(u,i){u*=Fa;var o=Math.cos(i*=Fa);t=o*Math.cos(u),e=o*Math.sin(u),r=Math.sin(i),Dc.point=n,we(t,e,r)}}function ke(){Dc.point=_e}function Ee(){function n(n,t){n*=Fa;var e=Math.cos(t*=Fa),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),l=u*c-i*a,s=i*o-r*c,f=r*a-u*o,h=Math.sqrt(l*l+s*s+f*f),g=r*o+u*a+i*c,p=h&&-Q(g)/h,v=Math.atan2(h,g);Lc+=p*l,Tc+=p*s,Rc+=p*f,kc+=v,Cc+=v*(r+(r=o)),zc+=v*(u+(u=a)),qc+=v*(i+(i=c)),we(r,u,i)}var t,e,r,u,i;Dc.point=function(o,a){t=o,e=a,Dc.point=n,o*=Fa;var c=Math.cos(a*=Fa);r=c*Math.cos(o),u=c*Math.sin(o),i=Math.sin(a),we(r,u,i)},Dc.lineEnd=function(){n(t,e),Dc.lineEnd=ke,Dc.point=_e}}function Ae(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function Ne(){return!0}function Ce(n,t,e,r,u){var i=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(be(e,r)){u.lineStart();for(var a=0;t>a;++a)u.point((e=n[a])[0],e[1]);return u.lineEnd(),void 0}var c=new qe(e,n,null,!0),l=new qe(e,null,c,!1);c.o=l,i.push(c),o.push(l),c=new qe(r,n,null,!1),l=new qe(r,null,c,!0),c.o=l,i.push(c),o.push(l)}}),o.sort(t),ze(i),ze(o),i.length){for(var a=0,c=e,l=o.length;l>a;++a)o[a].e=c=!c;for(var s,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;s=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var a=0,l=s.length;l>a;++a)u.point((f=s[a])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){s=g.p.z;for(var a=s.length-1;a>=0;--a)u.point((f=s[a])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,s=g.z,p=!p}while(!g.v);u.lineEnd()}}}function ze(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r<t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function qe(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Le(n,t,e,r){return function(u,i){function o(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function a(n,t){var e=u(n,t);d.point(e[0],e[1])}function c(){y.point=a,d.lineStart()}function l(){y.point=o,d.lineEnd()}function s(n,t){v.push([n,t]);var e=u(n,t);x.point(e[0],e[1])}function f(){x.lineStart(),v=[]}function h(){s(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r)if(1&t){n=e[0];var u,r=n.length-1,o=-1;if(r>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++o<r;)i.point((u=n[o])[0],u[1]);i.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Te))}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={point:o,lineStart:c,lineEnd:l,polygonStart:function(){y.point=s,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=c,y.lineEnd=l,g=ta.merge(g);var n=Fe(m,p);g.length?(b||(i.polygonStart(),b=!0),Ce(g,De,n,e,i)):n&&(b||(i.polygonStart(),b=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},M=Re(),x=t(M),b=!1;return y}}function Te(n){return n.length>1}function Re(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:y,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function De(n,t){return((n=n.x)[0]<0?n[1]-ja-Ta:ja-n[1])-((t=t.x)[0]<0?t[1]-ja-Ta:ja-t[1])}function Pe(n){var t,e=0/0,r=0/0,u=0/0;return{lineStart:function(){n.lineStart(),t=1},point:function(i,o){var a=i>0?Da:-Da,c=va(i-e);va(c-Da)<Ta?(n.point(e,r=(r+o)/2>0?ja:-ja),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(i,r),t=0):u!==a&&c>=Da&&(va(e-u)<Ta&&(e-=u*Ta),va(i-a)<Ta&&(i-=a*Ta),r=Ue(e,r,i,o),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=i,r=o),u=a},lineEnd:function(){n.lineEnd(),e=r=0/0},clean:function(){return 2-t}}}function Ue(n,t,e,r){var u,i,o=Math.sin(n-e);return va(o)>Ta?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*o)):(t+r)/2}function je(n,t,e,r){var u;if(null==n)u=e*ja,r.point(-Da,u),r.point(0,u),r.point(Da,u),r.point(Da,0),r.point(Da,-u),r.point(0,-u),r.point(-Da,-u),r.point(-Da,0),r.point(-Da,u);else if(va(n[0]-t[0])>Ta){var i=n[0]<t[0]?Da:-Da;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function Fe(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,o=0;_c.reset();for(var a=0,c=t.length;c>a;++a){var l=t[a],s=l.length;if(s)for(var f=l[0],h=f[0],g=f[1]/2+Da/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===s&&(d=0),n=l[d];var m=n[0],y=n[1]/2+Da/4,M=Math.sin(y),x=Math.cos(y),b=m-h,_=b>=0?1:-1,w=_*b,S=w>Da,k=p*M;if(_c.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),i+=S?b+_*Pa:b,S^h>=e^m>=e){var E=de(pe(f),pe(n));Me(E);var A=de(u,E);Me(A);var N=(S^b>=0?-1:1)*nt(A[2]);(r>N||r===N&&(E[0]||E[1]))&&(o+=S^b>=0?1:-1)}if(!d++)break;h=m,p=M,v=x,f=n}}return(-Ta>i||Ta>i&&0>_c)^1&o}function He(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,c,l,s;return{lineStart:function(){l=c=!1,s=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=o?v?0:u(f,h):v?u(f+(0>f?Da:-Da),h):0;if(!e&&(l=c=v)&&n.lineStart(),v!==c&&(g=r(e,p),(be(e,g)||be(p,g))&&(p[0]+=Ta,p[1]+=Ta,v=t(p[0],p[1]))),v!==c)s=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(a&&e&&o^v){var m;d&i||!(m=r(p,e,!0))||(s=0,o?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&&be(e,p)||n.point(p[0],p[1]),e=p,c=v,i=d},lineEnd:function(){c&&n.lineEnd(),e=null},clean:function(){return s|(l&&c)<<1}}}function r(n,t,e){var r=pe(n),u=pe(t),o=[1,0,0],a=de(r,u),c=ve(a,a),l=a[0],s=c-l*l;if(!s)return!e&&n;var f=i*c/s,h=-i*l/s,g=de(o,a),p=ye(o,f),v=ye(a,h);me(p,v);var d=g,m=ve(p,d),y=ve(d,d),M=m*m-y*(ve(p,p)-1);if(!(0>M)){var x=Math.sqrt(M),b=ye(d,(-m-x)/y);if(me(b,p),b=xe(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],E=t[1];w>S&&(_=w,w=S,S=_);var A=S-w,N=va(A-Da)<Ta,C=N||Ta>A;if(!N&&k>E&&(_=k,k=E,E=_),C?N?k+E>0^b[1]<(va(b[0]-w)<Ta?k:E):k<=b[1]&&b[1]<=E:A>Da^(w<=b[0]&&b[0]<=S)){var z=ye(d,(-m+x)/y);return me(z,p),[b,xe(z)]}}}function u(t,e){var r=o?n:Da-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),o=i>0,a=va(i)>Ta,c=gr(n,6*Fa);return Le(t,e,c,o?[0,-n]:[-Da,n-Da])}function Oe(n,t,e,r){return function(u){var i,o=u.a,a=u.b,c=o.x,l=o.y,s=a.x,f=a.y,h=0,g=1,p=s-c,v=f-l;if(i=n-c,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-c,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}if(i=t-l,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-l,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}return h>0&&(u.a={x:c+h*p,y:l+h*v}),1>g&&(u.b={x:c+g*p,y:l+g*v}),u}}}}}}function Ye(n,t,e,r){function u(r,u){return va(r[0]-n)<Ta?u>0?0:3:va(r[0]-e)<Ta?u>0?2:1:va(r[1]-t)<Ta?u>0?1:0:u>0?3:2}function i(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){for(var t=0,e=d.length,r=n[1],u=0;e>u;++u)for(var i,o=1,a=d[u],c=a.length,l=a[0];c>o;++o)i=a[o],l[1]<=r?i[1]>r&&K(l,i,n)>0&&++t:i[1]<=r&&K(l,i,n)<0&&--t,l=i;return 0!==t}function l(i,a,c,l){var s=0,f=0;if(null==i||(s=u(i,c))!==(f=u(a,c))||o(i,a)<0^c>0){do l.point(0===s||3===s?n:e,s>1?r:t);while((s=(s+c+4)%4)!==f)}else l.point(a[0],a[1])}function s(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function f(n,t){s(n,t)&&a.point(n,t)}function h(){C.point=p,d&&d.push(m=[]),S=!0,w=!1,b=_=0/0}function g(){v&&(p(y,M),x&&w&&A.rejoin(),v.push(A.buffer())),C.point=f,w&&a.lineEnd()}function p(n,t){n=Math.max(-Uc,Math.min(Uc,n)),t=Math.max(-Uc,Math.min(Uc,t));var e=s(n,t);if(d&&m.push([n,t]),S)y=n,M=t,x=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};N(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,m,y,M,x,b,_,w,S,k,E=a,A=Re(),N=Oe(n,t,e,r),C={point:f,lineStart:h,lineEnd:g,polygonStart:function(){a=A,v=[],d=[],k=!0},polygonEnd:function(){a=E,v=ta.merge(v);var t=c([n,r]),e=k&&t,u=v.length;(e||u)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),u&&Ce(v,i,t,l,a),a.polygonEnd()),v=d=m=null}};return C}}function Ie(n){var t=0,e=Da/3,r=ir(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*Da/180,e=n[1]*Da/180):[180*(t/Da),180*(e/Da)]},u}function Ze(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),o-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),o=Math.sqrt(i)/u;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/u,nt((i-(n*n+e*e)*u*u)/(2*u))]},e}function Ve(){function n(n,t){Fc+=u*n-r*t,r=n,u=t}var t,e,r,u;Zc.point=function(i,o){Zc.point=n,t=r=i,e=u=o},Zc.lineEnd=function(){n(t,e)}}function Xe(n,t){Hc>n&&(Hc=n),n>Yc&&(Yc=n),Oc>t&&(Oc=t),t>Ic&&(Ic=t)}function $e(){function n(n,t){o.push("M",n,",",t,i)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function u(){o.push("Z")}var i=Be(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return i=Be(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Be(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function We(n,t){Ec+=n,Ac+=t,++Nc}function Je(){function n(n,r){var u=n-t,i=r-e,o=Math.sqrt(u*u+i*i);Cc+=o*(t+n)/2,zc+=o*(e+r)/2,qc+=o,We(t=n,e=r)}var t,e;Xc.point=function(r,u){Xc.point=n,We(t=r,e=u)}}function Ge(){Xc.point=We}function Ke(){function n(n,t){var e=n-r,i=t-u,o=Math.sqrt(e*e+i*i);Cc+=o*(r+n)/2,zc+=o*(u+t)/2,qc+=o,o=u*n-r*t,Lc+=o*(r+n),Tc+=o*(u+t),Rc+=3*o,We(r=n,u=t)}var t,e,r,u;Xc.point=function(i,o){Xc.point=n,We(t=r=i,e=u=o)},Xc.lineEnd=function(){n(t,e)}}function Qe(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,Pa)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function u(){a.point=t}function i(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:u,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(n){return o=n,a},result:y};return a}function nr(n){function t(n){return(a?r:e)(n)}function e(t){return rr(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=0/0,S.point=i,t.lineStart()}function i(e,r){var i=pe([e,r]),o=n(e,r);u(M,x,y,b,_,w,M=o[0],x=o[1],y=e,b=i[0],_=i[1],w=i[2],a,t),t.point(M,x)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=l,S.lineEnd=s}function l(n,t){i(f=n,h=t),g=M,p=x,v=b,d=_,m=w,S.point=i}function s(){u(M,x,y,b,_,w,g,p,f,v,d,m,a,t),S.lineEnd=o,o()}var f,h,g,p,v,d,m,y,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=c},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,a,c,l,s,f,h,g,p,v,d,m){var y=s-t,M=f-e,x=y*y+M*M;if(x>4*i&&d--){var b=a+g,_=c+p,w=l+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),E=va(va(w)-1)<Ta||va(r-h)<Ta?(r+h)/2:Math.atan2(_,b),A=n(E,k),N=A[0],C=A[1],z=N-t,q=C-e,L=M*z-y*q;
(L*L/x>i||va((y*z+M*q)/x-.5)>.3||o>a*g+c*p+l*v)&&(u(t,e,r,a,c,l,N,C,E,b/=S,_/=S,w,d,m),m.point(N,C),u(N,C,E,b,_,w,s,f,h,g,p,v,d,m))}}var i=.5,o=Math.cos(30*Fa),a=16;return t.precision=function(n){return arguments.length?(a=(i=n*n)>0&&16,t):Math.sqrt(i)},t}function tr(n){var t=nr(function(t,e){return n([t*Ha,e*Ha])});return function(n){return or(t(n))}}function er(n){this.stream=n}function rr(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ur(n){return ir(function(){return n})()}function ir(n){function t(n){return n=a(n[0]*Fa,n[1]*Fa),[n[0]*h+c,l-n[1]*h]}function e(n){return n=a.invert((n[0]-c)/h,(l-n[1])/h),n&&[n[0]*Ha,n[1]*Ha]}function r(){a=Ae(o=lr(m,y,M),i);var n=i(v,d);return c=g-n[0]*h,l=p+n[1]*h,u()}function u(){return s&&(s.valid=!1,s=null),t}var i,o,a,c,l,s,f=nr(function(n,t){return n=i(n,t),[n[0]*h+c,l-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,y=0,M=0,x=Pc,b=Et,_=null,w=null;return t.stream=function(n){return s&&(s.valid=!1),s=or(x(o,f(b(n)))),s.valid=!0,s},t.clipAngle=function(n){return arguments.length?(x=null==n?(_=n,Pc):He((_=+n)*Fa),u()):_},t.clipExtent=function(n){return arguments.length?(w=n,b=n?Ye(n[0][0],n[0][1],n[1][0],n[1][1]):Et,u()):w},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Fa,d=n[1]%360*Fa,r()):[v*Ha,d*Ha]},t.rotate=function(n){return arguments.length?(m=n[0]%360*Fa,y=n[1]%360*Fa,M=n.length>2?n[2]%360*Fa:0,r()):[m*Ha,y*Ha,M*Ha]},ta.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function or(n){return rr(n,function(t,e){n.point(t*Fa,e*Fa)})}function ar(n,t){return[n,t]}function cr(n,t){return[n>Da?n-Pa:-Da>n?n+Pa:n,t]}function lr(n,t,e){return n?t||e?Ae(fr(n),hr(t,e)):fr(n):t||e?hr(t,e):cr}function sr(n){return function(t,e){return t+=n,[t>Da?t-Pa:-Da>t?t+Pa:t,e]}}function fr(n){var t=sr(n);return t.invert=sr(-n),t}function hr(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*r+a*u;return[Math.atan2(c*i-s*o,a*r-l*u),nt(s*i+c*o)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*i-c*o;return[Math.atan2(c*i+l*o,a*r+s*u),nt(s*r-a*u)]},e}function gr(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,o,a){var c=o*t;null!=u?(u=pr(e,u),i=pr(e,i),(o>0?i>u:u>i)&&(u+=o*Pa)):(u=n+o*Pa,i=n-.5*c);for(var l,s=u;o>0?s>i:i>s;s-=c)a.point((l=xe([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],l[1])}}function pr(n,t){var e=pe(t);e[0]-=n,Me(e);var r=Q(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Ta)%(2*Math.PI)}function vr(n,t,e){var r=ta.range(n,t-Ta,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function dr(n,t,e){var r=ta.range(n,t-Ta,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function mr(n){return n.source}function yr(n){return n.target}function Mr(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=u*Math.cos(n),l=u*Math.sin(n),s=o*Math.cos(e),f=o*Math.sin(e),h=2*Math.asin(Math.sqrt(ut(r-t)+u*o*ut(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*c+t*s,u=e*l+t*f,o=e*i+t*a;return[Math.atan2(u,r)*Ha,Math.atan2(o,Math.sqrt(r*r+u*u))*Ha]}:function(){return[n*Ha,t*Ha]};return p.distance=h,p}function xr(){function n(n,u){var i=Math.sin(u*=Fa),o=Math.cos(u),a=va((n*=Fa)-t),c=Math.cos(a);$c+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*i-e*o*c)*a),e*i+r*o*c),t=n,e=i,r=o}var t,e,r;Bc.point=function(u,i){t=u*Fa,e=Math.sin(i*=Fa),r=Math.cos(i),Bc.point=n},Bc.lineEnd=function(){Bc.point=Bc.lineEnd=y}}function br(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(n*i,r*o),Math.asin(r&&e*i/r)]},e}function _r(n,t){function e(n,t){o>0?-ja+Ta>t&&(t=-ja+Ta):t>ja-Ta&&(t=ja-Ta);var e=o/Math.pow(u(t),i);return[e*Math.sin(i*n),o-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(Da/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),o=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=G(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(o/r,1/i))-ja]},e):Sr}function wr(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return va(u)<Ta?ar:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-G(u)*Math.sqrt(n*n+e*e)]},e)}function Sr(n,t){return[n,Math.log(Math.tan(Da/4+t/2))]}function kr(n){var t,e=ur(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=i.apply(e,arguments);if(o===e){if(t=null==n){var a=Da*r(),c=u();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Er(n,t){return[Math.log(Math.tan(Da/4+t/2)),-n]}function Ar(n){return n[0]}function Nr(n){return n[1]}function Cr(n){for(var t=n.length,e=[0,1],r=2,u=2;t>u;u++){for(;r>1&&K(n[e[r-2]],n[e[r-1]],n[u])<=0;)--r;e[r++]=u}return e.slice(0,r)}function zr(n,t){return n[0]-t[0]||n[1]-t[1]}function qr(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Lr(n,t,e,r){var u=n[0],i=e[0],o=t[0]-u,a=r[0]-i,c=n[1],l=e[1],s=t[1]-c,f=r[1]-l,h=(a*(c-l)-f*(u-i))/(f*o-a*s);return[u+h*o,c+h*s]}function Tr(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Rr(){tu(this),this.edge=this.site=this.circle=null}function Dr(n){var t=ol.pop()||new Rr;return t.site=n,t}function Pr(n){Xr(n),rl.remove(n),ol.push(n),tu(n)}function Ur(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,o=n.N,a=[n];Pr(n);for(var c=i;c.circle&&va(e-c.circle.x)<Ta&&va(r-c.circle.cy)<Ta;)i=c.P,a.unshift(c),Pr(c),c=i;a.unshift(c),Xr(c);for(var l=o;l.circle&&va(e-l.circle.x)<Ta&&va(r-l.circle.cy)<Ta;)o=l.N,a.push(l),Pr(l),l=o;a.push(l),Xr(l);var s,f=a.length;for(s=1;f>s;++s)l=a[s],c=a[s-1],Kr(l.edge,c.site,l.site,u);c=a[0],l=a[f-1],l.edge=Jr(c.site,l.site,null,u),Vr(c),Vr(l)}function jr(n){for(var t,e,r,u,i=n.x,o=n.y,a=rl._;a;)if(r=Fr(a,o)-i,r>Ta)a=a.L;else{if(u=i-Hr(a,o),!(u>Ta)){r>-Ta?(t=a.P,e=a):u>-Ta?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=Dr(n);if(rl.insert(t,c),t||e){if(t===e)return Xr(t),e=Dr(t.site),rl.insert(c,e),c.edge=e.edge=Jr(t.site,c.site),Vr(t),Vr(e),void 0;if(!e)return c.edge=Jr(t.site,c.site),void 0;Xr(t),Xr(e);var l=t.site,s=l.x,f=l.y,h=n.x-s,g=n.y-f,p=e.site,v=p.x-s,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,M=v*v+d*d,x={x:(d*y-g*M)/m+s,y:(h*M-v*y)/m+f};Kr(e.edge,l,p,x),c.edge=Jr(l,n,null,x),e.edge=Jr(n,p,null,x),Vr(t),Vr(e)}}function Fr(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var o=n.P;if(!o)return-1/0;e=o.site;var a=e.x,c=e.y,l=c-t;if(!l)return a;var s=a-r,f=1/i-1/l,h=s/l;return f?(-h+Math.sqrt(h*h-2*f*(s*s/(-2*l)-c+l/2+u-i/2)))/f+r:(r+a)/2}function Hr(n,t){var e=n.N;if(e)return Fr(e,t);var r=n.site;return r.y===t?r.x:1/0}function Or(n){this.site=n,this.edges=[]}function Yr(n){for(var t,e,r,u,i,o,a,c,l,s,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=el,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(a=i.edges,c=a.length,o=0;c>o;)s=a[o].end(),r=s.x,u=s.y,l=a[++o%c].start(),t=l.x,e=l.y,(va(r-t)>Ta||va(u-e)>Ta)&&(a.splice(o,0,new Qr(Gr(i.site,s,va(r-f)<Ta&&p-u>Ta?{x:f,y:va(t-f)<Ta?e:p}:va(u-p)<Ta&&h-r>Ta?{x:va(e-p)<Ta?t:h,y:p}:va(r-h)<Ta&&u-g>Ta?{x:h,y:va(t-h)<Ta?e:g}:va(u-g)<Ta&&r-f>Ta?{x:va(e-g)<Ta?t:f,y:g}:null),i.site,null)),++c)}function Ir(n,t){return t.angle-n.angle}function Zr(){tu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vr(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var o=u.x,a=u.y,c=r.x-o,l=r.y-a,s=i.x-o,f=i.y-a,h=2*(c*f-l*s);if(!(h>=-Ra)){var g=c*c+l*l,p=s*s+f*f,v=(f*g-l*p)/h,d=(c*p-s*g)/h,f=d+a,m=al.pop()||new Zr;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,M=il._;M;)if(m.y<M.y||m.y===M.y&&m.x<=M.x){if(!M.L){y=M.P;break}M=M.L}else{if(!M.R){y=M;break}M=M.R}il.insert(y,m),y||(ul=m)}}}}function Xr(n){var t=n.circle;t&&(t.P||(ul=t.N),il.remove(t),al.push(t),tu(t),n.circle=null)}function $r(n){for(var t,e=tl,r=Oe(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!Br(t,n)||!r(t)||va(t.a.x-t.b.x)<Ta&&va(t.a.y-t.b.y)<Ta)&&(t.a=t.b=null,e.splice(u,1))}function Br(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,o=t[0][0],a=t[1][0],c=t[0][1],l=t[1][1],s=n.l,f=n.r,h=s.x,g=s.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(o>d||d>=a)return;if(h>p){if(i){if(i.y>=l)return}else i={x:d,y:c};e={x:d,y:l}}else{if(i){if(i.y<c)return}else i={x:d,y:l};e={x:d,y:c}}}else if(r=(h-p)/(v-g),u=m-r*d,-1>r||r>1)if(h>p){if(i){if(i.y>=l)return}else i={x:(c-u)/r,y:c};e={x:(l-u)/r,y:l}}else{if(i){if(i.y<c)return}else i={x:(l-u)/r,y:l};e={x:(c-u)/r,y:c}}else if(v>g){if(i){if(i.x>=a)return}else i={x:o,y:r*o+u};e={x:a,y:r*a+u}}else{if(i){if(i.x<o)return}else i={x:a,y:r*a+u};e={x:o,y:r*o+u}}return n.a=i,n.b=e,!0}function Wr(n,t){this.l=n,this.r=t,this.a=this.b=null}function Jr(n,t,e,r){var u=new Wr(n,t);return tl.push(u),e&&Kr(u,n,t,e),r&&Kr(u,t,n,r),el[n.i].edges.push(new Qr(u,n,t)),el[t.i].edges.push(new Qr(u,t,n)),u}function Gr(n,t,e){var r=new Wr(n,null);return r.a=t,r.b=e,tl.push(r),r}function Kr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function Qr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function nu(){this._=null}function tu(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function eu(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ru(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function uu(n){for(;n.L;)n=n.L;return n}function iu(n,t){var e,r,u,i=n.sort(ou).pop();for(tl=[],el=new Array(n.length),rl=new nu,il=new nu;;)if(u=ul,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))(i.x!==e||i.y!==r)&&(el[i.i]=new Or(i),jr(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Ur(u.arc)}t&&($r(t),Yr(t));var o={cells:el,edges:tl};return rl=il=tl=el=null,o}function ou(n,t){return t.y-n.y||t.x-n.x}function au(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function cu(n){return n.x}function lu(n){return n.y}function su(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fu(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var o=.5*(e+u),a=.5*(r+i),c=t.nodes;c[0]&&fu(n,c[0],e,r,o,a),c[1]&&fu(n,c[1],o,r,u,a),c[2]&&fu(n,c[2],e,a,o,i),c[3]&&fu(n,c[3],o,a,u,i)}}function hu(n,t,e,r,u,i,o){var a,c=1/0;return function l(n,s,f,h,g){if(!(s>i||f>o||r>h||u>g)){if(p=n.point){var p,v=t-p[0],d=e-p[1],m=v*v+d*d;if(c>m){var y=Math.sqrt(c=m);r=t-y,u=e-y,i=t+y,o=e+y,a=p}}for(var M=n.nodes,x=.5*(s+h),b=.5*(f+g),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;k>S;++S)if(n=M[3&S])switch(3&S){case 0:l(n,s,f,x,b);break;case 1:l(n,x,f,h,b);break;case 2:l(n,s,b,x,g);break;case 3:l(n,x,b,h,g)}}}(n,r,u,i,o),a}function gu(n,t){n=ta.rgb(n),t=ta.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,o=t.g-r,a=t.b-u;return function(n){return"#"+Mt(Math.round(e+i*n))+Mt(Math.round(r+o*n))+Mt(Math.round(u+a*n))}}function pu(n,t){var e,r={},u={};for(e in n)e in t?r[e]=mu(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function vu(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function du(n,t){var e,r,u,i=ll.lastIndex=sl.lastIndex=0,o=-1,a=[],c=[];for(n+="",t+="";(e=ll.exec(n))&&(r=sl.exec(t));)(u=r.index)>i&&(u=t.slice(i,u),a[o]?a[o]+=u:a[++o]=u),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:vu(e,r)})),i=sl.lastIndex;return i<t.length&&(u=t.slice(i),a[o]?a[o]+=u:a[++o]=u),a.length<2?c[0]?(t=c[0].x,function(n){return t(n)+""}):function(){return t}:(t=c.length,function(n){for(var e,r=0;t>r;++r)a[(e=c[r]).i]=e.x(n);return a.join("")})}function mu(n,t){for(var e,r=ta.interpolators.length;--r>=0&&!(e=ta.interpolators[r](n,t)););return e}function yu(n,t){var e,r=[],u=[],i=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;a>e;++e)r.push(mu(n[e],t[e]));for(;i>e;++e)u[e]=n[e];for(;o>e;++e)u[e]=t[e];return function(n){for(e=0;a>e;++e)u[e]=r[e](n);return u}}function Mu(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function xu(n){return function(t){return 1-n(1-t)}}function bu(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function _u(n){return n*n}function wu(n){return n*n*n}function Su(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function ku(n){return function(t){return Math.pow(t,n)}}function Eu(n){return 1-Math.cos(n*ja)}function Au(n){return Math.pow(2,10*(n-1))}function Nu(n){return 1-Math.sqrt(1-n*n)}function Cu(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/Pa*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*Pa/t)}}function zu(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function qu(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Lu(n,t){n=ta.hcl(n),t=ta.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,o=t.c-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return lt(e+i*n,r+o*n,u+a*n)+""}}function Tu(n,t){n=ta.hsl(n),t=ta.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,o=t.s-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return at(e+i*n,r+o*n,u+a*n)+""}}function Ru(n,t){n=ta.lab(n),t=ta.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,o=t.a-r,a=t.b-u;return function(n){return ft(e+i*n,r+o*n,u+a*n)+""}}function Du(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Pu(n){var t=[n.a,n.b],e=[n.c,n.d],r=ju(t),u=Uu(t,e),i=ju(Fu(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Ha,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Ha:0}function Uu(n,t){return n[0]*t[0]+n[1]*t[1]}function ju(n){var t=Math.sqrt(Uu(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Fu(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Hu(n,t){var e,r=[],u=[],i=ta.transform(n),o=ta.transform(t),a=i.translate,c=o.translate,l=i.rotate,s=o.rotate,f=i.skew,h=o.skew,g=i.scale,p=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push("translate(",null,",",null,")"),u.push({i:1,x:vu(a[0],c[0])},{i:3,x:vu(a[1],c[1])})):c[0]||c[1]?r.push("translate("+c+")"):r.push(""),l!=s?(l-s>180?s+=360:s-l>180&&(l+=360),u.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vu(l,s)})):s&&r.push(r.pop()+"rotate("+s+")"),f!=h?u.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vu(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),u.push({i:e-4,x:vu(g[0],p[0])},{i:e-2,x:vu(g[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),e=u.length,function(n){for(var t,i=-1;++i<e;)r[(t=u[i]).i]=t.x(n);return r.join("")}}function Ou(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Yu(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Iu(n){for(var t=n.source,e=n.target,r=Vu(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Zu(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Vu(n,t){if(n===t)return n;for(var e=Zu(n),r=Zu(t),u=e.pop(),i=r.pop(),o=null;u===i;)o=u,u=e.pop(),i=r.pop();return o}function Xu(n){n.fixed|=2}function $u(n){n.fixed&=-7}function Bu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Wu(n){n.fixed&=-5}function Ju(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,o=n.nodes,a=o.length,c=-1;++c<a;)i=o[c],null!=i&&(Ju(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=t*e[n.point.index];n.charge+=n.pointCharge=l,r+=l*n.point.x,u+=l*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function Gu(n,t){return ta.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=ri,n}function Ku(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(u=n.children)&&(r=u.length))for(var r,u;--r>=0;)e.push(u[r])}function Qu(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(i=n.children)&&(u=i.length))for(var u,i,o=-1;++o<u;)e.push(i[o]);for(;null!=(n=r.pop());)t(n)}function ni(n){return n.children}function ti(n){return n.value}function ei(n,t){return t.value-n.value}function ri(n){return ta.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function ui(n){return n.x}function ii(n){return n.y}function oi(n,t,e){n.y0=t,n.y=e}function ai(n){return ta.range(n.length)}function ci(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function li(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i>e;++e)(t=n[e][1])>u&&(r=e,u=t);return r}function si(n){return n.reduce(fi,0)}function fi(n,t){return n+t[1]}function hi(n,t){return gi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function gi(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function pi(n){return[ta.min(n),ta.max(n)]}function vi(n,t){return n.value-t.value}function di(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function mi(n,t){n._pack_next=t,t._pack_prev=n}function yi(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function Mi(n){function t(n){s=Math.min(n.x-n.r,s),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(l=e.length)){var e,r,u,i,o,a,c,l,s=1/0,f=-1/0,h=1/0,g=-1/0;if(e.forEach(xi),r=e[0],r.x=-r.r,r.y=0,t(r),l>1&&(u=e[1],u.x=u.r,u.y=0,t(u),l>2))for(i=e[2],wi(r,u,i),t(i),di(r,i),r._pack_prev=i,di(i,u),u=r._pack_next,o=3;l>o;o++){wi(r,u,i=e[o]);var p=0,v=1,d=1;for(a=u._pack_next;a!==u;a=a._pack_next,v++)if(yi(a,i)){p=1;break}if(1==p)for(c=r._pack_prev;c!==a._pack_prev&&!yi(c,i);c=c._pack_prev,d++);p?(d>v||v==d&&u.r<r.r?mi(r,u=a):mi(r=c,u),o--):(di(r,i),u=i,t(i))}var m=(s+f)/2,y=(h+g)/2,M=0;for(o=0;l>o;o++)i=e[o],i.x-=m,i.y-=y,M=Math.max(M,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=M,e.forEach(bi)}}function xi(n){n._pack_next=n._pack_prev=n}function bi(n){delete n._pack_next,delete n._pack_prev}function _i(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,o=u.length;++i<o;)_i(u[i],t,e,r)}function wi(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){var o=t.r+e.r,a=u*u+i*i;o*=o,r*=r;var c=.5+(r-o)/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*u+l*i,e.y=n.y+c*i-l*u}else e.x=n.x+r,e.y=n.y}function Si(n,t){return n.parent==t.parent?1:2}function ki(n){var t=n.children;return t.length?t[0]:n.t}function Ei(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ai(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Ni(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i>=0;)t=u[i],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Ci(n,t,e){return n.a.parent===t.parent?n.a:e}function zi(n){return 1+ta.max(n,function(n){return n.y})}function qi(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Li(n){var t=n.children;return t&&t.length?Li(t[0]):n}function Ti(n){var t,e=n.children;return e&&(t=e.length)?Ti(e[t-1]):n}function Ri(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Di(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function Pi(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Ui(n){return n.rangeExtent?n.rangeExtent():Pi(n.range())}function ji(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Fi(n,t){var e,r=0,u=n.length-1,i=n[r],o=n[u];return i>o&&(e=r,r=u,u=e,e=i,i=o,o=e),n[r]=t.floor(i),n[u]=t.ceil(o),n}function Hi(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:bl}function Oi(n,t,e,r){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)u.push(e(n[o-1],n[o])),i.push(r(t[o-1],t[o]));return function(t){var e=ta.bisect(n,t,1,a)-1;return i[e](u[e](t))}}function Yi(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Oi:ji,c=r?Yu:Ou;return o=u(n,t,c,e),a=u(t,n,c,mu),i}function i(n){return o(n)}var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Du)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Xi(n,t)},i.tickFormat=function(t,e){return $i(n,t,e)},i.nice=function(t){return Zi(n,t),u()},i.copy=function(){return Yi(n,t,e,r)},u()}function Ii(n,t){return ta.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Zi(n,t){return Fi(n,Hi(Vi(n,t)[2]))}function Vi(n,t){null==t&&(t=10);var e=Pi(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Xi(n,t){return ta.range.apply(ta,Vi(n,t))}function $i(n,t,e){var r=Vi(n,t);if(e){var u=lc.exec(e);if(u.shift(),"s"===u[8]){var i=ta.formatPrefix(Math.max(va(r[0]),va(r[1])));return u[7]||(u[7]="."+Bi(i.scale(r[2]))),u[8]="f",e=ta.format(u.join("")),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]="."+Wi(u[8],r)),e=u.join("")}else e=",."+Bi(r[2])+"f";return ta.format(e)}function Bi(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function Wi(n,t){var e=Bi(t[2]);return n in _l?Math.abs(e-Bi(Math.max(va(t[0]),va(t[1]))))+ +("e"!==n):e-2*("%"===n)}function Ji(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(u(t))}return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),o):t},o.nice=function(){var t=Fi(r.map(u),e?Math:Sl);return n.domain(t),r=t.map(i),o},o.ticks=function(){var n=Pi(r),o=[],a=n[0],c=n[1],l=Math.floor(u(a)),s=Math.ceil(u(c)),f=t%1?2:t;if(isFinite(s-l)){if(e){for(;s>l;l++)for(var h=1;f>h;h++)o.push(i(l)*h);o.push(i(l))}else for(o.push(i(l));l++<s;)for(var h=f-1;h>0;h--)o.push(i(l)*h);for(l=0;o[l]<a;l++);for(s=o.length;o[s-1]>c;s--);o=o.slice(l,s)}return o},o.tickFormat=function(n,t){if(!arguments.length)return wl;arguments.length<2?t=wl:"function"!=typeof t&&(t=ta.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/i(c(u(n)+r))<=a?t(n):""}},o.copy=function(){return Ji(n.copy(),t,e,r)},Ii(o,n)}function Gi(n,t,e){function r(t){return n(u(t))}var u=Ki(t),i=Ki(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Xi(e,n)},r.tickFormat=function(n,t){return $i(e,n,t)},r.nice=function(n){return r.domain(Zi(e,n))},r.exponent=function(o){return arguments.length?(u=Ki(t=o),i=Ki(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return Gi(n.copy(),t,e)},Ii(r,n)}function Ki(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function Qi(n,t){function e(e){return i[((u.get(e)||("range"===t.t?u.set(e,n.push(e)):0/0))-1)%i.length]}function r(t,e){return ta.range(n.length).map(function(n){return t+e*n})}var u,i,o;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new a;for(var i,o=-1,c=r.length;++o<c;)u.has(i=r[o])||u.set(i,n.push(i));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,o=0,t={t:"range",a:arguments},e):i},e.rangePoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=(c+l)/2,0):(l-c)/(n.length-1+a);return i=r(c+s*a/2,s),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=l=Math.round((c+l)/2),0):0|(l-c)/(n.length-1+a);return i=r(c+Math.round(s*a/2+(l-c-(n.length-1+a)*s)/2),s),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=(f-s)/(n.length-a+2*c);return i=r(s+h*c,h),l&&i.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=Math.floor((f-s)/(n.length-a+2*c));return i=r(s+Math.round((f-s-(n.length-a)*h)/2),h),l&&i.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Pi(t.a[0])},e.copy=function(){return Qi(n,t)},e.domain(n)}function no(r,u){function i(){var n=0,t=u.length;for(a=[];++n<t;)a[n-1]=ta.quantile(r,n/t);return o}function o(n){return isNaN(n=+n)?void 0:u[ta.bisect(a,n)]}var a;return o.domain=function(u){return arguments.length?(r=u.map(t).filter(e).sort(n),i()):r},o.range=function(n){return arguments.length?(u=n,i()):u},o.quantiles=function(){return a},o.invertExtent=function(n){return n=u.indexOf(n),0>n?[0/0,0/0]:[n>0?a[n-1]:r[0],n<a.length?a[n]:r[r.length-1]]},o.copy=function(){return no(r,u)},i()}function to(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),o=e.length-1,r}var i,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?0/0:t/i+n,[t,t+1/i]},r.copy=function(){return to(n,t,e)},u()}function eo(n,t){function e(e){return e>=e?t[ta.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return eo(n,t)},e}function ro(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Xi(n,t)},t.tickFormat=function(t,e){return $i(n,t,e)},t.copy=function(){return ro(n)},t}function uo(){return 0}function io(n){return n.innerRadius}function oo(n){return n.outerRadius}function ao(n){return n.startAngle}function co(n){return n.endAngle}function lo(n){return n&&n.padAngle}function so(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function fo(n,t,e,r,u){var i=n[0]-t[0],o=n[1]-t[1],a=(u?r:-r)/Math.sqrt(i*i+o*o),c=a*o,l=-a*i,s=n[0]+c,f=n[1]+l,h=t[0]+c,g=t[1]+l,p=(s+h)/2,v=(f+g)/2,d=h-s,m=g-f,y=d*d+m*m,M=e-r,x=s*g-h*f,b=(0>m?-1:1)*Math.sqrt(M*M*y-x*x),_=(x*m-d*b)/y,w=(-x*d-m*b)/y,S=(x*m+d*b)/y,k=(-x*d+m*b)/y,E=_-p,A=w-v,N=S-p,C=k-v;return E*E+A*A>N*N+C*C&&(_=S,w=k),[[_-c,w-l],[_*e/M,w*e/M]]}function ho(n){function t(t){function o(){l.push("M",i(n(s),a))}for(var c,l=[],s=[],f=-1,h=t.length,g=kt(e),p=kt(r);++f<h;)u.call(this,c=t[f],f)?s.push([+g.call(this,c,f),+p.call(this,c,f)]):s.length&&(o(),s=[]);return s.length&&o(),l.length?l.join(""):null}var e=Ar,r=Nr,u=Ne,i=go,o=i.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?i=n:(i=zl.get(n)||go).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function go(n){return n.join("L")}function po(n){return go(n)+"Z"}function vo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function mo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function yo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function Mo(n,t){return n.length<4?go(n):n[1]+_o(n.slice(1,-1),wo(n,t))}function xo(n,t){return n.length<3?go(n):n[0]+_o((n.push(n[0]),n),wo([n[n.length-2]].concat(n,[n[1]]),t))}function bo(n,t){return n.length<3?go(n):n[0]+_o(n,wo(n,t))}function _o(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return go(n);var e=n.length!=t.length,r="",u=n[0],i=n[1],o=t[0],a=o,c=1;if(e&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],u=n[1],c=2),t.length>1){a=t[1],i=n[c],c++,r+="C"+(u[0]+o[0])+","+(u[1]+o[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(var l=2;l<t.length;l++,c++)i=n[c],a=t[l],r+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}if(e){var s=n[c];r+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+s[0]+","+s[1]}return r}function wo(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],o=n[1],a=1,c=n.length;++a<c;)e=i,i=o,o=n[a],r.push([u*(o[0]-e[0]),u*(o[1]-e[1])]);return r}function So(n){if(n.length<3)return go(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],o=[u,u,u,(r=n[1])[0]],a=[i,i,i,r[1]],c=[u,",",i,"L",No(Tl,o),",",No(Tl,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Co(c,o,a);return n.pop(),c.push("L",r),c.join("")}function ko(n){if(n.length<4)return go(n);for(var t,e=[],r=-1,u=n.length,i=[0],o=[0];++r<3;)t=n[r],i.push(t[0]),o.push(t[1]);for(e.push(No(Tl,i)+","+No(Tl,o)),--r;++r<u;)t=n[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Co(e,i,o);return e.join("")}function Eo(n){for(var t,e,r=-1,u=n.length,i=u+4,o=[],a=[];++r<4;)e=n[r%u],o.push(e[0]),a.push(e[1]);for(t=[No(Tl,o),",",No(Tl,a)],--r;++r<i;)e=n[r%u],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Co(t,o,a);return t.join("")}function Ao(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],o=n[0][1],a=n[e][0]-i,c=n[e][1]-o,l=-1;++l<=e;)r=n[l],u=l/e,r[0]=t*r[0]+(1-t)*(i+u*a),r[1]=t*r[1]+(1-t)*(o+u*c);return So(n)}function No(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Co(n,t,e){n.push("C",No(ql,t),",",No(ql,e),",",No(Ll,t),",",No(Ll,e),",",No(Tl,t),",",No(Tl,e))}function zo(n,t){return(t[1]-n[1])/(t[0]-n[0])}function qo(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],o=r[0]=zo(u,i);++t<e;)r[t]=(o+(o=zo(u=i,i=n[t+1])))/2;return r[t]=o,r}function Lo(n){for(var t,e,r,u,i=[],o=qo(n),a=-1,c=n.length-1;++a<c;)t=zo(n[a],n[a+1]),va(t)<Ta?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,u=e*e+r*r,u>9&&(u=3*t/Math.sqrt(u),o[a]=u*e,o[a+1]=u*r));for(a=-1;++a<=c;)u=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),i.push([u||0,o[a]*u||0]);return i}function To(n){return n.length<3?go(n):n[0]+_o(n,Lo(n))}function Ro(n){for(var t,e,r,u=-1,i=n.length;++u<i;)t=n[u],e=t[0],r=t[1]-ja,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Do(n){function t(t){function c(){v.push("M",a(n(m),f),s,l(n(d.reverse()),f),"Z")}for(var h,g,p,v=[],d=[],m=[],y=-1,M=t.length,x=kt(e),b=kt(u),_=e===r?function(){return g}:kt(r),w=u===i?function(){return p}:kt(i);++y<M;)o.call(this,h=t[y],y)?(d.push([g=+x.call(this,h,y),p=+b.call(this,h,y)]),m.push([+_.call(this,h,y),+w.call(this,h,y)])):d.length&&(c(),d=[],m=[]);return d.length&&c(),v.length?v.join(""):null}var e=Ar,r=Ar,u=0,i=Nr,o=Ne,a=go,c=a.key,l=a,s="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=zl.get(n)||go).key,l=a.reverse||a,s=a.closed?"M":"L",t):c
},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Po(n){return n.radius}function Uo(n){return[n.x,n.y]}function jo(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-ja;return[e*Math.cos(r),e*Math.sin(r)]}}function Fo(){return 64}function Ho(){return"circle"}function Oo(n){var t=Math.sqrt(n/Da);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Yo(n){return function(){var t,e;(t=this[n])&&(e=t[t.active])&&(--t.count?(delete t[t.active],t.active+=.5):delete this[n],e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function Io(n,t,e){return xa(n,Hl),n.namespace=t,n.id=e,n}function Zo(n,t,e,r){var u=n.id,i=n.namespace;return H(n,"function"==typeof e?function(n,o,a){n[i][u].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[i][u].tween.set(t,e)}))}function Vo(n){return null==n&&(n=""),function(){this.textContent=n}}function Xo(n){return null==n?"__transition__":"__transition_"+n+"__"}function $o(n,t,e,r,u){var i=n[e]||(n[e]={active:0,count:0}),o=i[r];if(!o){var c=u.time;o=i[r]={tween:new a,time:c,delay:u.delay,duration:u.duration,ease:u.ease,index:t},u=null,++i.count,ta.timer(function(u){function a(e){if(i.active>r)return s();var u=i[i.active];u&&(--i.count,delete i[i.active],u.event&&u.event.interrupt.call(n,n.__data__,u.index)),i.active=r,o.event&&o.event.start.call(n,n.__data__,t),o.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&v.push(r)}),h=o.ease,f=o.duration,ta.timer(function(){return p.c=l(e||1)?Ne:l,1},0,c)}function l(e){if(i.active!==r)return 1;for(var u=e/f,a=h(u),c=v.length;c>0;)v[--c].call(n,a);return u>=1?(o.event&&o.event.end.call(n,n.__data__,t),s()):void 0}function s(){return--i.count?delete i[r]:delete n[e],1}var f,h,g=o.delay,p=oc,v=[];return p.t=g+c,u>=g?a(u-g):(p.c=a,void 0)},0,c)}}function Bo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function Wo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function Jo(n){return n.toISOString()}function Go(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=ta.bisect(Wl,u);return i==Wl.length?[t.year,Vi(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Wl[i-1]<Wl[i]/u?i-1:i]:[Kl,Vi(n,e)[2]]}return r.invert=function(t){return Ko(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Ko)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Ko(+e+1),t).length}var i=r.domain(),o=Pi(i),a=null==n?u(o,10):"number"==typeof n&&u(o,n);return a&&(n=a[0],t=a[1]),r.domain(Fi(i,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=Ko(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=Ko(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Pi(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],Ko(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Go(n.copy(),t,e)},Ii(r,n)}function Ko(n){return new Date(n)}function Qo(n){return JSON.parse(n.responseText)}function na(n){var t=ua.createRange();return t.selectNode(ua.body),t.createContextualFragment(n.responseText)}var ta={version:"3.5.2"};Date.now||(Date.now=function(){return+new Date});var ea=[].slice,ra=function(n){return ea.call(n)},ua=document,ia=ua.documentElement,oa=window;try{ra(ia.childNodes)[0].nodeType}catch(aa){ra=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}try{ua.createElement("div").style.setProperty("opacity",0,"")}catch(ca){var la=oa.Element.prototype,sa=la.setAttribute,fa=la.setAttributeNS,ha=oa.CSSStyleDeclaration.prototype,ga=ha.setProperty;la.setAttribute=function(n,t){sa.call(this,n,t+"")},la.setAttributeNS=function(n,t,e){fa.call(this,n,t,e+"")},ha.setProperty=function(n,t,e){ga.call(this,n,t+"",e)}}ta.ascending=n,ta.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:0/0},ta.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&e>r&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&e>r&&(e=r)}return e},ta.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&r>e&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&r>e&&(e=r)}return e},ta.extent=function(n,t){var e,r,u,i=-1,o=n.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=n[i])&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=n[i])&&(e>r&&(e=r),r>u&&(u=r))}else{for(;++i<o;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=t.call(n,n[i],i))&&(e>r&&(e=r),r>u&&(u=r))}return[e,u]},ta.sum=function(n,t){var r,u=0,i=n.length,o=-1;if(1===arguments.length)for(;++o<i;)e(r=+n[o])&&(u+=r);else for(;++o<i;)e(r=+t.call(n,n[o],o))&&(u+=r);return u},ta.mean=function(n,r){var u,i=0,o=n.length,a=-1,c=o;if(1===arguments.length)for(;++a<o;)e(u=t(n[a]))?i+=u:--c;else for(;++a<o;)e(u=t(r.call(n,n[a],a)))?i+=u:--c;return c?i/c:void 0},ta.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},ta.median=function(r,u){var i,o=[],a=r.length,c=-1;if(1===arguments.length)for(;++c<a;)e(i=t(r[c]))&&o.push(i);else for(;++c<a;)e(i=t(u.call(r,r[c],c)))&&o.push(i);return o.length?ta.quantile(o.sort(n),.5):void 0},ta.variance=function(n,r){var u,i,o=n.length,a=0,c=0,l=-1,s=0;if(1===arguments.length)for(;++l<o;)e(u=t(n[l]))&&(i=u-a,a+=i/++s,c+=i*(u-a));else for(;++l<o;)e(u=t(r.call(n,n[l],l)))&&(i=u-a,a+=i/++s,c+=i*(u-a));return s>1?c/(s-1):void 0},ta.deviation=function(){var n=ta.variance.apply(this,arguments);return n?Math.sqrt(n):n};var pa=r(n);ta.bisectLeft=pa.left,ta.bisect=ta.bisectRight=pa.right,ta.bisector=function(t){return r(1===t.length?function(e,r){return n(t(e),r)}:t)},ta.shuffle=function(n,t,e){(i=arguments.length)<3&&(e=n.length,2>i&&(t=0));for(var r,u,i=e-t;i;)u=0|Math.random()*i--,r=n[i+t],n[i+t]=n[u+t],n[u+t]=r;return n},ta.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},ta.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0>r?0:r);r>e;)i[e]=[t=u,u=n[++e]];return i},ta.zip=function(){if(!(r=arguments.length))return[];for(var n=-1,t=ta.min(arguments,u),e=new Array(t);++n<t;)for(var r,i=-1,o=e[n]=new Array(r);++i<r;)o[i]=arguments[i][n];return e},ta.transpose=function(n){return ta.zip.apply(ta,n)},ta.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ta.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ta.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ta.merge=function(n){for(var t,e,r,u=n.length,i=-1,o=0;++i<u;)o+=n[i].length;for(e=new Array(o);--u>=0;)for(r=n[u],t=r.length;--t>=0;)e[--o]=r[t];return e};var va=Math.abs;ta.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),1/0===(t-n)/e)throw new Error("infinite range");var r,u=[],o=i(va(e)),a=-1;if(n*=o,t*=o,e*=o,0>e)for(;(r=n+e*++a)>t;)u.push(r/o);else for(;(r=n+e*++a)<t;)u.push(r/o);return u},ta.map=function(n,t){var e=new a;if(n instanceof a)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,u=-1,i=n.length;if(1===arguments.length)for(;++u<i;)e.set(u,n[u]);else for(;++u<i;)e.set(t.call(n,r=n[u],u),r)}else for(var o in n)e.set(o,n[o]);return e};var da="__proto__",ma="\x00";o(a,{has:s,get:function(n){return this._[c(n)]},set:function(n,t){return this._[c(n)]=t},remove:f,keys:h,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:l(t),value:this._[t]});return n},size:g,empty:p,forEach:function(n){for(var t in this._)n.call(this,l(t),this._[t])}}),ta.nest=function(){function n(t,o,c){if(c>=i.length)return r?r.call(u,o):e?o.sort(e):o;for(var l,s,f,h,g=-1,p=o.length,v=i[c++],d=new a;++g<p;)(h=d.get(l=v(s=o[g])))?h.push(s):d.set(l,[s]);return t?(s=t(),f=function(e,r){s.set(e,n(t,r,c))}):(s={},f=function(e,r){s[e]=n(t,r,c)}),d.forEach(f),s}function t(n,e){if(e>=i.length)return n;var r=[],u=o[e++];return n.forEach(function(n,u){r.push({key:n,values:t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,u={},i=[],o=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(ta.map,e,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return o[i.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},ta.set=function(n){var t=new v;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},o(v,{has:s,add:function(n){return this._[c(n+="")]=!0,n},remove:f,values:h,size:g,empty:p,forEach:function(n){for(var t in this._)n.call(this,l(t))}}),ta.behavior={},ta.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=d(n,t,t[e]);return n};var ya=["webkit","ms","moz","Moz","o","O"];ta.dispatch=function(){for(var n=new M,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=x(n);return n},M.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ta.event=null,ta.requote=function(n){return n.replace(Ma,"\\$&")};var Ma=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,xa={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},ba=function(n,t){return t.querySelector(n)},_a=function(n,t){return t.querySelectorAll(n)},wa=ia.matches||ia[m(ia,"matchesSelector")],Sa=function(n,t){return wa.call(n,t)};"function"==typeof Sizzle&&(ba=function(n,t){return Sizzle(n,t)[0]||null},_a=Sizzle,Sa=Sizzle.matchesSelector),ta.selection=function(){return Na};var ka=ta.selection.prototype=[];ka.select=function(n){var t,e,r,u,i=[];n=k(n);for(var o=-1,a=this.length;++o<a;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,l=r.length;++c<l;)(u=r[c])?(t.push(e=n.call(u,u.__data__,c,o)),e&&"__data__"in u&&(e.__data__=u.__data__)):t.push(null)}return S(i)},ka.selectAll=function(n){var t,e,r=[];n=E(n);for(var u=-1,i=this.length;++u<i;)for(var o=this[u],a=-1,c=o.length;++a<c;)(e=o[a])&&(r.push(t=ra(n.call(e,e.__data__,a,u))),t.parentNode=e);return S(r)};var Ea={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ta.ns={prefix:Ea,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.slice(0,t),n=n.slice(t+1)),Ea.hasOwnProperty(e)?{space:Ea[e],local:n}:n}},ka.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ta.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(A(t,n[t]));return this}return this.each(A(n,t))},ka.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=z(n)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!C(n[u]).test(t))return!1;return!0}for(t in n)this.each(q(t,n[t]));return this}return this.each(q(n,t))},ka.style=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t="");for(e in n)this.each(T(e,n[e],t));return this}if(2>r)return oa.getComputedStyle(this.node(),null).getPropertyValue(n);e=""}return this.each(T(n,t,e))},ka.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},ka.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},ka.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},ka.append=function(n){return n=D(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},ka.insert=function(n,t){return n=D(n),t=k(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},ka.remove=function(){return this.each(P)},ka.data=function(n,t){function e(n,e){var r,u,i,o=n.length,f=e.length,h=Math.min(o,f),g=new Array(f),p=new Array(f),v=new Array(o);if(t){var d,m=new a,y=new Array(o);for(r=-1;++r<o;)m.has(d=t.call(u=n[r],u.__data__,r))?v[r]=u:m.set(d,u),y[r]=d;for(r=-1;++r<f;)(u=m.get(d=t.call(e,i=e[r],r)))?u!==!0&&(g[r]=u,u.__data__=i):p[r]=U(i),m.set(d,!0);for(r=-1;++r<o;)m.get(y[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],i=e[r],u?(u.__data__=i,g[r]=u):p[r]=U(i);for(;f>r;++r)p[r]=U(e[r]);for(;o>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,c.push(p),l.push(g),s.push(v)}var r,u,i=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++i<o;)(u=r[i])&&(n[i]=u.__data__);return n}var c=O([]),l=S([]),s=S([]);if("function"==typeof n)for(;++i<o;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<o;)e(r=this[i],n);return l.enter=function(){return c},l.exit=function(){return s},l},ka.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},ka.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=j(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return S(u)},ka.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],u=r.length-1,i=r[u];--u>=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},ka.sort=function(n){n=F.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},ka.each=function(n){return H(this,function(t,e,r){n.call(t,t.__data__,e,r)})},ka.call=function(n){var t=ra(arguments);return n.apply(t[0]=this,t),this},ka.empty=function(){return!this.node()},ka.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,u=e.length;u>r;r++){var i=e[r];if(i)return i}return null},ka.size=function(){var n=0;return H(this,function(){++n}),n};var Aa=[];ta.selection.enter=O,ta.selection.enter.prototype=Aa,Aa.append=ka.append,Aa.empty=ka.empty,Aa.node=ka.node,Aa.call=ka.call,Aa.size=ka.size,Aa.select=function(n){for(var t,e,r,u,i,o=[],a=-1,c=this.length;++a<c;){r=(u=this[a]).update,o.push(t=[]),t.parentNode=u.parentNode;for(var l=-1,s=u.length;++l<s;)(i=u[l])?(t.push(r[l]=e=n.call(u.parentNode,i.__data__,l,a)),e.__data__=i.__data__):t.push(null)}return S(o)},Aa.insert=function(n,t){return arguments.length<2&&(t=Y(this)),ka.insert.call(this,n,t)},ta.select=function(n){var t=["string"==typeof n?ba(n,ua):n];return t.parentNode=ia,S([t])},ta.selectAll=function(n){var t=ra("string"==typeof n?_a(n,ua):n);return t.parentNode=ia,S([t])};var Na=ta.select(ia);ka.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(I(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(I(n,t,e))};var Ca=ta.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ca.forEach(function(n){"on"+n in ua&&Ca.remove(n)});var za="onselectstart"in ua?null:m(ia.style,"userSelect"),qa=0;ta.mouse=function(n){return $(n,_())};var La=/WebKit/.test(oa.navigator.userAgent)?-1:0;ta.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=_().changedTouches),t)for(var r,u=0,i=t.length;i>u;++u)if((r=t[u]).identifier===e)return $(n,r)},ta.behavior.drag=function(){function n(){this.on("mousedown.drag",u).on("touchstart.drag",i)}function t(n,t,u,i,o){return function(){function a(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],p|=n|e,M=r,g({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:n,dy:e}))}function c(){t(h,v)&&(m.on(i+d,null).on(o+d,null),y(p&&ta.event.target===f),g({type:"dragend"}))}var l,s=this,f=ta.event.target,h=s.parentNode,g=e.of(s,arguments),p=0,v=n(),d=".drag"+(null==v?"":"-"+v),m=ta.select(u()).on(i+d,a).on(o+d,c),y=X(),M=t(h,v);r?(l=r.apply(s,arguments),l=[l.x-M[0],l.y-M[1]]):l=[0,0],g({type:"dragstart"})}}var e=w(n,"drag","dragstart","dragend"),r=null,u=t(y,ta.mouse,J,"mousemove","mouseup"),i=t(B,ta.touch,W,"touchmove","touchend");return n.origin=function(t){return arguments.length?(r=t,n):r},ta.rebind(n,e,"on")},ta.touches=function(n,t){return arguments.length<2&&(t=_().touches),t?ra(t).map(function(t){var e=$(n,t);return e.identifier=t.identifier,e}):[]};var Ta=1e-6,Ra=Ta*Ta,Da=Math.PI,Pa=2*Da,Ua=Pa-Ta,ja=Da/2,Fa=Da/180,Ha=180/Da,Oa=Math.SQRT2,Ya=2,Ia=4;ta.interpolateZoom=function(n,t){function e(n){var t=n*y;if(m){var e=et(v),o=i/(Ya*h)*(e*rt(Oa*t+v)-tt(v));return[r+o*l,u+o*s,i*e/et(Oa*t+v)]}return[r+n*l,u+n*s,i*Math.exp(Oa*t)]}var r=n[0],u=n[1],i=n[2],o=t[0],a=t[1],c=t[2],l=o-r,s=a-u,f=l*l+s*s,h=Math.sqrt(f),g=(c*c-i*i+Ia*f)/(2*i*Ya*h),p=(c*c-i*i-Ia*f)/(2*c*Ya*h),v=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p),m=d-v,y=(m||Math.log(c/i))/Oa;return e.duration=1e3*y,e},ta.behavior.zoom=function(){function n(n){n.on(z,s).on(Xa+".zoom",h).on("dblclick.zoom",g).on(T,f)}function t(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function e(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function r(n){k.k=Math.max(A[0],Math.min(A[1],n))}function u(n,t){t=e(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function i(t,e,i,o){t.__chart__={x:k.x,y:k.y,k:k.k},r(Math.pow(2,o)),u(v=e,i),t=ta.select(t),N>0&&(t=t.transition().duration(N)),t.call(n.event)}function o(){x&&x.domain(M.range().map(function(n){return(n-k.x)/k.k}).map(M.invert)),S&&S.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function a(n){C++||n({type:"zoomstart"})}function c(n){o(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function l(n){--C||n({type:"zoomend"}),v=null}function s(){function n(){s=1,u(ta.mouse(r),h),c(o)}function e(){f.on(q,null).on(L,null),g(s&&ta.event.target===i),l(o)}var r=this,i=ta.event.target,o=R.of(r,arguments),s=0,f=ta.select(oa).on(q,n).on(L,e),h=t(ta.mouse(r)),g=X();Fl.call(r),a(o)}function f(){function n(){var n=ta.touches(p);return g=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=t(n))}),n}function e(){var t=ta.event.target;ta.select(t).on(x,o).on(_,h),w.push(t);for(var e=ta.event.changedTouches,r=0,u=e.length;u>r;++r)d[e[r].identifier]=null;var a=n(),c=Date.now();if(1===a.length){if(500>c-y){var l=a[0];i(p,l,d[l.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),b()}y=c}else if(a.length>1){var l=a[0],s=a[1],f=l[0]-s[0],g=l[1]-s[1];m=f*f+g*g}}function o(){var n,t,e,i,o=ta.touches(p);Fl.call(p);for(var a=0,l=o.length;l>a;++a,i=null)if(e=o[a],i=d[e.identifier]){if(t)break;n=e,t=i}if(i){var s=(s=e[0]-n[0])*s+(s=e[1]-n[1])*s,f=m&&Math.sqrt(s/m);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+i[0])/2,(t[1]+i[1])/2],r(f*g)}y=null,u(n,t),c(v)}function h(){if(ta.event.touches.length){for(var t=ta.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(var u in d)return void n()}ta.selectAll(w).on(M,null),S.on(z,s).on(T,f),E(),l(v)}var g,p=this,v=R.of(p,arguments),d={},m=0,M=".zoom-"+ta.event.changedTouches[0].identifier,x="touchmove"+M,_="touchend"+M,w=[],S=ta.select(p),E=X();e(),a(v),S.on(z,null).on(T,e)}function h(){var n=R.of(this,arguments);m?clearTimeout(m):(p=t(v=d||ta.mouse(this)),Fl.call(this),a(n)),m=setTimeout(function(){m=null,l(n)},50),b(),r(Math.pow(2,.002*Za())*k.k),u(v,p),c(n)}function g(){var n=ta.mouse(this),e=Math.log(k.k)/Math.LN2;i(this,n,t(n),ta.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var p,v,d,m,y,M,x,_,S,k={x:0,y:0,k:1},E=[960,500],A=Va,N=250,C=0,z="mousedown.zoom",q="mousemove.zoom",L="mouseup.zoom",T="touchstart.zoom",R=w(n,"zoomstart","zoom","zoomend");return n.event=function(n){n.each(function(){var n=R.of(this,arguments),t=k;Ul?ta.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},a(n)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],u=v?v[0]:e/2,i=v?v[1]:r/2,o=ta.interpolateZoom([(u-k.x)/k.k,(i-k.y)/k.k,e/k.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=k={x:u-r[0]*a,y:i-r[1]*a,k:a},c(n)}}).each("interrupt.zoom",function(){l(n)}).each("end.zoom",function(){l(n)}):(this.__chart__=k,a(n),c(n),l(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},o(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:+t},o(),n):k.k},n.scaleExtent=function(t){return arguments.length?(A=null==t?Va:[+t[0],+t[1]],n):A},n.center=function(t){return arguments.length?(d=t&&[+t[0],+t[1]],n):d},n.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],n):E},n.duration=function(t){return arguments.length?(N=+t,n):N},n.x=function(t){return arguments.length?(x=t,M=t.copy(),k={x:0,y:0,k:1},n):x},n.y=function(t){return arguments.length?(S=t,_=t.copy(),k={x:0,y:0,k:1},n):S},ta.rebind(n,R,"on")};var Za,Va=[0,1/0],Xa="onwheel"in ua?(Za=function(){return-ta.event.deltaY*(ta.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ua?(Za=function(){return ta.event.wheelDelta},"mousewheel"):(Za=function(){return-ta.event.detail},"MozMousePixelScroll");ta.color=it,it.prototype.toString=function(){return this.rgb()+""},ta.hsl=ot;var $a=ot.prototype=new it;$a.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new ot(this.h,this.s,this.l/n)},$a.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new ot(this.h,this.s,n*this.l)},$a.rgb=function(){return at(this.h,this.s,this.l)},ta.hcl=ct;var Ba=ct.prototype=new it;Ba.brighter=function(n){return new ct(this.h,this.c,Math.min(100,this.l+Wa*(arguments.length?n:1)))},Ba.darker=function(n){return new ct(this.h,this.c,Math.max(0,this.l-Wa*(arguments.length?n:1)))},Ba.rgb=function(){return lt(this.h,this.c,this.l).rgb()},ta.lab=st;var Wa=18,Ja=.95047,Ga=1,Ka=1.08883,Qa=st.prototype=new it;Qa.brighter=function(n){return new st(Math.min(100,this.l+Wa*(arguments.length?n:1)),this.a,this.b)},Qa.darker=function(n){return new st(Math.max(0,this.l-Wa*(arguments.length?n:1)),this.a,this.b)},Qa.rgb=function(){return ft(this.l,this.a,this.b)},ta.rgb=dt;var nc=dt.prototype=new it;nc.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),new dt(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new dt(u,u,u)},nc.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new dt(n*this.r,n*this.g,n*this.b)},nc.hsl=function(){return bt(this.r,this.g,this.b)},nc.toString=function(){return"#"+Mt(this.r)+Mt(this.g)+Mt(this.b)};var tc=ta.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});tc.forEach(function(n,t){tc.set(n,mt(t))}),ta.functor=kt,ta.xhr=At(Et),ta.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var o=Nt(n,t,null==e?r:u(e),i);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:u(n)):e},o}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),c=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(s>=l)return o;if(u)return u=!1,i;var t=s;if(34===n.charCodeAt(t)){for(var e=t;e++<l;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}s=e+2;var r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&&++s):10===r&&(u=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;l>s;){var r=n.charCodeAt(s++),a=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(s)&&(++s,++a);else if(r!==c)continue;return n.slice(t,s-a)}return n.slice(t)}for(var r,u,i={},o={},a=[],l=n.length,s=0,f=0;(r=e())!==o;){for(var h=[];r!==i&&r!==o;)h.push(r),r=e();t&&null==(h=t(h,f++))||a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new v,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(o).join(n)].concat(t.map(function(t){return u.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(i).join("\n")},e},ta.csv=ta.dsv(",","text/csv"),ta.tsv=ta.dsv("	","text/tab-separated-values");var ec,rc,uc,ic,oc,ac=oa[m(oa,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ta.timer=function(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var u=e+t,i={c:n,t:u,f:!1,n:null};rc?rc.n=i:ec=i,rc=i,uc||(ic=clearTimeout(ic),uc=1,ac(qt))},ta.timer.flush=function(){Lt(),Tt()},ta.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var cc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Dt);ta.formatPrefix=function(n,t){var e=0;return n&&(0>n&&(n*=-1),t&&(n=ta.round(n,Rt(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),cc[8+e/3]};var lc=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,sc=ta.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ta.round(n,Rt(n,t))).toFixed(Math.max(0,Math.min(20,Rt(n*(1+1e-15),t))))}}),fc=ta.time={},hc=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){gc.setUTCDate.apply(this._,arguments)},setDay:function(){gc.setUTCDay.apply(this._,arguments)},setFullYear:function(){gc.setUTCFullYear.apply(this._,arguments)},setHours:function(){gc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){gc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){gc.setUTCMinutes.apply(this._,arguments)},setMonth:function(){gc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){gc.setUTCSeconds.apply(this._,arguments)},setTime:function(){gc.setTime.apply(this._,arguments)}};var gc=Date.prototype;fc.year=Ft(function(n){return n=fc.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),fc.years=fc.year.range,fc.years.utc=fc.year.utc.range,fc.day=Ft(function(n){var t=new hc(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),fc.days=fc.day.range,fc.days.utc=fc.day.utc.range,fc.dayOfYear=function(n){var t=fc.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=fc[n]=Ft(function(n){return(n=fc.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=fc.year(n).getDay();return Math.floor((fc.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});fc[n+"s"]=e.range,fc[n+"s"].utc=e.utc.range,fc[n+"OfYear"]=function(n){var e=fc.year(n).getDay();return Math.floor((fc.dayOfYear(n)+(e+t)%7)/7)}}),fc.week=fc.sunday,fc.weeks=fc.sunday.range,fc.weeks.utc=fc.sunday.utc.range,fc.weekOfYear=fc.sundayOfYear;var pc={"-":"",_:" ",0:"0"},vc=/^\s*\d+/,dc=/^%/;ta.locale=function(n){return{numberFormat:Pt(n),timeFormat:Ot(n)}};var mc=ta.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ta.format=mc.numberFormat,ta.geo={},ce.prototype={s:0,t:0,add:function(n){le(n,this.t,yc),le(yc.s,this.s,this),this.s?this.t+=yc.t:this.s=yc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var yc=new ce;ta.geo.stream=function(n,t){n&&Mc.hasOwnProperty(n.type)?Mc[n.type](n,t):se(n,t)};var Mc={Feature:function(n,t){se(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)se(e[r].geometry,t)}},xc={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])
},LineString:function(n,t){fe(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)fe(e[r],t,0)},Polygon:function(n,t){he(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)he(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)se(e[r],t)}};ta.geo.area=function(n){return bc=0,ta.geo.stream(n,wc),bc};var bc,_c=new ce,wc={sphere:function(){bc+=4*Da},point:y,lineStart:y,lineEnd:y,polygonStart:function(){_c.reset(),wc.lineStart=ge},polygonEnd:function(){var n=2*_c;bc+=0>n?4*Da+n:n,wc.lineStart=wc.lineEnd=wc.point=y}};ta.geo.bounds=function(){function n(n,t){M.push(x=[s=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=pe([t*Fa,e*Fa]);if(m){var u=de(m,r),i=[u[1],-u[0],0],o=de(i,u);Me(o),o=xe(o);var c=t-p,l=c>0?1:-1,v=o[0]*Ha*l,d=va(c)>180;if(d^(v>l*p&&l*t>v)){var y=o[1]*Ha;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>l*p&&l*t>v)){var y=-o[1]*Ha;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t):h>=s?(s>t&&(s=t),t>h&&(h=t)):t>p?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t)}else n(t,e);m=r,p=t}function e(){b.point=t}function r(){x[0]=s,x[1]=h,b.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=va(r)>180?r+(r>0?360:-360):r}else v=n,d=e;wc.point(n,e),t(n,e)}function i(){wc.lineStart()}function o(){u(v,d),wc.lineEnd(),va(y)>Ta&&(s=-(h=180)),x[0]=s,x[1]=h,m=null}function a(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function l(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var s,f,h,g,p,v,d,m,y,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=u,b.lineStart=i,b.lineEnd=o,y=0,wc.polygonStart()},polygonEnd:function(){wc.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>_c?(s=-(h=180),f=-(g=90)):y>Ta?g=90:-Ta>y&&(f=-90),x[0]=s,x[1]=h}};return function(n){g=h=-(s=f=1/0),M=[],ta.geo.stream(n,b);var t=M.length;if(t){M.sort(c);for(var e,r=1,u=M[0],i=[u];t>r;++r)e=M[r],l(e[0],u)||l(e[1],u)?(a(u[0],e[1])>a(u[0],u[1])&&(u[1]=e[1]),a(e[0],u[1])>a(u[0],u[1])&&(u[0]=e[0])):i.push(u=e);for(var o,e,p=-1/0,t=i.length-1,r=0,u=i[t];t>=r;u=e,++r)e=i[r],(o=a(u[1],e[0]))>p&&(p=o,s=e[0],h=u[1])}return M=x=null,1/0===s||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[s,f],[h,g]]}}(),ta.geo.centroid=function(n){Sc=kc=Ec=Ac=Nc=Cc=zc=qc=Lc=Tc=Rc=0,ta.geo.stream(n,Dc);var t=Lc,e=Tc,r=Rc,u=t*t+e*e+r*r;return Ra>u&&(t=Cc,e=zc,r=qc,Ta>kc&&(t=Ec,e=Ac,r=Nc),u=t*t+e*e+r*r,Ra>u)?[0/0,0/0]:[Math.atan2(e,t)*Ha,nt(r/Math.sqrt(u))*Ha]};var Sc,kc,Ec,Ac,Nc,Cc,zc,qc,Lc,Tc,Rc,Dc={sphere:y,point:_e,lineStart:Se,lineEnd:ke,polygonStart:function(){Dc.lineStart=Ee},polygonEnd:function(){Dc.lineStart=Se}},Pc=Le(Ne,Pe,je,[-Da,-Da/2]),Uc=1e9;ta.geo.clipExtent=function(){var n,t,e,r,u,i,o={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(a){return arguments.length?(i=Ye(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),u&&(u.valid=!1,u=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(ta.geo.conicEqualArea=function(){return Ie(Ze)}).raw=Ze,ta.geo.albers=function(){return ta.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ta.geo.albersUsa=function(){function n(n){var i=n[0],o=n[1];return t=null,e(i,o),t||(r(i,o),t)||u(i,o),t}var t,e,r,u,i=ta.geo.albers(),o=ta.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ta.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u>=.12&&.234>u&&r>=-.425&&-.214>r?o:u>=.166&&.234>u&&r>=-.214&&-.115>r?a:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),a.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),a.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var l=i.scale(),s=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[s-.455*l,f-.238*l],[s+.455*l,f+.238*l]]).stream(c).point,r=o.translate([s-.307*l,f+.201*l]).clipExtent([[s-.425*l+Ta,f+.12*l+Ta],[s-.214*l-Ta,f+.234*l-Ta]]).stream(c).point,u=a.translate([s-.205*l,f+.212*l]).clipExtent([[s-.214*l+Ta,f+.166*l+Ta],[s-.115*l-Ta,f+.234*l-Ta]]).stream(c).point,n},n.scale(1070)};var jc,Fc,Hc,Oc,Yc,Ic,Zc={point:y,lineStart:y,lineEnd:y,polygonStart:function(){Fc=0,Zc.lineStart=Ve},polygonEnd:function(){Zc.lineStart=Zc.lineEnd=Zc.point=y,jc+=va(Fc/2)}},Vc={point:Xe,lineStart:y,lineEnd:y,polygonStart:y,polygonEnd:y},Xc={point:We,lineStart:Je,lineEnd:Ge,polygonStart:function(){Xc.lineStart=Ke},polygonEnd:function(){Xc.point=We,Xc.lineStart=Je,Xc.lineEnd=Ge}};ta.geo.path=function(){function n(n){return n&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=u(i)),ta.geo.stream(n,o)),i.result()}function t(){return o=null,n}var e,r,u,i,o,a=4.5;return n.area=function(n){return jc=0,ta.geo.stream(n,u(Zc)),jc},n.centroid=function(n){return Ec=Ac=Nc=Cc=zc=qc=Lc=Tc=Rc=0,ta.geo.stream(n,u(Xc)),Rc?[Lc/Rc,Tc/Rc]:qc?[Cc/qc,zc/qc]:Nc?[Ec/Nc,Ac/Nc]:[0/0,0/0]},n.bounds=function(n){return Yc=Ic=-(Hc=Oc=1/0),ta.geo.stream(n,u(Vc)),[[Hc,Oc],[Yc,Ic]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||tr(n):Et,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new $e:new Qe(n),"function"!=typeof a&&i.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),n):a},n.projection(ta.geo.albersUsa()).context(null)},ta.geo.transform=function(n){return{stream:function(t){var e=new er(t);for(var r in n)e[r]=n[r];return e}}},er.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ta.geo.projection=ur,ta.geo.projectionMutator=ir,(ta.geo.equirectangular=function(){return ur(ar)}).raw=ar.invert=ar,ta.geo.rotation=function(n){function t(t){return t=n(t[0]*Fa,t[1]*Fa),t[0]*=Ha,t[1]*=Ha,t}return n=lr(n[0]%360*Fa,n[1]*Fa,n.length>2?n[2]*Fa:0),t.invert=function(t){return t=n.invert(t[0]*Fa,t[1]*Fa),t[0]*=Ha,t[1]*=Ha,t},t},cr.invert=ar,ta.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=lr(-n[0]*Fa,-n[1]*Fa,0).invert,u=[];return e(null,null,1,{point:function(n,e){u.push(n=t(n,e)),n[0]*=Ha,n[1]*=Ha}}),{type:"Polygon",coordinates:[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=gr((t=+r)*Fa,u*Fa),n):t},n.precision=function(r){return arguments.length?(e=gr(t*Fa,(u=+r)*Fa),n):u},n.angle(90)},ta.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Fa,u=n[1]*Fa,i=t[1]*Fa,o=Math.sin(r),a=Math.cos(r),c=Math.sin(u),l=Math.cos(u),s=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*o)*e+(e=l*s-c*f*a)*e),c*s+l*f*a)},ta.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ta.range(Math.ceil(i/d)*d,u,d).map(h).concat(ta.range(Math.ceil(l/m)*m,c,m).map(g)).concat(ta.range(Math.ceil(r/p)*p,e,p).filter(function(n){return va(n%d)>Ta}).map(s)).concat(ta.range(Math.ceil(a/v)*v,o,v).filter(function(n){return va(n%m)>Ta}).map(f))}var e,r,u,i,o,a,c,l,s,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(c).slice(1),h(u).reverse().slice(1),g(l).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],l=+t[0][1],c=+t[1][1],i>u&&(t=i,i=u,u=t),l>c&&(t=l,l=c,c=t),n.precision(y)):[[i,l],[u,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(y)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,s=vr(a,o,90),f=dr(r,e,y),h=vr(l,c,90),g=dr(i,u,y),n):y},n.majorExtent([[-180,-90+Ta],[180,90-Ta]]).minorExtent([[-180,-80-Ta],[180,80+Ta]])},ta.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=mr,u=yr;return n.distance=function(){return ta.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},ta.geo.interpolate=function(n,t){return Mr(n[0]*Fa,n[1]*Fa,t[0]*Fa,t[1]*Fa)},ta.geo.length=function(n){return $c=0,ta.geo.stream(n,Bc),$c};var $c,Bc={sphere:y,point:y,lineStart:xr,lineEnd:y,polygonStart:y,polygonEnd:y},Wc=br(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ta.geo.azimuthalEqualArea=function(){return ur(Wc)}).raw=Wc;var Jc=br(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},Et);(ta.geo.azimuthalEquidistant=function(){return ur(Jc)}).raw=Jc,(ta.geo.conicConformal=function(){return Ie(_r)}).raw=_r,(ta.geo.conicEquidistant=function(){return Ie(wr)}).raw=wr;var Gc=br(function(n){return 1/n},Math.atan);(ta.geo.gnomonic=function(){return ur(Gc)}).raw=Gc,Sr.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-ja]},(ta.geo.mercator=function(){return kr(Sr)}).raw=Sr;var Kc=br(function(){return 1},Math.asin);(ta.geo.orthographic=function(){return ur(Kc)}).raw=Kc;var Qc=br(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ta.geo.stereographic=function(){return ur(Qc)}).raw=Qc,Er.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-ja]},(ta.geo.transverseMercator=function(){var n=kr(Er),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Er,ta.geom={},ta.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,u=kt(e),i=kt(r),o=n.length,a=[],c=[];for(t=0;o>t;t++)a.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(a.sort(zr),t=0;o>t;t++)c.push([a[t][0],-a[t][1]]);var l=Cr(a),s=Cr(c),f=s[0]===l[0],h=s[s.length-1]===l[l.length-1],g=[];for(t=l.length-1;t>=0;--t)g.push(n[a[l[t]][2]]);for(t=+f;t<s.length-h;++t)g.push(n[a[s[t]][2]]);return g}var e=Ar,r=Nr;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},ta.geom.polygon=function(n){return xa(n,nl),n};var nl=ta.geom.polygon.prototype=[];nl.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t<e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},nl.centroid=function(n){var t,e,r=-1,u=this.length,i=0,o=0,a=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r<u;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],i+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[i*n,o*n]},nl.clip=function(n){for(var t,e,r,u,i,o,a=Tr(n),c=-1,l=this.length-Tr(this),s=this[l-1];++c<l;){for(t=n.slice(),n.length=0,u=this[c],i=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],qr(o,s,u)?(qr(i,s,u)||n.push(Lr(i,o,s,u)),n.push(o)):qr(i,s,u)&&n.push(Lr(i,o,s,u)),i=o;a&&n.push(n[0]),s=u}return n};var tl,el,rl,ul,il,ol=[],al=[];Or.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Ir),t.length},Qr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nu.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=uu(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(eu(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ru(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(ru(this,e),n=e,e=n.U),e.C=!1,r.C=!0,eu(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,o=n.R;if(e=i?o?uu(o):i:o,u?u.L===n?u.L=e:u.R=e:this._=e,i&&o?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==o?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=o,o.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return n.C=!1,void 0;do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,eu(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ru(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,eu(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,ru(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,eu(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,ru(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},ta.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return iu(e(n),a).cells.forEach(function(e,a){var c=e.edges,l=e.site,s=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=r&&l.x<=i&&l.y>=u&&l.y<=o?[[r,o],[i,o],[i,u],[r,u]]:[];s.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Ta)*Ta,y:Math.round(o(n,t)/Ta)*Ta,i:t}})}var r=Ar,u=Nr,i=r,o=u,a=cl;return n?t(n):(t.links=function(n){return iu(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return iu(e(n)).cells.forEach(function(e,r){for(var u,i,o=e.site,a=e.edges.sort(Ir),c=-1,l=a.length,s=a[l-1].edge,f=s.l===o?s.r:s.l;++c<l;)u=s,i=f,s=a[c].edge,f=s.l===o?s.r:s.l,r<i.i&&r<f.i&&au(o,i,f)<0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=kt(r=n),t):r},t.y=function(n){return arguments.length?(o=kt(u=n),t):u},t.clipExtent=function(n){return arguments.length?(a=null==n?cl:n,t):a===cl?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===cl?null:a&&a[1]},t)};var cl=[[-1e6,-1e6],[1e6,1e6]];ta.geom.delaunay=function(n){return ta.geom.voronoi().triangles(n)},ta.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,s=n.y;if(null!=c)if(va(c-e)+va(s-r)<.01)l(n,t,e,r,u,i,o,a);else{var f=n.point;n.x=n.y=n.point=null,l(n,f,c,s,u,i,o,a),l(n,t,e,r,u,i,o,a)}else n.x=e,n.y=r,n.point=t}else l(n,t,e,r,u,i,o,a)}function l(n,t,e,r,u,o,a,c){var l=.5*(u+a),s=.5*(o+c),f=e>=l,h=r>=s,g=h<<1|f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=su()),f?u=l:a=l,h?o=s:c=s,i(n,t,e,r,u,o,a,c)}var s,f,h,g,p,v,d,m,y,M=kt(a),x=kt(c);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,o)for(g=0;p>g;++g)s=n[g],s.x<v&&(v=s.x),s.y<d&&(d=s.y),s.x>m&&(m=s.x),s.y>y&&(y=s.y),f.push(s.x),h.push(s.y);else for(g=0;p>g;++g){var b=+M(s=n[g],g),_=+x(s,g);v>b&&(v=b),d>_&&(d=_),b>m&&(m=b),_>y&&(y=_),f.push(b),h.push(_)}var w=m-v,S=y-d;w>S?y=d+w:m=v+S;var k=su();if(k.add=function(n){i(k,n,+M(n,++g),+x(n,g),v,d,m,y)},k.visit=function(n){fu(n,k,v,d,m,y)},k.find=function(n){return hu(k,n[0],n[1],v,d,m,y)},g=-1,null==t){for(;++g<p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=s=null,k}var o,a=Ar,c=Nr;return(o=arguments.length)?(a=cu,c=lu,3===o&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(a=n,i):a},i.y=function(n){return arguments.length?(c=n,i):c},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},ta.interpolateRgb=gu,ta.interpolateObject=pu,ta.interpolateNumber=vu,ta.interpolateString=du;var ll=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sl=new RegExp(ll.source,"g");ta.interpolate=mu,ta.interpolators=[function(n,t){var e=typeof t;return("string"===e?tc.has(t)||/^(#|rgb\(|hsl\()/.test(t)?gu:du:t instanceof it?gu:Array.isArray(t)?yu:"object"===e&&isNaN(t)?pu:vu)(n,t)}],ta.interpolateArray=yu;var fl=function(){return Et},hl=ta.map({linear:fl,poly:ku,quad:function(){return _u},cubic:function(){return wu},sin:function(){return Eu},exp:function(){return Au},circle:function(){return Nu},elastic:Cu,back:zu,bounce:function(){return qu}}),gl=ta.map({"in":Et,out:xu,"in-out":bu,"out-in":function(n){return bu(xu(n))}});ta.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=hl.get(e)||fl,r=gl.get(r)||Et,Mu(r(e.apply(null,ea.call(arguments,1))))},ta.interpolateHcl=Lu,ta.interpolateHsl=Tu,ta.interpolateLab=Ru,ta.interpolateRound=Du,ta.transform=function(n){var t=ua.createElementNS(ta.ns.prefix.svg,"g");return(ta.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Pu(e?e.matrix:pl)})(n)},Pu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var pl={a:1,b:0,c:0,d:1,e:0,f:0};ta.interpolateTransform=Hu,ta.layout={},ta.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Iu(n[e]));return t}},ta.layout.chord=function(){function n(){var n,l,f,h,g,p={},v=[],d=ta.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h<i;){for(l=0,g=-1;++g<i;)l+=u[h][g];v.push(l),m.push(ta.range(i)),n+=l}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&m.forEach(function(n,t){n.sort(function(n,e){return a(u[t][n],u[t][e])})}),n=(Pa-s*i)/n,l=0,h=-1;++h<i;){for(f=l,g=-1;++g<i;){var y=d[h],M=m[y][g],x=u[y][M],b=l,_=l+=x*n;p[y+"-"+M]={index:y,subindex:M,startAngle:b,endAngle:_,value:x}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/n},l+=s}for(h=-1;++h<i;)for(g=h-1;++g<i;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,o,a,c,l={},s=0;return l.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,e=r=null,l):u},l.padding=function(n){return arguments.length?(s=n,e=r=null,l):s},l.sortGroups=function(n){return arguments.length?(o=n,e=r=null,l):o},l.sortSubgroups=function(n){return arguments.length?(a=n,e=null,l):a},l.sortChords=function(n){return arguments.length?(c=n,e&&t(),l):c},l.chords=function(){return e||n(),e},l.groups=function(){return r||n(),r},l},ta.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,o=t.cy-n.y,a=u-e,c=i*i+o*o;if(c>a*a/d){if(p>c){var l=t.charge/c;n.px-=i*l,n.py-=o*l}return!0}if(t.point&&c&&p>c){var l=t.pointCharge/c;n.px-=i*l,n.py-=o*l}}return!t.charge}}function t(n){n.px=ta.event.x,n.py=ta.event.y,a.resume()}var e,r,u,i,o,a={},c=ta.dispatch("start","tick","end"),l=[1,1],s=.9,f=vl,h=dl,g=-30,p=ml,v=.1,d=.64,m=[],y=[];return a.tick=function(){if((r*=.99)<.005)return c.end({type:"end",alpha:r=0}),!0;var t,e,a,f,h,p,d,M,x,b=m.length,_=y.length;for(e=0;_>e;++e)a=y[e],f=a.source,h=a.target,M=h.x-f.x,x=h.y-f.y,(p=M*M+x*x)&&(p=r*i[e]*((p=Math.sqrt(p))-u[e])/p,M*=p,x*=p,h.x-=M*(d=f.weight/(h.weight+f.weight)),h.y-=x*d,f.x+=M*(d=1-d),f.y+=x*d);if((d=r*v)&&(M=l[0]/2,x=l[1]/2,e=-1,d))for(;++e<b;)a=m[e],a.x+=(M-a.x)*d,a.y+=(x-a.y)*d;if(g)for(Ju(t=ta.geom.quadtree(m),r,o),e=-1;++e<b;)(a=m[e]).fixed||t.visit(n(a));for(e=-1;++e<b;)a=m[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*s,a.y-=(a.py-(a.py=a.y))*s);c.tick({type:"tick",alpha:r})},a.nodes=function(n){return arguments.length?(m=n,a):m},a.links=function(n){return arguments.length?(y=n,a):y},a.size=function(n){return arguments.length?(l=n,a):l},a.linkDistance=function(n){return arguments.length?(f="function"==typeof n?n:+n,a):f},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(s=+n,a):s},a.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,a):g},a.chargeDistance=function(n){return arguments.length?(p=n*n,a):Math.sqrt(p)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({type:"start",alpha:r=n}),ta.timer(a.tick)),a):r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;c>a;++a)e[a]=[];for(a=0;l>a;++a){var u=y[a];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var i,o=e[t],a=-1,l=o.length;++a<l;)if(!isNaN(i=o[a][n]))return i;return Math.random()*r}var t,e,r,c=m.length,s=y.length,p=l[0],v=l[1];for(t=0;c>t;++t)(r=m[t]).index=t,r.weight=0;for(t=0;s>t;++t)r=y[t],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(t=0;c>t;++t)r=m[t],isNaN(r.x)&&(r.x=n("x",p)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof f)for(t=0;s>t;++t)u[t]=+f.call(this,y[t],t);else for(t=0;s>t;++t)u[t]=f;if(i=[],"function"==typeof h)for(t=0;s>t;++t)i[t]=+h.call(this,y[t],t);else for(t=0;s>t;++t)i[t]=h;if(o=[],"function"==typeof g)for(t=0;c>t;++t)o[t]=+g.call(this,m[t],t);else for(t=0;c>t;++t)o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=ta.behavior.drag().origin(Et).on("dragstart.force",Xu).on("drag.force",t).on("dragend.force",$u)),arguments.length?(this.on("mouseover.force",Bu).on("mouseout.force",Wu).call(e),void 0):e},ta.rebind(a,c,"on")};var vl=20,dl=1,ml=1/0;ta.layout.hierarchy=function(){function n(u){var i,o=[u],a=[];for(u.depth=0;null!=(i=o.pop());)if(a.push(i),(l=e.call(n,i,i.depth))&&(c=l.length)){for(var c,l,s;--c>=0;)o.push(s=l[c]),s.parent=i,s.depth=i.depth+1;r&&(i.value=0),i.children=l}else r&&(i.value=+r.call(n,i,i.depth)||0),delete i.children;return Qu(u,function(n){var e,u;t&&(e=n.children)&&e.sort(t),r&&(u=n.parent)&&(u.value+=n.value)}),a}var t=ei,e=ni,r=ti;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(Ku(t,function(n){n.children&&(n.value=0)}),Qu(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},ta.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(o=i.length)){var o,a,c,l=-1;for(r=t.value?r/t.value:0;++l<o;)n(a=i[l],e,c=a.value*r,u),e+=c}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var u,i=-1;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var o=r.call(this,e,i);return n(o[0],0,u[0],u[1]/t(o[0])),o}var r=ta.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},Gu(e,r)},ta.layout.pie=function(){function n(o){var a,c=o.length,l=o.map(function(e,r){return+t.call(n,e,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof u?u.apply(this,arguments):u)-s,h=Math.min(Math.abs(f)/c,+("function"==typeof i?i.apply(this,arguments):i)),g=h*(0>f?-1:1),p=(f-c*g)/ta.sum(l),v=ta.range(c),d=[];return null!=e&&v.sort(e===yl?function(n,t){return l[t]-l[n]}:function(n,t){return e(o[n],o[t])}),v.forEach(function(n){d[n]={data:o[n],value:a=l[n],startAngle:s,endAngle:s+=a*p+g,padAngle:h}}),d}var t=Number,e=yl,r=0,u=Pa,i=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n.padAngle=function(t){return arguments.length?(i=t,n):i},n};var yl={};ta.layout.stack=function(){function n(a,c){if(!(h=a.length))return a;var l=a.map(function(e,r){return t.call(n,e,r)}),s=l.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),o.call(n,t,e)]})}),f=e.call(n,s,c);l=ta.permute(l,f),s=ta.permute(s,f);var h,g,p,v,d=r.call(n,s,c),m=l[0].length;for(p=0;m>p;++p)for(u.call(n,l[0][p],v=d[p],s[0][p][1]),g=1;h>g;++g)u.call(n,l[g][p],v+=s[g-1][p][1],s[g][p][1]);return a}var t=Et,e=ai,r=ci,u=oi,i=ui,o=ii;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:Ml.get(t)||ai,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:xl.get(t)||ci,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(u=t,n):u},n};var Ml=ta.map({"inside-out":function(n){var t,e,r=n.length,u=n.map(li),i=n.map(si),o=ta.range(r).sort(function(n,t){return u[n]-u[t]}),a=0,c=0,l=[],s=[];for(t=0;r>t;++t)e=o[t],c>a?(a+=i[e],l.push(e)):(c+=i[e],s.push(e));return s.reverse().concat(l)},reverse:function(n){return ta.range(n.length).reverse()},"default":ai}),xl=ta.map({silhouette:function(n){var t,e,r,u=n.length,i=n[0].length,o=[],a=0,c=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;i>e;++e)c[e]=(a-o[e])/2;return c},wiggle:function(n){var t,e,r,u,i,o,a,c,l,s=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=l=0,e=1;h>e;++e){for(t=0,u=0;s>t;++t)u+=n[t][e][1];for(t=0,i=0,a=f[e][0]-f[e-1][0];s>t;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);t>r;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;i+=o*n[t][e][1]}g[e]=c-=u?i/u*a:0,l>c&&(l=c)}for(e=0;h>e;++e)g[e]-=l;return g},expand:function(n){var t,e,r,u=n.length,i=n[0].length,o=1/u,a=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];if(r)for(t=0;u>t;t++)n[t][e][1]/=r;else for(t=0;u>t;t++)n[t][e][1]=o}for(e=0;i>e;++e)a[e]=0;return a},zero:ci});ta.layout.histogram=function(){function n(n,i){for(var o,a,c=[],l=n.map(e,this),s=r.call(this,l,i),f=u.call(this,s,l,i),i=-1,h=l.length,g=f.length-1,p=t?1:1/h;++i<g;)o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(g>0)for(i=-1;++i<h;)a=l[i],a>=s[0]&&a<=s[1]&&(o=c[ta.bisect(f,a,1,g)-1],o.y+=p,o.push(n[i]));return c}var t=!0,e=Number,r=pi,u=hi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=kt(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return gi(n,t)}:kt(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ta.layout.pack=function(){function n(n,i){var o=e.call(this,n,i),a=o[0],c=u[0],l=u[1],s=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Qu(a,function(n){n.r=+s(n.value)}),Qu(a,Mi),r){var f=r*(t?1:Math.max(2*a.r/c,2*a.r/l))/2;Qu(a,function(n){n.r+=f}),Qu(a,Mi),Qu(a,function(n){n.r-=f})}return _i(a,c/2,l/2,t?1:1/Math.max(2*a.r/c,2*a.r/l)),o}var t,e=ta.layout.hierarchy().sort(vi),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},Gu(n,e)},ta.layout.tree=function(){function n(n,u){var s=o.call(this,n,u),f=s[0],h=t(f);if(Qu(h,e),h.parent.m=-h.z,Ku(h,r),l)Ku(f,i);else{var g=f,p=f,v=f;Ku(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=a(g,p)/2-g.x,m=c[0]/(p.x+a(p,g)/2+d),y=c[1]/(v.depth||1);Ku(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}return s}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var u,i=t.children,o=0,a=i.length;a>o;++o)r.push((i[o]=u={_:i[o],parent:t,children:(u=i[o].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=u);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Ni(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+a(n._,r._));n.parent.A=u(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n,t,e){if(t){for(var r,u=n,i=n,o=t,c=u.parent.children[0],l=u.m,s=i.m,f=o.m,h=c.m;o=Ei(o),u=ki(u),o&&u;)c=ki(c),i=Ei(i),i.a=n,r=o.z+f-u.z-l+a(o._,u._),r>0&&(Ai(Ci(o,n,e),n,r),l+=r,s+=r),f+=o.m,l+=u.m,h+=c.m,s+=i.m;o&&!Ei(i)&&(i.t=o,i.m+=f-s),u&&!ki(c)&&(c.t=u,c.m+=l-h,e=n)}return e}function i(n){n.x*=c[0],n.y=n.depth*c[1]}var o=ta.layout.hierarchy().sort(null).value(null),a=Si,c=[1,1],l=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(l=null==(c=t)?i:null,n):l?null:c},n.nodeSize=function(t){return arguments.length?(l=null==(c=t)?null:i,n):l?c:null},Gu(n,o)},ta.layout.cluster=function(){function n(n,i){var o,a=t.call(this,n,i),c=a[0],l=0;Qu(c,function(n){var t=n.children;t&&t.length?(n.x=qi(t),n.y=zi(t)):(n.x=o?l+=e(n,o):0,n.y=0,o=n)});var s=Li(c),f=Ti(c),h=s.x-e(s,f)/2,g=f.x+e(f,s)/2;return Qu(c,u?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=ta.layout.hierarchy().sort(null).value(null),e=Si,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},Gu(n,t)},ta.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u<i;)r=(e=n[u]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var i=e.children;if(i&&i.length){var o,a,c,l=f(e),s=[],h=i.slice(),p=1/0,v="slice"===g?l.dx:"dice"===g?l.dy:"slice-dice"===g?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(n(h,l.dx*l.dy/e.value),s.area=0;(c=h.length)>0;)s.push(o=h[c-1]),s.area+=o.area,"squarify"!==g||(a=r(s,v))<=p?(h.pop(),p=a):(s.area-=s.pop().area,u(s,v,l,!1),v=Math.min(l.dx,l.dy),s.length=s.area=0,p=1/0);s.length&&(u(s,v,l,!0),s.length=s.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i,o=f(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;i=a.pop();)c.push(i),c.area+=i.area,null!=i.z&&(u(c,i.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(i>e&&(i=e),e>u&&(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,o=n.length,a=e.x,l=e.y,s=t?c(n.area/t):0;if(t==e.dx){for((r||s>e.dy)&&(s=e.dy);++i<o;)u=n[i],u.x=a,u.y=l,u.dy=s,a+=u.dx=Math.min(e.x+e.dx-a,s?c(u.area/s):0);u.z=!0,u.dx+=e.x+e.dx-a,e.y+=s,e.dy-=s}else{for((r||s>e.dx)&&(s=e.dx);++i<o;)u=n[i],u.x=a,u.y=l,u.dx=s,l+=u.dy=Math.min(e.y+e.dy-l,s?c(u.area/s):0);u.z=!1,u.dy+=e.y+e.dy-l,e.x+=s,e.dx-=s}}function i(r){var u=o||a(r),i=u[0];return i.x=0,i.y=0,i.dx=l[0],i.dy=l[1],o&&a.revalue(i),n([i],i.dx*i.dy/i.value),(o?e:t)(i),h&&(o=u),u}var o,a=ta.layout.hierarchy(),c=Math.round,l=[1,1],s=null,f=Ri,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(n){return arguments.length?(l=n,i):l},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Ri(t):Di(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Di(t,n)}if(!arguments.length)return s;var r;return f=null==(s=n)?Ri:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(c=n?Math.round:Number,i):c!=Number},i.sticky=function(n){return arguments.length?(h=n,o=null,i):h
},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},Gu(i,a)},ta.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=ta.random.normal.apply(ta,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=ta.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},ta.scale={};var bl={floor:Et,ceil:Et};ta.scale.linear=function(){return Yi([0,1],[0,1],mu,!1)};var _l={s:1,g:1,p:1,r:1,e:1};ta.scale.log=function(){return Ji(ta.scale.linear().domain([0,1]),10,!0,[1,10])};var wl=ta.format(".0e"),Sl={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ta.scale.pow=function(){return Gi(ta.scale.linear(),1,[0,1])},ta.scale.sqrt=function(){return ta.scale.pow().exponent(.5)},ta.scale.ordinal=function(){return Qi([],{t:"range",a:[[]]})},ta.scale.category10=function(){return ta.scale.ordinal().range(kl)},ta.scale.category20=function(){return ta.scale.ordinal().range(El)},ta.scale.category20b=function(){return ta.scale.ordinal().range(Al)},ta.scale.category20c=function(){return ta.scale.ordinal().range(Nl)};var kl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),El=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),Al=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),Nl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);ta.scale.quantile=function(){return no([],[])},ta.scale.quantize=function(){return to(0,1,[0,1])},ta.scale.threshold=function(){return eo([.5],[0,1])},ta.scale.identity=function(){return ro([0,1])},ta.svg={},ta.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),s=o.apply(this,arguments)-ja,f=a.apply(this,arguments)-ja,h=Math.abs(f-s),g=s>f?0:1;if(n>l&&(p=l,l=n,n=p),h>=Ua)return t(l,g)+(n?t(n,1-g):"")+"Z";var p,v,d,m,y,M,x,b,_,w,S,k,E=0,A=0,N=[];if((m=(+c.apply(this,arguments)||0)/2)&&(d=i===Cl?Math.sqrt(n*n+l*l):+i.apply(this,arguments),g||(A*=-1),l&&(A=nt(d/l*Math.sin(m))),n&&(E=nt(d/n*Math.sin(m)))),l){y=l*Math.cos(s+A),M=l*Math.sin(s+A),x=l*Math.cos(f-A),b=l*Math.sin(f-A);var C=Math.abs(f-s-2*A)<=Da?0:1;if(A&&so(y,M,x,b)===g^C){var z=(s+f)/2;y=l*Math.cos(z),M=l*Math.sin(z),x=b=null}}else y=M=0;if(n){_=n*Math.cos(f-E),w=n*Math.sin(f-E),S=n*Math.cos(s+E),k=n*Math.sin(s+E);var q=Math.abs(s-f+2*E)<=Da?0:1;if(E&&so(_,w,S,k)===1-g^q){var L=(s+f)/2;_=n*Math.cos(L),w=n*Math.sin(L),S=k=null}}else _=w=0;if((p=Math.min(Math.abs(l-n)/2,+u.apply(this,arguments)))>.001){v=l>n^g?0:1;var T=null==S?[_,w]:null==x?[y,M]:Lr([y,M],[S,k],[x,b],[_,w]),R=y-T[0],D=M-T[1],P=x-T[0],U=b-T[1],j=1/Math.sin(Math.acos((R*P+D*U)/(Math.sqrt(R*R+D*D)*Math.sqrt(P*P+U*U)))/2),F=Math.sqrt(T[0]*T[0]+T[1]*T[1]);if(null!=x){var H=Math.min(p,(l-F)/(j+1)),O=fo(null==S?[_,w]:[S,k],[y,M],l,H,g),Y=fo([x,b],[_,w],l,H,g);p===H?N.push("M",O[0],"A",H,",",H," 0 0,",v," ",O[1],"A",l,",",l," 0 ",1-g^so(O[1][0],O[1][1],Y[1][0],Y[1][1]),",",g," ",Y[1],"A",H,",",H," 0 0,",v," ",Y[0]):N.push("M",O[0],"A",H,",",H," 0 1,",v," ",Y[0])}else N.push("M",y,",",M);if(null!=S){var I=Math.min(p,(n-F)/(j-1)),Z=fo([y,M],[S,k],n,-I,g),V=fo([_,w],null==x?[y,M]:[x,b],n,-I,g);p===I?N.push("L",V[0],"A",I,",",I," 0 0,",v," ",V[1],"A",n,",",n," 0 ",g^so(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-g," ",Z[1],"A",I,",",I," 0 0,",v," ",Z[0]):N.push("L",V[0],"A",I,",",I," 0 0,",v," ",Z[0])}else N.push("L",_,",",w)}else N.push("M",y,",",M),null!=x&&N.push("A",l,",",l," 0 ",C,",",g," ",x,",",b),N.push("L",_,",",w),null!=S&&N.push("A",n,",",n," 0 ",q,",",1-g," ",S,",",k);return N.push("Z"),N.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=io,r=oo,u=uo,i=Cl,o=ao,a=co,c=lo;return n.innerRadius=function(t){return arguments.length?(e=kt(t),n):e},n.outerRadius=function(t){return arguments.length?(r=kt(t),n):r},n.cornerRadius=function(t){return arguments.length?(u=kt(t),n):u},n.padRadius=function(t){return arguments.length?(i=t==Cl?Cl:kt(t),n):i},n.startAngle=function(t){return arguments.length?(o=kt(t),n):o},n.endAngle=function(t){return arguments.length?(a=kt(t),n):a},n.padAngle=function(t){return arguments.length?(c=kt(t),n):c},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-ja;return[Math.cos(t)*n,Math.sin(t)*n]},n};var Cl="auto";ta.svg.line=function(){return ho(Et)};var zl=ta.map({linear:go,"linear-closed":po,step:vo,"step-before":mo,"step-after":yo,basis:So,"basis-open":ko,"basis-closed":Eo,bundle:Ao,cardinal:bo,"cardinal-open":Mo,"cardinal-closed":xo,monotone:To});zl.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var ql=[0,2/3,1/3,0],Ll=[0,1/3,2/3,0],Tl=[0,1/6,2/3,1/6];ta.svg.line.radial=function(){var n=ho(Ro);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},mo.reverse=yo,yo.reverse=mo,ta.svg.area=function(){return Do(Et)},ta.svg.area.radial=function(){var n=Do(Ro);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ta.svg.chord=function(){function n(n,a){var c=t(this,i,n,a),l=t(this,o,n,a);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,l)?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+u(l.r,l.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=a.call(n,u,r),o=c.call(n,u,r)-ja,s=l.call(n,u,r)-ja;return{r:i,a0:o,a1:s,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(s),i*Math.sin(s)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>Da)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=mr,o=yr,a=Po,c=ao,l=co;return n.radius=function(t){return arguments.length?(a=kt(t),n):a},n.source=function(t){return arguments.length?(i=kt(t),n):i},n.target=function(t){return arguments.length?(o=kt(t),n):o},n.startAngle=function(t){return arguments.length?(c=kt(t),n):c},n.endAngle=function(t){return arguments.length?(l=kt(t),n):l},n},ta.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=e.call(this,n,u),a=(i.y+o.y)/2,c=[i,{x:i.x,y:a},{x:o.x,y:a},o];return c=c.map(r),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=mr,e=yr,r=Uo;return n.source=function(e){return arguments.length?(t=kt(e),n):t},n.target=function(t){return arguments.length?(e=kt(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ta.svg.diagonal.radial=function(){var n=ta.svg.diagonal(),t=Uo,e=n.projection;return n.projection=function(n){return arguments.length?e(jo(t=n)):t},n},ta.svg.symbol=function(){function n(n,r){return(Rl.get(t.call(this,n,r))||Oo)(e.call(this,n,r))}var t=Ho,e=Fo;return n.type=function(e){return arguments.length?(t=kt(e),n):t},n.size=function(t){return arguments.length?(e=kt(t),n):e},n};var Rl=ta.map({circle:Oo,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Pl)),e=t*Pl;return"M0,"+-t+"L"+e+",0"+" 0,"+t+" "+-e+",0"+"Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/Dl),e=t*Dl/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/Dl),e=t*Dl/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ta.svg.symbolTypes=Rl.keys();var Dl=Math.sqrt(3),Pl=Math.tan(30*Fa);ka.transition=function(n){for(var t,e,r=Ul||++Ol,u=Xo(n),i=[],o=jl||{time:Date.now(),ease:Su,delay:0,duration:250},a=-1,c=this.length;++a<c;){i.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(e=l[s])&&$o(e,s,u,r,o),t.push(e)}return Io(i,u,r)},ka.interrupt=function(n){return this.each(null==n?Fl:Yo(Xo(n)))};var Ul,jl,Fl=Yo(Xo()),Hl=[],Ol=0;Hl.call=ka.call,Hl.empty=ka.empty,Hl.node=ka.node,Hl.size=ka.size,ta.transition=function(n,t){return n&&n.transition?Ul?n.transition(t):n:Na.transition(n)},ta.transition.prototype=Hl,Hl.select=function(n){var t,e,r,u=this.id,i=this.namespace,o=[];n=k(n);for(var a=-1,c=this.length;++a<c;){o.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(r=l[s])&&(e=n.call(r,r.__data__,s,a))?("__data__"in r&&(e.__data__=r.__data__),$o(e,s,i,u,r[i][u]),t.push(e)):t.push(null)}return Io(o,i,u)},Hl.selectAll=function(n){var t,e,r,u,i,o=this.id,a=this.namespace,c=[];n=E(n);for(var l=-1,s=this.length;++l<s;)for(var f=this[l],h=-1,g=f.length;++h<g;)if(r=f[h]){i=r[a][o],e=n.call(r,r.__data__,h,l),c.push(t=[]);for(var p=-1,v=e.length;++p<v;)(u=e[p])&&$o(u,p,a,o,i),t.push(u)}return Io(c,a,o)},Hl.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=j(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]);for(var e=this[i],a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return Io(u,this.namespace,this.id)},Hl.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):H(this,null==t?function(t){t[r][e].tween.remove(n)}:function(u){u[r][e].tween.set(n,t)})},Hl.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function u(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function i(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?Hu:mu,a=ta.ns.qualify(n);return Zo(this,"attr."+n,t,a.local?i:u)},Hl.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=ta.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Hl.style=function(n,t,e){function r(){this.style.removeProperty(n)}function u(t){return null==t?r:(t+="",function(){var r,u=oa.getComputedStyle(this,null).getPropertyValue(n);return u!==t&&(r=mu(u,t),function(t){this.style.setProperty(n,r(t),e)})})}var i=arguments.length;if(3>i){if("string"!=typeof n){2>i&&(t="");for(e in n)this.style(e,n[e],t);return this}e=""}return Zo(this,"style."+n,t,u)},Hl.styleTween=function(n,t,e){function r(r,u){var i=t.call(this,r,u,oa.getComputedStyle(this,null).getPropertyValue(n));return i&&function(t){this.style.setProperty(n,i(t),e)}}return arguments.length<3&&(e=""),this.tween("style."+n,r)},Hl.text=function(n){return Zo(this,"text",n,Vo)},Hl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Hl.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=ta.ease.apply(ta,arguments)),H(this,function(r){r[e][t].ease=n}))},Hl.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:H(this,"function"==typeof n?function(r,u,i){r[e][t].delay=+n.call(r,r.__data__,u,i)}:(n=+n,function(r){r[e][t].delay=n}))},Hl.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:H(this,"function"==typeof n?function(r,u,i){r[e][t].duration=Math.max(1,n.call(r,r.__data__,u,i))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Hl.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var u=jl,i=Ul;try{Ul=e,H(this,function(t,u,i){jl=t[r][e],n.call(t,t.__data__,u,i)})}finally{jl=u,Ul=i}}else H(this,function(u){var i=u[r][e];(i.event||(i.event=ta.dispatch("start","end","interrupt"))).on(n,t)});return this},Hl.transition=function(){for(var n,t,e,r,u=this.id,i=++Ol,o=this.namespace,a=[],c=0,l=this.length;l>c;c++){a.push(n=[]);for(var t=this[c],s=0,f=t.length;f>s;s++)(e=t[s])&&(r=e[o][u],$o(e,s,o,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Io(a,o,i)},ta.svg.axis=function(){function n(n){n.each(function(){var n,l=ta.select(this),s=this.__chart__||e,f=this.__chart__=e.copy(),h=null==c?f.ticks?f.ticks.apply(f,a):f.domain():c,g=null==t?f.tickFormat?f.tickFormat.apply(f,a):Et:t,p=l.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ta),d=ta.transition(p.exit()).style("opacity",Ta).remove(),m=ta.transition(p.order()).style("opacity",1),y=Math.max(u,0)+o,M=Ui(f),x=l.selectAll(".domain").data([0]),b=(x.enter().append("path").attr("class","domain"),ta.transition(x));v.append("line"),v.append("text");var _,w,S,k,E=v.select("line"),A=m.select("line"),N=p.select("text").text(g),C=v.select("text"),z=m.select("text"),q="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=Bo,_="x",S="y",w="x2",k="y2",N.attr("dy",0>q?"0em":".71em").style("text-anchor","middle"),b.attr("d","M"+M[0]+","+q*i+"V0H"+M[1]+"V"+q*i)):(n=Wo,_="y",S="x",w="y2",k="x2",N.attr("dy",".32em").style("text-anchor",0>q?"end":"start"),b.attr("d","M"+q*i+","+M[0]+"H0V"+M[1]+"H"+q*i)),E.attr(k,q*u),C.attr(S,q*y),A.attr(w,0).attr(k,q*u),z.attr(_,0).attr(S,q*y),f.rangeBand){var L=f,T=L.rangeBand()/2;s=f=function(n){return L(n)+T}}else s.rangeBand?s=f:d.call(n,f,s);v.call(n,s,f),m.call(n,f,f)})}var t,e=ta.scale.linear(),r=Yl,u=6,i=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Il?t+"":Yl,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var Yl="bottom",Il={top:1,right:1,bottom:1,left:1};ta.svg.brush=function(){function n(i){i.each(function(){var i=ta.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",u).on("touchstart.brush",u),o=i.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=i.selectAll(".resize").data(p,Et);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Zl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var s,f=ta.transition(i),h=ta.transition(o);c&&(s=Ui(c),h.attr("x",s[0]).attr("width",s[1]-s[0]),e(f)),l&&(s=Ui(l),h.attr("y",s[0]).attr("height",s[1]-s[0]),r(f)),t(f)})}function t(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+s[+/e$/.test(n)]+","+f[+/^s/.test(n)]+")"})}function e(n){n.select(".extent").attr("x",s[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function r(n){n.select(".extent").attr("y",f[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function u(){function u(){32==ta.event.keyCode&&(N||(y=null,z[0]-=s[1],z[1]-=f[1],N=2),b())}function p(){32==ta.event.keyCode&&2==N&&(z[0]+=s[1],z[1]+=f[1],N=0,b())}function v(){var n=ta.mouse(x),u=!1;M&&(n[0]+=M[0],n[1]+=M[1]),N||(ta.event.altKey?(y||(y=[(s[0]+s[1])/2,(f[0]+f[1])/2]),z[0]=s[+(n[0]<y[0])],z[1]=f[+(n[1]<y[1])]):y=null),E&&d(n,c,0)&&(e(S),u=!0),A&&d(n,l,1)&&(r(S),u=!0),u&&(t(S),w({type:"brush",mode:N?"move":"resize"}))}function d(n,t,e){var r,u,a=Ui(t),c=a[0],l=a[1],p=z[e],v=e?f:s,d=v[1]-v[0];return N&&(c-=p,l-=d+p),r=(e?g:h)?Math.max(c,Math.min(l,n[e])):n[e],N?u=(r+=p)+d:(y&&(p=Math.max(c,Math.min(l,2*y[e]-r))),r>p?(u=r,r=p):u=p),v[0]!=r||v[1]!=u?(e?o=null:i=null,v[0]=r,v[1]=u,!0):void 0}function m(){v(),S.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ta.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),w({type:"brushend"})}var y,M,x=this,_=ta.select(ta.event.target),w=a.of(x,arguments),S=ta.select(x),k=_.datum(),E=!/^(n|s)$/.test(k)&&c,A=!/^(e|w)$/.test(k)&&l,N=_.classed("extent"),C=X(),z=ta.mouse(x),q=ta.select(oa).on("keydown.brush",u).on("keyup.brush",p);if(ta.event.changedTouches?q.on("touchmove.brush",v).on("touchend.brush",m):q.on("mousemove.brush",v).on("mouseup.brush",m),S.interrupt().selectAll("*").interrupt(),N)z[0]=s[0]-z[0],z[1]=f[0]-z[1];else if(k){var L=+/w$/.test(k),T=+/^n/.test(k);M=[s[1-L]-z[0],f[1-T]-z[1]],z[0]=s[L],z[1]=f[T]}else ta.event.altKey&&(y=z.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),ta.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),v()}var i,o,a=w(n,"brushstart","brush","brushend"),c=null,l=null,s=[0,0],f=[0,0],h=!0,g=!0,p=Vl[0];return n.event=function(n){n.each(function(){var n=a.of(this,arguments),t={x:s,y:f,i:i,j:o},e=this.__chart__||t;this.__chart__=t,Ul?ta.select(this).transition().each("start.brush",function(){i=e.i,o=e.j,s=e.x,f=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=yu(s,t.x),r=yu(f,t.y);return i=o=null,function(u){s=t.x=e(u),f=t.y=r(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=t.i,o=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(c=t,p=Vl[!c<<1|!l],n):c},n.y=function(t){return arguments.length?(l=t,p=Vl[!c<<1|!l],n):l},n.clamp=function(t){return arguments.length?(c&&l?(h=!!t[0],g=!!t[1]):c?h=!!t:l&&(g=!!t),n):c&&l?[h,g]:c?h:l?g:null},n.extent=function(t){var e,r,u,a,h;return arguments.length?(c&&(e=t[0],r=t[1],l&&(e=e[0],r=r[0]),i=[e,r],c.invert&&(e=c(e),r=c(r)),e>r&&(h=e,e=r,r=h),(e!=s[0]||r!=s[1])&&(s=[e,r])),l&&(u=t[0],a=t[1],c&&(u=u[1],a=a[1]),o=[u,a],l.invert&&(u=l(u),a=l(a)),u>a&&(h=u,u=a,a=h),(u!=f[0]||a!=f[1])&&(f=[u,a])),n):(c&&(i?(e=i[0],r=i[1]):(e=s[0],r=s[1],c.invert&&(e=c.invert(e),r=c.invert(r)),e>r&&(h=e,e=r,r=h))),l&&(o?(u=o[0],a=o[1]):(u=f[0],a=f[1],l.invert&&(u=l.invert(u),a=l.invert(a)),u>a&&(h=u,u=a,a=h))),c&&l?[[e,u],[r,a]]:c?[e,r]:l&&[u,a])},n.clear=function(){return n.empty()||(s=[0,0],f=[0,0],i=o=null),n},n.empty=function(){return!!c&&s[0]==s[1]||!!l&&f[0]==f[1]},ta.rebind(n,a,"on")};var Zl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xl=fc.format=mc.timeFormat,$l=Xl.utc,Bl=$l("%Y-%m-%dT%H:%M:%S.%LZ");Xl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Jo:Bl,Jo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Jo.toString=Bl.toString,fc.second=Ft(function(n){return new hc(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),fc.seconds=fc.second.range,fc.seconds.utc=fc.second.utc.range,fc.minute=Ft(function(n){return new hc(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),fc.minutes=fc.minute.range,fc.minutes.utc=fc.minute.utc.range,fc.hour=Ft(function(n){var t=n.getTimezoneOffset()/60;return new hc(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),fc.hours=fc.hour.range,fc.hours.utc=fc.hour.utc.range,fc.month=Ft(function(n){return n=fc.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),fc.months=fc.month.range,fc.months.utc=fc.month.utc.range;var Wl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Jl=[[fc.second,1],[fc.second,5],[fc.second,15],[fc.second,30],[fc.minute,1],[fc.minute,5],[fc.minute,15],[fc.minute,30],[fc.hour,1],[fc.hour,3],[fc.hour,6],[fc.hour,12],[fc.day,1],[fc.day,2],[fc.week,1],[fc.month,1],[fc.month,3],[fc.year,1]],Gl=Xl.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",Ne]]),Kl={range:function(n,t,e){return ta.range(Math.ceil(n/e)*e,+t,e).map(Ko)},floor:Et,ceil:Et};Jl.year=fc.year,fc.scale=function(){return Go(ta.scale.linear(),Jl,Gl)};var Ql=Jl.map(function(n){return[n[0].utc,n[1]]}),ns=$l.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",Ne]]);Ql.year=fc.year.utc,fc.scale.utc=function(){return Go(ta.scale.linear(),Ql,ns)},ta.text=At(function(n){return n.responseText}),ta.json=function(n,t){return Nt(n,"application/json",Qo,t)},ta.html=function(n,t){return Nt(n,"text/html",na,t)},ta.xml=At(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(ta):"object"==typeof module&&module.exports&&(module.exports=ta),this.d3=ta}();</script>
<script>// https://d3js.org/d3-chord/ v2.0.0-rc.10 Copyright 2020 Mike Bostock
(function (global, factory) {
typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-path')) :
typeof define === 'function' && define.amd ? define(['exports', 'd3-path'], factory) :
(global = global || self, factory(global.d3 = global.d3 || {}, global.d3));
}(this, function (exports, d3Path) { 'use strict';

var abs = Math.abs;
var cos = Math.cos;
var sin = Math.sin;
var pi = Math.PI;
var halfPi = pi / 2;
var tau = pi * 2;
var max = Math.max;
var epsilon = 1e-12;

function range(i, j) {
  return Array.from({length: j - i}, (_, k) => i + k);
}

function compareValue(compare) {
  return function(a, b) {
    return compare(
      a.source.value + a.target.value,
      b.source.value + b.target.value
    );
  };
}

function chord() {
  return chord$1(false, false);
}

function chordTranspose() {
  return chord$1(false, true);
}

function chordDirected() {
  return chord$1(true, false);
}

function chord$1(directed, transpose) {
  var padAngle = 0,
      sortGroups = null,
      sortSubgroups = null,
      sortChords = null;

  function chord(matrix) {
    var n = matrix.length,
        groupSums = new Array(n),
        groupIndex = range(0, n),
        chords = new Array(n * n),
        groups = new Array(n),
        k = 0, dx;

    matrix = Float64Array.from({length: n * n}, transpose
        ? (_, i) => matrix[i % n][i / n | 0]
        : (_, i) => matrix[i / n | 0][i % n]);

    // Compute the scaling factor from value to angle in [0, 2pi].
    for (let i = 0; i < n; ++i) {
      let x = 0;
      for (let j = 0; j < n; ++j) x += matrix[i * n + j] + directed * matrix[j * n + i];
      k += groupSums[i] = x;
    }
    k = max(0, tau - padAngle * n) / k;
    dx = k ? padAngle : tau / n;

    // Compute the angles for each group and constituent chord.
    {
      let x = 0;
      if (sortGroups) groupIndex.sort((a, b) => sortGroups(groupSums[a], groupSums[b]));
      for (const i of groupIndex) {
        const x0 = x;
        if (directed) {
          const subgroupIndex = range(~n + 1, n).filter(j => j < 0 ? matrix[~j * n + i] : matrix[i * n + j]);
          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(a < 0 ? -matrix[~a * n + i] : matrix[i * n + a], b < 0 ? -matrix[~b * n + i] : matrix[i * n + b]));
          for (const j of subgroupIndex) {
            if (j < 0) {
              const chord = chords[~j * n + i] || (chords[~j * n + i] = {source: null, target: null});
              chord.target = {index: i, startAngle: x, endAngle: x += matrix[~j * n + i] * k, value: matrix[~j * n + i]};
            } else {
              const chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});
              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};
            }
          }
          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};
        } else {
          const subgroupIndex = range(0, n).filter(j => matrix[i * n + j] || matrix[j * n + i]);
          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(matrix[i * n + a], matrix[i * n + b]));
          for (const j of subgroupIndex) {
            let chord;
            if (i < j) {
              chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});
              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};
            } else {
              chord = chords[j * n + i] || (chords[j * n + i] = {source: null, target: null});
              chord.target = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};
              if (i === j) chord.source = chord.target;
            }
            if (chord.source && chord.target && chord.source.value < chord.target.value) {
              const source = chord.source;
              chord.source = chord.target;
              chord.target = source;
            }
          }
          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};
        }
        x += dx;
      }
    }

    // Remove empty chords.
    chords = Object.values(chords);
    chords.groups = groups;
    return sortChords ? chords.sort(sortChords) : chords;
  }

  chord.padAngle = function(_) {
    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;
  };

  chord.sortGroups = function(_) {
    return arguments.length ? (sortGroups = _, chord) : sortGroups;
  };

  chord.sortSubgroups = function(_) {
    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;
  };

  chord.sortChords = function(_) {
    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;
  };

  return chord;
}

var slice = Array.prototype.slice;

function constant(x) {
  return function() {
    return x;
  };
}

function defaultSource(d) {
  return d.source;
}

function defaultTarget(d) {
  return d.target;
}

function defaultRadius(d) {
  return d.radius;
}

function defaultStartAngle(d) {
  return d.startAngle;
}

function defaultEndAngle(d) {
  return d.endAngle;
}

function defaultPadAngle() {
  return 0;
}

function defaultArrowheadRadius() {
  return 10;
}

function ribbon(headRadius) {
  var source = defaultSource,
      target = defaultTarget,
      sourceRadius = defaultRadius,
      targetRadius = defaultRadius,
      startAngle = defaultStartAngle,
      endAngle = defaultEndAngle,
      padAngle = defaultPadAngle,
      context = null;

  function ribbon() {
    var buffer,
        s = source.apply(this, arguments),
        t = target.apply(this, arguments),
        ap = padAngle.apply(this, arguments) / 2,
        argv = slice.call(arguments),
        sr = +sourceRadius.apply(this, (argv[0] = s, argv)),
        sa0 = startAngle.apply(this, argv) - halfPi,
        sa1 = endAngle.apply(this, argv) - halfPi,
        tr = +targetRadius.apply(this, (argv[0] = t, argv)),
        ta0 = startAngle.apply(this, argv) - halfPi,
        ta1 = endAngle.apply(this, argv) - halfPi;

    if (!context) context = buffer = d3Path.path();

    if (ap > epsilon) {
      if (abs(sa1 - sa0) > ap * 2 + epsilon) sa1 > sa0 ? (sa0 += ap, sa1 -= ap) : (sa0 -= ap, sa1 += ap);
      else sa0 = sa1 = (sa0 + sa1) / 2;
      if (abs(ta1 - ta0) > ap * 2 + epsilon) ta1 > ta0 ? (ta0 += ap, ta1 -= ap) : (ta0 -= ap, ta1 += ap);
      else ta0 = ta1 = (ta0 + ta1) / 2;
    }

    context.moveTo(sr * cos(sa0), sr * sin(sa0));
    context.arc(0, 0, sr, sa0, sa1);
    if (sa0 !== ta0 || sa1 !== ta1) {
      if (headRadius) {
        var hr = +headRadius.apply(this, arguments), tr2 = tr - hr, ta2 = (ta0 + ta1) / 2;
        context.quadraticCurveTo(0, 0, tr2 * cos(ta0), tr2 * sin(ta0));
        context.lineTo(tr * cos(ta2), tr * sin(ta2));
        context.lineTo(tr2 * cos(ta1), tr2 * sin(ta1));
      } else {
        context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));
        context.arc(0, 0, tr, ta0, ta1);
      }
    }
    context.quadraticCurveTo(0, 0, sr * cos(sa0), sr * sin(sa0));
    context.closePath();

    if (buffer) return context = null, buffer + "" || null;
  }

  if (headRadius) ribbon.headRadius = function(_) {
    return arguments.length ? (headRadius = typeof _ === "function" ? _ : constant(+_), ribbon) : headRadius;
  };

  ribbon.radius = function(_) {
    return arguments.length ? (sourceRadius = targetRadius = typeof _ === "function" ? _ : constant(+_), ribbon) : sourceRadius;
  };

  ribbon.sourceRadius = function(_) {
    return arguments.length ? (sourceRadius = typeof _ === "function" ? _ : constant(+_), ribbon) : sourceRadius;
  };

  ribbon.targetRadius = function(_) {
    return arguments.length ? (targetRadius = typeof _ === "function" ? _ : constant(+_), ribbon) : targetRadius;
  };

  ribbon.startAngle = function(_) {
    return arguments.length ? (startAngle = typeof _ === "function" ? _ : constant(+_), ribbon) : startAngle;
  };

  ribbon.endAngle = function(_) {
    return arguments.length ? (endAngle = typeof _ === "function" ? _ : constant(+_), ribbon) : endAngle;
  };

  ribbon.padAngle = function(_) {
    return arguments.length ? (padAngle = typeof _ === "function" ? _ : constant(+_), ribbon) : padAngle;
  };

  ribbon.source = function(_) {
    return arguments.length ? (source = _, ribbon) : source;
  };

  ribbon.target = function(_) {
    return arguments.length ? (target = _, ribbon) : target;
  };

  ribbon.context = function(_) {
    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;
  };

  return ribbon;
}

function ribbon$1() {
  return ribbon();
}

function ribbonArrow() {
  return ribbon(defaultArrowheadRadius);
}

exports.chord = chord;
exports.chordDirected = chordDirected;
exports.chordTranspose = chordTranspose;
exports.ribbon = ribbon$1;
exports.ribbonArrow = ribbonArrow;

Object.defineProperty(exports, '__esModule', { value: true });

}));
</script>
<script>function colorsNeeded(activity) {

    var mainColors = {

        'Sleep': [
            [58, 118, 175],
            [83, 140, 198],
            [32, 64, 96]]
        ,

        'Personal Care': [
            [178, 199, 229],
            [197, 213, 235],
            [121, 157, 210]]
        ,

        'Housework': [
            [239, 133, 54],
            [245, 176, 125],
            [201, 95, 16]]
        ,

        'Child Care': [
            [245, 189, 130],
            [251, 226, 201],
            [239, 152, 59]]
        ,

        'Adult Care': [
            [82, 157, 62],
            [121, 194, 101],
            [53, 102, 40]]
        ,

        'Work': [
            [168, 220, 147],
            [199, 232, 186],
            [121, 201, 89]]
        ,

        'Shopping': [
            [197, 57, 50],
            [241, 204, 202],
            [136, 39, 35]]
        ,

        'TV Watching': [
            [241, 157, 153],
            [250, 222, 220],
            [232, 92, 86]]
        ,

        'Eating': [
            [141, 107, 184],
            [181, 159, 209],
            [103, 70, 145]]
        ,

        'Leisure': [
            [193, 177, 210],
            [232, 226, 238],
            [154, 128, 182]]
        ,

        'Travel': [
            [133, 88, 78],
            [173, 125, 115],
            [85, 56, 50]]

    };

    return mainColors[activity];
}

// (kk) additional functions to translate rgb colors into hex
function rgbToHex(rgb) {
    var hex = Number(rgb).toString(16);
    if (hex.length < 2) { hex = "0" + hex; }
    return hex;
};

function fullColorHex(arr) {
    var red = rgbToHex(arr[0]);
    var green = rgbToHex(arr[1]);
    var blue = rgbToHex(arr[2]);
    return red+green+blue;
};
</script>
<script>// https://d3js.org Version 4.2.2. Copyright 2016 Mike Bostock.
! function(t, n) {
    "object" == typeof exports && "undefined" != typeof module ? n(exports) : "function" == typeof define && define.amd ? define(["exports"], n) : n(t.d3v4 = t.d3v4 || {})
}(this, function(t) {
    "use strict";

    function n(t, n) {
        return t < n ? -1 : t > n ? 1 : t >= n ? 0 : NaN
    }

    function e(t) {
        return 1 === t.length && (t = r(t)), {
            left: function(n, e, r, i) {
                for (null == r && (r = 0), null == i && (i = n.length); r < i;) {
                    var o = r + i >>> 1;
                    t(n[o], e) < 0 ? r = o + 1 : i = o
                }
                return r
            },
            right: function(n, e, r, i) {
                for (null == r && (r = 0), null == i && (i = n.length); r < i;) {
                    var o = r + i >>> 1;
                    t(n[o], e) > 0 ? i = o : r = o + 1
                }
                return r
            }
        }
    }

    function r(t) {
        return function(e, r) {
            return n(t(e), r)
        }
    }

    function i(t, n) {
        return n < t ? -1 : n > t ? 1 : n >= t ? 0 : NaN
    }

    function o(t) {
        return null === t ? NaN : +t
    }

    function u(t, n) {
        var e, r, i = t.length,
            u = 0,
            a = 0,
            c = -1,
            s = 0;
        if (null == n)
            for (; ++c < i;) isNaN(e = o(t[c])) || (r = e - u, u += r / ++s, a += r * (e - u));
        else
            for (; ++c < i;) isNaN(e = o(n(t[c], c, t))) || (r = e - u, u += r / ++s, a += r * (e - u));
        if (s > 1) return a / (s - 1)
    }

    function a(t, n) {
        var e = u(t, n);
        return e ? Math.sqrt(e) : e
    }

    function c(t, n) {
        var e, r, i, o = -1,
            u = t.length;
        if (null == n) {
            for (; ++o < u;)
                if (null != (r = t[o]) && r >= r) {
                    e = i = r;
                    break
                } for (; ++o < u;) null != (r = t[o]) && (e > r && (e = r), i < r && (i = r))
        } else {
            for (; ++o < u;)
                if (null != (r = n(t[o], o, t)) && r >= r) {
                    e = i = r;
                    break
                } for (; ++o < u;) null != (r = n(t[o], o, t)) && (e > r && (e = r), i < r && (i = r))
        }
        return [e, i]
    }

    function s(t) {
        return function() {
            return t
        }
    }

    function f(t) {
        return t
    }

    function l(t, n, e) {
        t = +t, n = +n, e = (i = arguments.length) < 2 ? (n = t, t = 0, 1) : i < 3 ? 1 : +e;
        for (var r = -1, i = 0 | Math.max(0, Math.ceil((n - t) / e)), o = new Array(i); ++r < i;) o[r] = t + r * e;
        return o
    }

    function h(t, n, e) {
        var r = p(t, n, e);
        return l(Math.ceil(t / r) * r, Math.floor(n / r) * r + r / 2, r)
    }

    function p(t, n, e) {
        var r = Math.abs(n - t) / Math.max(0, e),
            i = Math.pow(10, Math.floor(Math.log(r) / Math.LN10)),
            o = r / i;
        return o >= Rd ? i *= 10 : o >= Ud ? i *= 5 : o >= Dd && (i *= 2), n < t ? -i : i
    }

    function d(t) {
        return Math.ceil(Math.log(t.length) / Math.LN2) + 1
    }

    function v() {
        function t(t) {
            var i, o, u = t.length,
                a = new Array(u);
            for (i = 0; i < u; ++i) a[i] = n(t[i], i, t);
            var c = e(a),
                s = c[0],
                f = c[1],
                l = r(a, s, f);
            Array.isArray(l) || (l = h(s, f, l));
            for (var p = l.length; l[0] <= s;) l.shift(), --p;
            for (; l[p - 1] >= f;) l.pop(), --p;
            var d, v = new Array(p + 1);
            for (i = 0; i <= p; ++i) d = v[i] = [], d.x0 = i > 0 ? l[i - 1] : s, d.x1 = i < p ? l[i] : f;
            for (i = 0; i < u; ++i) o = a[i], s <= o && o <= f && v[Cd(l, o, 0, p)].push(t[i]);
            return v
        }
        var n = f,
            e = c,
            r = d;
        return t.value = function(e) {
            return arguments.length ? (n = "function" == typeof e ? e : s(e), t) : n
        }, t.domain = function(n) {
            return arguments.length ? (e = "function" == typeof n ? n : s([n[0], n[1]]), t) : e
        }, t.thresholds = function(n) {
            return arguments.length ? (r = "function" == typeof n ? n : s(Array.isArray(n) ? qd.call(n) : n), t) : r
        }, t
    }

    function _(t, n, e) {
        if (null == e && (e = o), r = t.length) {
            if ((n = +n) <= 0 || r < 2) return +e(t[0], 0, t);
            if (n >= 1) return +e(t[r - 1], r - 1, t);
            var r, i = (r - 1) * n,
                u = Math.floor(i),
                a = +e(t[u], u, t),
                c = +e(t[u + 1], u + 1, t);
            return a + (c - a) * (i - u)
        }
    }

    function y(t, e, r) {
        return t = Ld.call(t, o).sort(n), Math.ceil((r - e) / (2 * (_(t, .75) - _(t, .25)) * Math.pow(t.length, -1 / 3)))
    }

    function g(t, n, e) {
        return Math.ceil((e - n) / (3.5 * a(t) * Math.pow(t.length, -1 / 3)))
    }

    function m(t, n) {
        var e, r, i = -1,
            o = t.length;
        if (null == n) {
            for (; ++i < o;)
                if (null != (r = t[i]) && r >= r) {
                    e = r;
                    break
                } for (; ++i < o;) null != (r = t[i]) && r > e && (e = r)
        } else {
            for (; ++i < o;)
                if (null != (r = n(t[i], i, t)) && r >= r) {
                    e = r;
                    break
                } for (; ++i < o;) null != (r = n(t[i], i, t)) && r > e && (e = r)
        }
        return e
    }

    function x(t, n) {
        var e, r = 0,
            i = t.length,
            u = -1,
            a = i;
        if (null == n)
            for (; ++u < i;) isNaN(e = o(t[u])) ? --a : r += e;
        else
            for (; ++u < i;) isNaN(e = o(n(t[u], u, t))) ? --a : r += e;
        if (a) return r / a
    }

    function b(t, e) {
        var r, i = [],
            u = t.length,
            a = -1;
        if (null == e)
            for (; ++a < u;) isNaN(r = o(t[a])) || i.push(r);
        else
            for (; ++a < u;) isNaN(r = o(e(t[a], a, t))) || i.push(r);
        return _(i.sort(n), .5)
    }

    function w(t) {
        for (var n, e, r, i = t.length, o = -1, u = 0; ++o < i;) u += t[o].length;
        for (e = new Array(u); --i >= 0;)
            for (r = t[i], n = r.length; --n >= 0;) e[--u] = r[n];
        return e
    }

    function M(t, n) {
        var e, r, i = -1,
            o = t.length;
        if (null == n) {
            for (; ++i < o;)
                if (null != (r = t[i]) && r >= r) {
                    e = r;
                    break
                } for (; ++i < o;) null != (r = t[i]) && e > r && (e = r)
        } else {
            for (; ++i < o;)
                if (null != (r = n(t[i], i, t)) && r >= r) {
                    e = r;
                    break
                } for (; ++i < o;) null != (r = n(t[i], i, t)) && e > r && (e = r)
        }
        return e
    }

    function T(t) {
        for (var n = 0, e = t.length - 1, r = t[0], i = new Array(e < 0 ? 0 : e); n < e;) i[n] = [r, r = t[++n]];
        return i
    }

    function k(t, n) {
        for (var e = n.length, r = new Array(e); e--;) r[e] = t[n[e]];
        return r
    }

    function S(t, e) {
        if (r = t.length) {
            var r, i, o = 0,
                u = 0,
                a = t[u];
            for (e || (e = n); ++o < r;)(e(i = t[o], a) < 0 || 0 !== e(a, a)) && (a = i, u = o);
            return 0 === e(a, a) ? u : void 0
        }
    }

    function N(t, n, e) {
        for (var r, i, o = (null == e ? t.length : e) - (n = null == n ? 0 : +n); o;) i = Math.random() * o-- | 0, r = t[o + n], t[o + n] = t[i + n], t[i + n] = r;
        return t
    }

    function A(t, n) {
        var e, r = 0,
            i = t.length,
            o = -1;
        if (null == n)
            for (; ++o < i;)(e = +t[o]) && (r += e);
        else
            for (; ++o < i;)(e = +n(t[o], o, t)) && (r += e);
        return r
    }

    function E(t) {
        if (!(i = t.length)) return [];
        for (var n = -1, e = M(t, C), r = new Array(e); ++n < e;)
            for (var i, o = -1, u = r[n] = new Array(i); ++o < i;) u[o] = t[o][n];
        return r
    }

    function C(t) {
        return t.length
    }

    function z() {
        return E(arguments)
    }

    function P() {}

    function q(t, n) {
        var e = new P;
        if (t instanceof P) t.each(function(t, n) {
            e.set(n, t)
        });
        else if (Array.isArray(t)) {
            var r, i = -1,
                o = t.length;
            if (null == n)
                for (; ++i < o;) e.set(i, t[i]);
            else
                for (; ++i < o;) e.set(n(r = t[i], i, t), r)
        } else if (t)
            for (var u in t) e.set(u, t[u]);
        return e
    }

    function L() {
        function t(n, i, u, a) {
            if (i >= o.length) return null != r ? r(n) : null != e ? n.sort(e) : n;
            for (var c, s, f, l = -1, h = n.length, p = o[i++], d = q(), v = u(); ++l < h;)(f = d.get(c = p(s = n[l]) + "")) ? f.push(s) : d.set(c, [s]);
            return d.each(function(n, e) {
                a(v, e, t(n, i, u, a))
            }), v
        }

        function n(t, e) {
            if (++e > o.length) return t;
            var i, a = u[e - 1];
            return null != r && e >= o.length ? i = t.entries() : (i = [], t.each(function(t, r) {
                i.push({
                    key: r,
                    values: n(t, e)
                })
            })), null != a ? i.sort(function(t, n) {
                return a(t.key, n.key)
            }) : i
        }
        var e, r, i, o = [],
            u = [];
        return i = {
            object: function(n) {
                return t(n, 0, R, U)
            },
            map: function(n) {
                return t(n, 0, D, O)
            },
            entries: function(e) {
                return n(t(e, 0, D, O), 0)
            },
            key: function(t) {
                return o.push(t), i
            },
            sortKeys: function(t) {
                return u[o.length - 1] = t, i
            },
            sortValues: function(t) {
                return e = t, i
            },
            rollup: function(t) {
                return r = t, i
            }
        }
    }

    function R() {
        return {}
    }

    function U(t, n, e) {
        t[n] = e
    }

    function D() {
        return q()
    }

    function O(t, n, e) {
        t.set(n, e)
    }

    function F() {}

    function I(t, n) {
        var e = new F;
        if (t instanceof F) t.each(function(t) {
            e.add(t)
        });
        else if (t) {
            var r = -1,
                i = t.length;
            if (null == n)
                for (; ++r < i;) e.add(t[r]);
            else
                for (; ++r < i;) e.add(n(t[r], r, t))
        }
        return e
    }

    function Y(t) {
        var n = [];
        for (var e in t) n.push(e);
        return n
    }

    function B(t) {
        var n = [];
        for (var e in t) n.push(t[e]);
        return n
    }

    function j(t) {
        var n = [];
        for (var e in t) n.push({
            key: e,
            value: t[e]
        });
        return n
    }

    function H(t, n) {
        return t = null == t ? 0 : +t, n = null == n ? 1 : +n, 1 === arguments.length ? (n = t, t = 0) : n -= t,
            function() {
                return Math.random() * n + t
            }
    }

    function X(t, n) {
        var e, r;
        return t = null == t ? 0 : +t, n = null == n ? 1 : +n,
            function() {
                var i;
                if (null != e) i = e, e = null;
                else
                    do e = 2 * Math.random() - 1, i = 2 * Math.random() - 1, r = e * e + i * i; while (!r || r > 1);
                return t + n * i * Math.sqrt(-2 * Math.log(r) / r)
            }
    }

    function V() {
        var t = X.apply(this, arguments);
        return function() {
            return Math.exp(t())
        }
    }

    function W(t) {
        return function() {
            for (var n = 0, e = 0; e < t; ++e) n += Math.random();
            return n
        }
    }

    function $(t) {
        var n = W(t);
        return function() {
            return n() / t
        }
    }

    function Z(t) {
        return function() {
            return -Math.log(1 - Math.random()) / t
        }
    }

    function G(t) {
        return +t
    }

    function J(t) {
        return t * t
    }

    function Q(t) {
        return t * (2 - t)
    }

    function K(t) {
        return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2
    }

    function tt(t) {
        return t * t * t
    }

    function nt(t) {
        return --t * t * t + 1
    }

    function et(t) {
        return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2
    }

    function rt(t) {
        return 1 - Math.cos(t * Xd)
    }

    function it(t) {
        return Math.sin(t * Xd)
    }

    function ot(t) {
        return (1 - Math.cos(Hd * t)) / 2
    }

    function ut(t) {
        return Math.pow(2, 10 * t - 10)
    }

    function at(t) {
        return 1 - Math.pow(2, -10 * t)
    }

    function ct(t) {
        return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2
    }

    function st(t) {
        return 1 - Math.sqrt(1 - t * t)
    }

    function ft(t) {
        return Math.sqrt(1 - --t * t)
    }

    function lt(t) {
        return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2
    }

    function ht(t) {
        return 1 - pt(1 - t)
    }

    function pt(t) {
        return (t = +t) < Vd ? nv * t * t : t < $d ? nv * (t -= Wd) * t + Zd : t < Jd ? nv * (t -= Gd) * t + Qd : nv * (t -= Kd) * t + tv
    }

    function dt(t) {
        return ((t *= 2) <= 1 ? 1 - pt(1 - t) : pt(t - 1) + 1) / 2
    }

    function vt(t) {
        for (var n, e = -1, r = t.length, i = t[r - 1], o = 0; ++e < r;) n = i, i = t[e], o += n[1] * i[0] - n[0] * i[1];
        return o / 2
    }

    function _t(t) {
        for (var n, e, r = -1, i = t.length, o = 0, u = 0, a = t[i - 1], c = 0; ++r < i;) n = a, a = t[r], c += e = n[0] * a[1] - a[0] * n[1], o += (n[0] + a[0]) * e, u += (n[1] + a[1]) * e;
        return c *= 3, [o / c, u / c]
    }

    function yt(t, n, e) {
        return (n[0] - t[0]) * (e[1] - t[1]) - (n[1] - t[1]) * (e[0] - t[0])
    }

    function gt(t, n) {
        return t[0] - n[0] || t[1] - n[1]
    }

    function mt(t) {
        for (var n = t.length, e = [0, 1], r = 2, i = 2; i < n; ++i) {
            for (; r > 1 && yt(t[e[r - 2]], t[e[r - 1]], t[i]) <= 0;) --r;
            e[r++] = i
        }
        return e.slice(0, r)
    }

    function xt(t) {
        if ((e = t.length) < 3) return null;
        var n, e, r = new Array(e),
            i = new Array(e);
        for (n = 0; n < e; ++n) r[n] = [+t[n][0], +t[n][1], n];
        for (r.sort(gt), n = 0; n < e; ++n) i[n] = [r[n][0], -r[n][1]];
        var o = mt(r),
            u = mt(i),
            a = u[0] === o[0],
            c = u[u.length - 1] === o[o.length - 1],
            s = [];
        for (n = o.length - 1; n >= 0; --n) s.push(t[r[o[n]][2]]);
        for (n = +a; n < u.length - c; ++n) s.push(t[r[u[n]][2]]);
        return s
    }

    function bt(t, n) {
        for (var e, r, i = t.length, o = t[i - 1], u = n[0], a = n[1], c = o[0], s = o[1], f = !1, l = 0; l < i; ++l) o = t[l], e = o[0], r = o[1], r > a != s > a && u < (c - e) * (a - r) / (s - r) + e && (f = !f), c = e, s = r;
        return f
    }

    function wt(t) {
        for (var n, e, r = -1, i = t.length, o = t[i - 1], u = o[0], a = o[1], c = 0; ++r < i;) n = u, e = a, o = t[r], u = o[0], a = o[1], n -= u, e -= a, c += Math.sqrt(n * n + e * e);
        return c
    }

    function Mt() {
        this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = []
    }

    function Tt() {
        return new Mt
    }

    function kt(t) {
        var n = +this._x.call(null, t),
            e = +this._y.call(null, t);
        return St(this.cover(n, e), n, e, t)
    }

    function St(t, n, e, r) {
        if (isNaN(n) || isNaN(e)) return t;
        var i, o, u, a, c, s, f, l, h, p = t._root,
            d = {
                data: r
            },
            v = t._x0,
            _ = t._y0,
            y = t._x1,
            g = t._y1;
        if (!p) return t._root = d, t;
        for (; p.length;)
            if ((s = n >= (o = (v + y) / 2)) ? v = o : y = o, (f = e >= (u = (_ + g) / 2)) ? _ = u : g = u, i = p, !(p = p[l = f << 1 | s])) return i[l] = d, t;
        if (a = +t._x.call(null, p.data), c = +t._y.call(null, p.data), n === a && e === c) return d.next = p, i ? i[l] = d : t._root = d, t;
        do i = i ? i[l] = new Array(4) : t._root = new Array(4), (s = n >= (o = (v + y) / 2)) ? v = o : y = o, (f = e >= (u = (_ + g) / 2)) ? _ = u : g = u; while ((l = f << 1 | s) === (h = (c >= u) << 1 | a >= o));
        return i[h] = p, i[l] = d, t
    }

    function Nt(t) {
        var n, e, r, i, o = t.length,
            u = new Array(o),
            a = new Array(o),
            c = 1 / 0,
            s = 1 / 0,
            f = -(1 / 0),
            l = -(1 / 0);
        for (e = 0; e < o; ++e) isNaN(r = +this._x.call(null, n = t[e])) || isNaN(i = +this._y.call(null, n)) || (u[e] = r, a[e] = i, r < c && (c = r), r > f && (f = r), i < s && (s = i), i > l && (l = i));
        for (f < c && (c = this._x0, f = this._x1), l < s && (s = this._y0, l = this._y1), this.cover(c, s).cover(f, l), e = 0; e < o; ++e) St(this, u[e], a[e], t[e]);
        return this
    }

    function At(t, n) {
        if (isNaN(t = +t) || isNaN(n = +n)) return this;
        var e = this._x0,
            r = this._y0,
            i = this._x1,
            o = this._y1;
        if (isNaN(e)) i = (e = Math.floor(t)) + 1, o = (r = Math.floor(n)) + 1;
        else {
            if (!(e > t || t > i || r > n || n > o)) return this;
            var u, a, c = i - e,
                s = this._root;
            switch (a = (n < (r + o) / 2) << 1 | t < (e + i) / 2) {
                case 0:
                    do u = new Array(4), u[a] = s, s = u; while (c *= 2, i = e + c, o = r + c, t > i || n > o);
                    break;
                case 1:
                    do u = new Array(4), u[a] = s, s = u; while (c *= 2, e = i - c, o = r + c, e > t || n > o);
                    break;
                case 2:
                    do u = new Array(4), u[a] = s, s = u; while (c *= 2, i = e + c, r = o - c, t > i || r > n);
                    break;
                case 3:
                    do u = new Array(4), u[a] = s, s = u; while (c *= 2, e = i - c, r = o - c, e > t || r > n)
            }
            this._root && this._root.length && (this._root = s)
        }
        return this._x0 = e, this._y0 = r, this._x1 = i, this._y1 = o, this
    }

    function Et() {
        var t = [];
        return this.visit(function(n) {
            if (!n.length)
                do t.push(n.data); while (n = n.next)
        }), t
    }

    function Ct(t) {
        return arguments.length ? this.cover(+t[0][0], +t[0][1]).cover(+t[1][0], +t[1][1]) : isNaN(this._x0) ? void 0 : [
            [this._x0, this._y0],
            [this._x1, this._y1]
        ]
    }

    function zt(t, n, e, r, i) {
        this.node = t, this.x0 = n, this.y0 = e, this.x1 = r, this.y1 = i
    }

    function Pt(t, n, e) {
        var r, i, o, u, a, c, s, f = this._x0,
            l = this._y0,
            h = this._x1,
            p = this._y1,
            d = [],
            v = this._root;
        for (v && d.push(new zt(v, f, l, h, p)), null == e ? e = 1 / 0 : (f = t - e, l = n - e, h = t + e, p = n + e, e *= e); c = d.pop();)
            if (!(!(v = c.node) || (i = c.x0) > h || (o = c.y0) > p || (u = c.x1) < f || (a = c.y1) < l))
                if (v.length) {
                    var _ = (i + u) / 2,
                        y = (o + a) / 2;
                    d.push(new zt(v[3], _, y, u, a), new zt(v[2], i, y, _, a), new zt(v[1], _, o, u, y), new zt(v[0], i, o, _, y)), (s = (n >= y) << 1 | t >= _) && (c = d[d.length - 1], d[d.length - 1] = d[d.length - 1 - s], d[d.length - 1 - s] = c)
                } else {
                    var g = t - +this._x.call(null, v.data),
                        m = n - +this._y.call(null, v.data),
                        x = g * g + m * m;
                    if (x < e) {
                        var b = Math.sqrt(e = x);
                        f = t - b, l = n - b, h = t + b, p = n + b, r = v.data
                    }
                } return r
    }

    function qt(t) {
        if (isNaN(o = +this._x.call(null, t)) || isNaN(u = +this._y.call(null, t))) return this;
        var n, e, r, i, o, u, a, c, s, f, l, h, p = this._root,
            d = this._x0,
            v = this._y0,
            _ = this._x1,
            y = this._y1;
        if (!p) return this;
        if (p.length)
            for (;;) {
                if ((s = o >= (a = (d + _) / 2)) ? d = a : _ = a, (f = u >= (c = (v + y) / 2)) ? v = c : y = c, n = p, !(p = p[l = f << 1 | s])) return this;
                if (!p.length) break;
                (n[l + 1 & 3] || n[l + 2 & 3] || n[l + 3 & 3]) && (e = n, h = l)
            }
        for (; p.data !== t;)
            if (r = p, !(p = p.next)) return this;
        return (i = p.next) && delete p.next, r ? (i ? r.next = i : delete r.next, this) : n ? (i ? n[l] = i : delete n[l], (p = n[0] || n[1] || n[2] || n[3]) && p === (n[3] || n[2] || n[1] || n[0]) && !p.length && (e ? e[h] = p : this._root = p), this) : (this._root = i, this)
    }

    function Lt(t) {
        for (var n = 0, e = t.length; n < e; ++n) this.remove(t[n]);
        return this
    }

    function Rt() {
        return this._root
    }

    function Ut() {
        var t = 0;
        return this.visit(function(n) {
            if (!n.length)
                do ++t; while (n = n.next)
        }), t
    }

    function Dt(t) {
        var n, e, r, i, o, u, a = [],
            c = this._root;
        for (c && a.push(new zt(c, this._x0, this._y0, this._x1, this._y1)); n = a.pop();)
            if (!t(c = n.node, r = n.x0, i = n.y0, o = n.x1, u = n.y1) && c.length) {
                var s = (r + o) / 2,
                    f = (i + u) / 2;
                (e = c[3]) && a.push(new zt(e, s, f, o, u)), (e = c[2]) && a.push(new zt(e, r, f, s, u)), (e = c[1]) && a.push(new zt(e, s, i, o, f)), (e = c[0]) && a.push(new zt(e, r, i, s, f))
            } return this
    }

    function Ot(t) {
        var n, e = [],
            r = [];
        for (this._root && e.push(new zt(this._root, this._x0, this._y0, this._x1, this._y1)); n = e.pop();) {
            var i = n.node;
            if (i.length) {
                var o, u = n.x0,
                    a = n.y0,
                    c = n.x1,
                    s = n.y1,
                    f = (u + c) / 2,
                    l = (a + s) / 2;
                (o = i[0]) && e.push(new zt(o, u, a, f, l)), (o = i[1]) && e.push(new zt(o, f, a, c, l)), (o = i[2]) && e.push(new zt(o, u, l, f, s)), (o = i[3]) && e.push(new zt(o, f, l, c, s))
            }
            r.push(n)
        }
        for (; n = r.pop();) t(n.node, n.x0, n.y0, n.x1, n.y1);
        return this
    }

    function Ft(t) {
        return t[0]
    }

    function It(t) {
        return arguments.length ? (this._x = t, this) : this._x
    }

    function Yt(t) {
        return t[1]
    }

    function Bt(t) {
        return arguments.length ? (this._y = t, this) : this._y
    }

    function jt(t, n, e) {
        var r = new Ht(null == n ? Ft : n, null == e ? Yt : e, NaN, NaN, NaN, NaN);
        return null == t ? r : r.addAll(t)
    }

    function Ht(t, n, e, r, i, o) {
        this._x = t, this._y = n, this._x0 = e, this._y0 = r, this._x1 = i, this._y1 = o, this._root = void 0
    }

    function Xt(t) {
        for (var n = {
                data: t.data
            }, e = n; t = t.next;) e = e.next = {
            data: t.data
        };
        return n
    }

    function Vt(t) {
        if (!(t >= 1)) throw new Error;
        this._size = t, this._call = this._error = null, this._tasks = [], this._data = [], this._waiting = this._active = this._ended = this._start = 0
    }

    function Wt(t) {
        if (!t._start) try {
            $t(t)
        } catch (n) {
            t._tasks[t._ended + t._active - 1] && Gt(t, n)
        }
    }

    function $t(t) {
        for (; t._start = t._waiting && t._active < t._size;) {
            var n = t._ended + t._active,
                e = t._tasks[n],
                r = e.length - 1,
                i = e[r];
            e[r] = Zt(t, n), --t._waiting, ++t._active, e = i.apply(null, e), t._tasks[n] && (t._tasks[n] = e || gv)
        }
    }

    function Zt(t, n) {
        return function(e, r) {
            t._tasks[n] && (--t._active, ++t._ended, t._tasks[n] = null, null == t._error && (null != e ? Gt(t, e) : (t._data[n] = r, t._waiting ? Wt(t) : Jt(t))))
        }
    }

    function Gt(t, n) {
        var e, r = t._tasks.length;
        for (t._error = n, t._data = void 0, t._waiting = NaN; --r >= 0;)
            if ((e = t._tasks[r]) && (t._tasks[r] = null, e.abort)) try {
                e.abort()
            } catch (t) {}
        t._active = NaN, Jt(t)
    }

    function Jt(t) {
        !t._active && t._call && t._call(t._error, t._data)
    }

    function Qt(t) {
        return new Vt(arguments.length ? +t : 1 / 0)
    }

    function Kt(t) {
        return function() {
            return t
        }
    }

    function tn(t) {
        return t.innerRadius
    }

    function nn(t) {
        return t.outerRadius
    }

    function en(t) {
        return t.startAngle
    }

    function rn(t) {
        return t.endAngle
    }

    function on(t) {
        return t && t.padAngle
    }

    function un(t) {
        return t >= 1 ? bv : t <= -1 ? -bv : Math.asin(t)
    }

    function an(t, n, e, r, i, o, u, a) {
        var c = e - t,
            s = r - n,
            f = u - i,
            l = a - o,
            h = (f * (n - o) - l * (t - i)) / (l * c - f * s);
        return [t + h * c, n + h * s]
    }

    function cn(t, n, e, r, i, o, u) {
        var a = t - e,
            c = n - r,
            s = (u ? o : -o) / Math.sqrt(a * a + c * c),
            f = s * c,
            l = -s * a,
            h = t + f,
            p = n + l,
            d = e + f,
            v = r + l,
            _ = (h + d) / 2,
            y = (p + v) / 2,
            g = d - h,
            m = v - p,
            x = g * g + m * m,
            b = i - o,
            w = h * v - d * p,
            M = (m < 0 ? -1 : 1) * Math.sqrt(Math.max(0, b * b * x - w * w)),
            T = (w * m - g * M) / x,
            k = (-w * g - m * M) / x,
            S = (w * m + g * M) / x,
            N = (-w * g + m * M) / x,
            A = T - _,
            E = k - y,
            C = S - _,
            z = N - y;
        return A * A + E * E > C * C + z * z && (T = S, k = N), {
            cx: T,
            cy: k,
            x01: -f,
            y01: -l,
            x11: T * (i / b - 1),
            y11: k * (i / b - 1)
        }
    }

    function sn() {
        function t() {
            var t, s, f = +n.apply(this, arguments),
                l = +e.apply(this, arguments),
                h = o.apply(this, arguments) - bv,
                p = u.apply(this, arguments) - bv,
                d = Math.abs(p - h),
                v = p > h;
            if (c || (c = t = Tt()), l < f && (s = l, l = f, f = s), l > mv)
                if (d > wv - mv) c.moveTo(l * Math.cos(h), l * Math.sin(h)), c.arc(0, 0, l, h, p, !v), f > mv && (c.moveTo(f * Math.cos(p), f * Math.sin(p)), c.arc(0, 0, f, p, h, v));
                else {
                    var _, y, g = h,
                        m = p,
                        x = h,
                        b = p,
                        w = d,
                        M = d,
                        T = a.apply(this, arguments) / 2,
                        k = T > mv && (i ? +i.apply(this, arguments) : Math.sqrt(f * f + l * l)),
                        S = Math.min(Math.abs(l - f) / 2, +r.apply(this, arguments)),
                        N = S,
                        A = S;
                    if (k > mv) {
                        var E = un(k / f * Math.sin(T)),
                            C = un(k / l * Math.sin(T));
                        (w -= 2 * E) > mv ? (E *= v ? 1 : -1, x += E, b -= E) : (w = 0, x = b = (h + p) / 2), (M -= 2 * C) > mv ? (C *= v ? 1 : -1, g += C, m -= C) : (M = 0, g = m = (h + p) / 2)
                    }
                    var z = l * Math.cos(g),
                        P = l * Math.sin(g),
                        q = f * Math.cos(b),
                        L = f * Math.sin(b);
                    if (S > mv) {
                        var R = l * Math.cos(m),
                            U = l * Math.sin(m),
                            D = f * Math.cos(x),
                            O = f * Math.sin(x);
                        if (d < xv) {
                            var F = w > mv ? an(z, P, D, O, R, U, q, L) : [q, L],
                                I = z - F[0],
                                Y = P - F[1],
                                B = R - F[0],
                                j = U - F[1],
                                H = 1 / Math.sin(Math.acos((I * B + Y * j) / (Math.sqrt(I * I + Y * Y) * Math.sqrt(B * B + j * j))) / 2),
                                X = Math.sqrt(F[0] * F[0] + F[1] * F[1]);
                            N = Math.min(S, (f - X) / (H - 1)), A = Math.min(S, (l - X) / (H + 1))
                        }
                    }
                    M > mv ? A > mv ? (_ = cn(D, O, z, P, l, A, v), y = cn(R, U, q, L, l, A, v), c.moveTo(_.cx + _.x01, _.cy + _.y01), A < S ? c.arc(_.cx, _.cy, A, Math.atan2(_.y01, _.x01), Math.atan2(y.y01, y.x01), !v) : (c.arc(_.cx, _.cy, A, Math.atan2(_.y01, _.x01), Math.atan2(_.y11, _.x11), !v), c.arc(0, 0, l, Math.atan2(_.cy + _.y11, _.cx + _.x11), Math.atan2(y.cy + y.y11, y.cx + y.x11), !v), c.arc(y.cx, y.cy, A, Math.atan2(y.y11, y.x11), Math.atan2(y.y01, y.x01), !v))) : (c.moveTo(z, P), c.arc(0, 0, l, g, m, !v)) : c.moveTo(z, P), f > mv && w > mv ? N > mv ? (_ = cn(q, L, R, U, f, -N, v), y = cn(z, P, D, O, f, -N, v), c.lineTo(_.cx + _.x01, _.cy + _.y01), N < S ? c.arc(_.cx, _.cy, N, Math.atan2(_.y01, _.x01), Math.atan2(y.y01, y.x01), !v) : (c.arc(_.cx, _.cy, N, Math.atan2(_.y01, _.x01), Math.atan2(_.y11, _.x11), !v), c.arc(0, 0, f, Math.atan2(_.cy + _.y11, _.cx + _.x11), Math.atan2(y.cy + y.y11, y.cx + y.x11), v), c.arc(y.cx, y.cy, N, Math.atan2(y.y11, y.x11), Math.atan2(y.y01, y.x01), !v))) : c.arc(0, 0, f, b, x, v) : c.lineTo(q, L)
                }
            else c.moveTo(0, 0);
            if (c.closePath(), t) return c = null, t + "" || null
        }
        var n = tn,
            e = nn,
            r = Kt(0),
            i = null,
            o = en,
            u = rn,
            a = on,
            c = null;
        return t.centroid = function() {
            var t = (+n.apply(this, arguments) + +e.apply(this, arguments)) / 2,
                r = (+o.apply(this, arguments) + +u.apply(this, arguments)) / 2 - xv / 2;
            return [Math.cos(r) * t, Math.sin(r) * t]
        }, t.innerRadius = function(e) {
            return arguments.length ? (n = "function" == typeof e ? e : Kt(+e), t) : n
        }, t.outerRadius = function(n) {
            return arguments.length ? (e = "function" == typeof n ? n : Kt(+n), t) : e
        }, t.cornerRadius = function(n) {
            return arguments.length ? (r = "function" == typeof n ? n : Kt(+n), t) : r
        }, t.padRadius = function(n) {
            return arguments.length ? (i = null == n ? null : "function" == typeof n ? n : Kt(+n), t) : i
        }, t.startAngle = function(n) {
            return arguments.length ? (o = "function" == typeof n ? n : Kt(+n), t) : o
        }, t.endAngle = function(n) {
            return arguments.length ? (u = "function" == typeof n ? n : Kt(+n), t) : u
        }, t.padAngle = function(n) {
            return arguments.length ? (a = "function" == typeof n ? n : Kt(+n), t) : a
        }, t.context = function(n) {
            return arguments.length ? (c = null == n ? null : n, t) : c
        }, t
    }

    function fn(t) {
        this._context = t
    }

    function ln(t) {
        return new fn(t)
    }

    function hn(t) {
        return t[0]
    }

    function pn(t) {
        return t[1]
    }

    function dn() {
        function t(t) {
            var a, c, s, f = t.length,
                l = !1;
            for (null == i && (u = o(s = Tt())), a = 0; a <= f; ++a) !(a < f && r(c = t[a], a, t)) === l && ((l = !l) ? u.lineStart() : u.lineEnd()), l && u.point(+n(c, a, t), +e(c, a, t));
            if (s) return u = null, s + "" || null
        }
        var n = hn,
            e = pn,
            r = Kt(!0),
            i = null,
            o = ln,
            u = null;
        return t.x = function(e) {
            return arguments.length ? (n = "function" == typeof e ? e : Kt(+e), t) : n
        }, t.y = function(n) {
            return arguments.length ? (e = "function" == typeof n ? n : Kt(+n), t) : e
        }, t.defined = function(n) {
            return arguments.length ? (r = "function" == typeof n ? n : Kt(!!n), t) : r
        }, t.curve = function(n) {
            return arguments.length ? (o = n, null != i && (u = o(i)), t) : o
        }, t.context = function(n) {
            return arguments.length ? (null == n ? i = u = null : u = o(i = n), t) : i
        }, t
    }

    function vn() {
        function t(t) {
            var n, f, l, h, p, d = t.length,
                v = !1,
                _ = new Array(d),
                y = new Array(d);
            for (null == a && (s = c(p = Tt())), n = 0; n <= d; ++n) {
                if (!(n < d && u(h = t[n], n, t)) === v)
                    if (v = !v) f = n, s.areaStart(), s.lineStart();
                    else {
                        for (s.lineEnd(), s.lineStart(), l = n - 1; l >= f; --l) s.point(_[l], y[l]);
                        s.lineEnd(), s.areaEnd()
                    } v && (_[n] = +e(h, n, t), y[n] = +i(h, n, t), s.point(r ? +r(h, n, t) : _[n], o ? +o(h, n, t) : y[n]))
            }
            if (p) return s = null, p + "" || null
        }

        function n() {
            return dn().defined(u).curve(c).context(a)
        }
        var e = hn,
            r = null,
            i = Kt(0),
            o = pn,
            u = Kt(!0),
            a = null,
            c = ln,
            s = null;
        return t.x = function(n) {
            return arguments.length ? (e = "function" == typeof n ? n : Kt(+n), r = null, t) : e
        }, t.x0 = function(n) {
            return arguments.length ? (e = "function" == typeof n ? n : Kt(+n), t) : e
        }, t.x1 = function(n) {
            return arguments.length ? (r = null == n ? null : "function" == typeof n ? n : Kt(+n), t) : r
        }, t.y = function(n) {
            return arguments.length ? (i = "function" == typeof n ? n : Kt(+n), o = null, t) : i
        }, t.y0 = function(n) {
            return arguments.length ? (i = "function" == typeof n ? n : Kt(+n), t) : i
        }, t.y1 = function(n) {
            return arguments.length ? (o = null == n ? null : "function" == typeof n ? n : Kt(+n), t) : o
        }, t.lineX0 = t.lineY0 = function() {
            return n().x(e).y(i)
        }, t.lineY1 = function() {
            return n().x(e).y(o)
        }, t.lineX1 = function() {
            return n().x(r).y(i)
        }, t.defined = function(n) {
            return arguments.length ? (u = "function" == typeof n ? n : Kt(!!n), t) : u
        }, t.curve = function(n) {
            return arguments.length ? (c = n, null != a && (s = c(a)), t) : c
        }, t.context = function(n) {
            return arguments.length ? (null == n ? a = s = null : s = c(a = n), t) : a
        }, t
    }

    function _n(t, n) {
        return n < t ? -1 : n > t ? 1 : n >= t ? 0 : NaN
    }

    function yn(t) {
        return t
    }

    function gn() {
        function t(t) {
            var a, c, s, f, l, h = t.length,
                p = 0,
                d = new Array(h),
                v = new Array(h),
                _ = +i.apply(this, arguments),
                y = Math.min(wv, Math.max(-wv, o.apply(this, arguments) - _)),
                g = Math.min(Math.abs(y) / h, u.apply(this, arguments)),
                m = g * (y < 0 ? -1 : 1);
            for (a = 0; a < h; ++a)(l = v[d[a] = a] = +n(t[a], a, t)) > 0 && (p += l);
            for (null != e ? d.sort(function(t, n) {
                    return e(v[t], v[n])
                }) : null != r && d.sort(function(n, e) {
                    return r(t[n], t[e])
                }), a = 0, s = p ? (y - h * m) / p : 0; a < h; ++a, _ = f) c = d[a], l = v[c], f = _ + (l > 0 ? l * s : 0) + m, v[c] = {
                data: t[c],
                index: a,
                value: l,
                startAngle: _,
                endAngle: f,
                padAngle: g
            };
            return v
        }
        var n = yn,
            e = _n,
            r = null,
            i = Kt(0),
            o = Kt(wv),
            u = Kt(0);
        return t.value = function(e) {
            return arguments.length ? (n = "function" == typeof e ? e : Kt(+e), t) : n
        }, t.sortValues = function(n) {
            return arguments.length ? (e = n, r = null, t) : e
        }, t.sort = function(n) {
            return arguments.length ? (r = n, e = null, t) : r
        }, t.startAngle = function(n) {
            return arguments.length ? (i = "function" == typeof n ? n : Kt(+n), t) : i
        }, t.endAngle = function(n) {
            return arguments.length ? (o = "function" == typeof n ? n : Kt(+n), t) : o
        }, t.padAngle = function(n) {
            return arguments.length ? (u = "function" == typeof n ? n : Kt(+n), t) : u
        }, t
    }

    function mn(t) {
        this._curve = t
    }

    function xn(t) {
        function n(n) {
            return new mn(t(n))
        }
        return n._curve = t, n
    }

    function bn(t) {
        var n = t.curve;
        return t.angle = t.x, delete t.x, t.radius = t.y, delete t.y, t.curve = function(t) {
            return arguments.length ? n(xn(t)) : n()._curve
        }, t
    }

    function wn() {
        return bn(dn().curve(Mv))
    }

    function Mn() {
        var t = vn().curve(Mv),
            n = t.curve,
            e = t.lineX0,
            r = t.lineX1,
            i = t.lineY0,
            o = t.lineY1;
        return t.angle = t.x, delete t.x, t.startAngle = t.x0, delete t.x0, t.endAngle = t.x1, delete t.x1, t.radius = t.y, delete t.y, t.innerRadius = t.y0, delete t.y0, t.outerRadius = t.y1, delete t.y1, t.lineStartAngle = function() {
            return bn(e())
        }, delete t.lineX0, t.lineEndAngle = function() {
            return bn(r())
        }, delete t.lineX1, t.lineInnerRadius = function() {
            return bn(i())
        }, delete t.lineY0, t.lineOuterRadius = function() {
            return bn(o())
        }, delete t.lineY1, t.curve = function(t) {
            return arguments.length ? n(xn(t)) : n()._curve
        }, t
    }

    function Tn() {
        function t() {
            var t;
            if (r || (r = t = Tt()), n.apply(this, arguments).draw(r, +e.apply(this, arguments)), t) return r = null, t + "" || null
        }
        var n = Kt(Tv),
            e = Kt(64),
            r = null;
        return t.type = function(e) {
            return arguments.length ? (n = "function" == typeof e ? e : Kt(e), t) : n
        }, t.size = function(n) {
            return arguments.length ? (e = "function" == typeof n ? n : Kt(+n), t) : e
        }, t.context = function(n) {
            return arguments.length ? (r = null == n ? null : n, t) : r
        }, t
    }

    function kn() {}

    function Sn(t, n, e) {
        t._context.bezierCurveTo((2 * t._x0 + t._x1) / 3, (2 * t._y0 + t._y1) / 3, (t._x0 + 2 * t._x1) / 3, (t._y0 + 2 * t._y1) / 3, (t._x0 + 4 * t._x1 + n) / 6, (t._y0 + 4 * t._y1 + e) / 6)
    }

    function Nn(t) {
        this._context = t
    }

    function An(t) {
        return new Nn(t)
    }

    function En(t) {
        this._context = t
    }

    function Cn(t) {
        return new En(t)
    }

    function zn(t) {
        this._context = t
    }

    function Pn(t) {
        return new zn(t)
    }

    function qn(t, n) {
        this._basis = new Nn(t), this._beta = n
    }

    function Ln(t, n, e) {
        t._context.bezierCurveTo(t._x1 + t._k * (t._x2 - t._x0), t._y1 + t._k * (t._y2 - t._y0), t._x2 + t._k * (t._x1 - n), t._y2 + t._k * (t._y1 - e), t._x2, t._y2)
    }

    function Rn(t, n) {
        this._context = t, this._k = (1 - n) / 6
    }

    function Un(t, n) {
        this._context = t, this._k = (1 - n) / 6
    }

    function Dn(t, n) {
        this._context = t, this._k = (1 - n) / 6
    }

    function On(t, n, e) {
        var r = t._x1,
            i = t._y1,
            o = t._x2,
            u = t._y2;
        if (t._l01_a > mv) {
            var a = 2 * t._l01_2a + 3 * t._l01_a * t._l12_a + t._l12_2a,
                c = 3 * t._l01_a * (t._l01_a + t._l12_a);
            r = (r * a - t._x0 * t._l12_2a + t._x2 * t._l01_2a) / c, i = (i * a - t._y0 * t._l12_2a + t._y2 * t._l01_2a) / c
        }
        if (t._l23_a > mv) {
            var s = 2 * t._l23_2a + 3 * t._l23_a * t._l12_a + t._l12_2a,
                f = 3 * t._l23_a * (t._l23_a + t._l12_a);
            o = (o * s + t._x1 * t._l23_2a - n * t._l12_2a) / f, u = (u * s + t._y1 * t._l23_2a - e * t._l12_2a) / f
        }
        t._context.bezierCurveTo(r, i, o, u, t._x2, t._y2)
    }

    function Fn(t, n) {
        this._context = t, this._alpha = n
    }

    function In(t, n) {
        this._context = t, this._alpha = n
    }

    function Yn(t, n) {
        this._context = t, this._alpha = n
    }

    function Bn(t) {
        this._context = t
    }

    function jn(t) {
        return new Bn(t)
    }

    function Hn(t) {
        return t < 0 ? -1 : 1
    }

    function Xn(t, n, e) {
        var r = t._x1 - t._x0,
            i = n - t._x1,
            o = (t._y1 - t._y0) / (r || i < 0 && -0),
            u = (e - t._y1) / (i || r < 0 && -0),
            a = (o * i + u * r) / (r + i);
        return (Hn(o) + Hn(u)) * Math.min(Math.abs(o), Math.abs(u), .5 * Math.abs(a)) || 0
    }

    function Vn(t, n) {
        var e = t._x1 - t._x0;
        return e ? (3 * (t._y1 - t._y0) / e - n) / 2 : n
    }

    function Wn(t, n, e) {
        var r = t._x0,
            i = t._y0,
            o = t._x1,
            u = t._y1,
            a = (o - r) / 3;
        t._context.bezierCurveTo(r + a, i + a * n, o - a, u - a * e, o, u)
    }

    function $n(t) {
        this._context = t
    }

    function Zn(t) {
        this._context = new Gn(t)
    }

    function Gn(t) {
        this._context = t
    }

    function Jn(t) {
        return new $n(t)
    }

    function Qn(t) {
        return new Zn(t)
    }

    function Kn(t) {
        this._context = t
    }

    function te(t) {
        var n, e, r = t.length - 1,
            i = new Array(r),
            o = new Array(r),
            u = new Array(r);
        for (i[0] = 0, o[0] = 2, u[0] = t[0] + 2 * t[1], n = 1; n < r - 1; ++n) i[n] = 1, o[n] = 4, u[n] = 4 * t[n] + 2 * t[n + 1];
        for (i[r - 1] = 2, o[r - 1] = 7, u[r - 1] = 8 * t[r - 1] + t[r], n = 1; n < r; ++n) e = i[n] / o[n - 1], o[n] -= e, u[n] -= e * u[n - 1];
        for (i[r - 1] = u[r - 1] / o[r - 1], n = r - 2; n >= 0; --n) i[n] = (u[n] - i[n + 1]) / o[n];
        for (o[r - 1] = (t[r] + i[r - 1]) / 2, n = 0; n < r - 1; ++n) o[n] = 2 * t[n + 1] - i[n + 1];
        return [i, o]
    }

    function ne(t) {
        return new Kn(t)
    }

    function ee(t, n) {
        this._context = t, this._t = n
    }

    function re(t) {
        return new ee(t, .5)
    }

    function ie(t) {
        return new ee(t, 0)
    }

    function oe(t) {
        return new ee(t, 1)
    }

    function ue(t, n) {
        if ((r = t.length) > 1)
            for (var e, r, i = 1, o = t[n[0]], u = o.length; i < r; ++i) {
                e = o, o = t[n[i]];
                for (var a = 0; a < u; ++a) o[a][1] += o[a][0] = isNaN(e[a][1]) ? e[a][0] : e[a][1]
            }
    }

    function ae(t) {
        for (var n = t.length, e = new Array(n); --n >= 0;) e[n] = n;
        return e
    }

    function ce(t, n) {
        return t[n]
    }

    function se() {
        function t(t) {
            var o, u, a = n.apply(this, arguments),
                c = t.length,
                s = a.length,
                f = new Array(s);
            for (o = 0; o < s; ++o) {
                for (var l, h = a[o], p = f[o] = new Array(c), d = 0; d < c; ++d) p[d] = l = [0, +i(t[d], h, d, t)], l.data = t[d];
                p.key = h
            }
            for (o = 0, u = e(f); o < s; ++o) f[u[o]].index = o;
            return r(f, u), f
        }
        var n = Kt([]),
            e = ae,
            r = ue,
            i = ce;
        return t.keys = function(e) {
            return arguments.length ? (n = "function" == typeof e ? e : Kt(Gv.call(e)), t) : n
        }, t.value = function(n) {
            return arguments.length ? (i = "function" == typeof n ? n : Kt(+n), t) : i
        }, t.order = function(n) {
            return arguments.length ? (e = null == n ? ae : "function" == typeof n ? n : Kt(Gv.call(n)), t) : e
        }, t.offset = function(n) {
            return arguments.length ? (r = null == n ? ue : n, t) : r
        }, t
    }

    function fe(t, n) {
        if ((r = t.length) > 0) {
            for (var e, r, i, o = 0, u = t[0].length; o < u; ++o) {
                for (i = e = 0; e < r; ++e) i += t[e][o][1] || 0;
                if (i)
                    for (e = 0; e < r; ++e) t[e][o][1] /= i
            }
            ue(t, n)
        }
    }

    function le(t, n) {
        if ((e = t.length) > 0) {
            for (var e, r = 0, i = t[n[0]], o = i.length; r < o; ++r) {
                for (var u = 0, a = 0; u < e; ++u) a += t[u][r][1] || 0;
                i[r][1] += i[r][0] = -a / 2
            }
            ue(t, n)
        }
    }

    function he(t, n) {
        if ((i = t.length) > 0 && (r = (e = t[n[0]]).length) > 0) {
            for (var e, r, i, o = 0, u = 1; u < r; ++u) {
                for (var a = 0, c = 0, s = 0; a < i; ++a) {
                    for (var f = t[n[a]], l = f[u][1] || 0, h = f[u - 1][1] || 0, p = (l - h) / 2, d = 0; d < a; ++d) {
                        var v = t[n[d]],
                            _ = v[u][1] || 0,
                            y = v[u - 1][1] || 0;
                        p += _ - y
                    }
                    c += l, s += p * l
                }
                e[u - 1][1] += e[u - 1][0] = o, c && (o -= s / c)
            }
            e[u - 1][1] += e[u - 1][0] = o, ue(t, n)
        }
    }

    function pe(t) {
        var n = t.map(de);
        return ae(t).sort(function(t, e) {
            return n[t] - n[e]
        })
    }

    function de(t) {
        for (var n, e = 0, r = -1, i = t.length; ++r < i;)(n = +t[r][1]) && (e += n);
        return e
    }

    function ve(t) {
        return pe(t).reverse()
    }

    function _e(t) {
        var n, e, r = t.length,
            i = t.map(de),
            o = ae(t).sort(function(t, n) {
                return i[n] - i[t]
            }),
            u = 0,
            a = 0,
            c = [],
            s = [];
        for (n = 0; n < r; ++n) e = o[n], u < a ? (u += i[e], c.push(e)) : (a += i[e], s.push(e));
        return s.reverse().concat(c)
    }

    function ye(t) {
        return ae(t).reverse()
    }

    function ge(t, n, e) {
        t.prototype = n.prototype = e, e.constructor = t
    }

    function me(t, n) {
        var e = Object.create(t.prototype);
        for (var r in n) e[r] = n[r];
        return e
    }

    function xe() {}

    function be(t) {
        var n;
        return t = (t + "").trim().toLowerCase(), (n = Kv.exec(t)) ? (n = parseInt(n[1], 16), new Se(n >> 8 & 15 | n >> 4 & 240, n >> 4 & 15 | 240 & n, (15 & n) << 4 | 15 & n, 1)) : (n = t_.exec(t)) ? we(parseInt(n[1], 16)) : (n = n_.exec(t)) ? new Se(n[1], n[2], n[3], 1) : (n = e_.exec(t)) ? new Se(255 * n[1] / 100, 255 * n[2] / 100, 255 * n[3] / 100, 1) : (n = r_.exec(t)) ? Me(n[1], n[2], n[3], n[4]) : (n = i_.exec(t)) ? Me(255 * n[1] / 100, 255 * n[2] / 100, 255 * n[3] / 100, n[4]) : (n = o_.exec(t)) ? Ne(n[1], n[2] / 100, n[3] / 100, 1) : (n = u_.exec(t)) ? Ne(n[1], n[2] / 100, n[3] / 100, n[4]) : a_.hasOwnProperty(t) ? we(a_[t]) : "transparent" === t ? new Se(NaN, NaN, NaN, 0) : null
    }

    function we(t) {
        return new Se(t >> 16 & 255, t >> 8 & 255, 255 & t, 1)
    }

    function Me(t, n, e, r) {
        return r <= 0 && (t = n = e = NaN), new Se(t, n, e, r)
    }

    function Te(t) {
        return t instanceof xe || (t = be(t)), t ? (t = t.rgb(), new Se(t.r, t.g, t.b, t.opacity)) : new Se
    }

    function ke(t, n, e, r) {
        return 1 === arguments.length ? Te(t) : new Se(t, n, e, null == r ? 1 : r)
    }

    function Se(t, n, e, r) {
        this.r = +t, this.g = +n, this.b = +e, this.opacity = +r
    }

    function Ne(t, n, e, r) {
        return r <= 0 ? t = n = e = NaN : e <= 0 || e >= 1 ? t = n = NaN : n <= 0 && (t = NaN), new Ce(t, n, e, r)
    }

    function Ae(t) {
        if (t instanceof Ce) return new Ce(t.h, t.s, t.l, t.opacity);
        if (t instanceof xe || (t = be(t)), !t) return new Ce;
        if (t instanceof Ce) return t;
        t = t.rgb();
        var n = t.r / 255,
            e = t.g / 255,
            r = t.b / 255,
            i = Math.min(n, e, r),
            o = Math.max(n, e, r),
            u = NaN,
            a = o - i,
            c = (o + i) / 2;
        return a ? (u = n === o ? (e - r) / a + 6 * (e < r) : e === o ? (r - n) / a + 2 : (n - e) / a + 4, a /= c < .5 ? o + i : 2 - o - i, u *= 60) : a = c > 0 && c < 1 ? 0 : u, new Ce(u, a, c, t.opacity)
    }

    function Ee(t, n, e, r) {
        return 1 === arguments.length ? Ae(t) : new Ce(t, n, e, null == r ? 1 : r)
    }

    function Ce(t, n, e, r) {
        this.h = +t, this.s = +n, this.l = +e, this.opacity = +r
    }

    function ze(t, n, e) {
        return 255 * (t < 60 ? n + (e - n) * t / 60 : t < 180 ? e : t < 240 ? n + (e - n) * (240 - t) / 60 : n)
    }

    function Pe(t) {
        if (t instanceof Le) return new Le(t.l, t.a, t.b, t.opacity);
        if (t instanceof Ye) {
            var n = t.h * c_;
            return new Le(t.l, Math.cos(n) * t.c, Math.sin(n) * t.c, t.opacity)
        }
        t instanceof Se || (t = Te(t));
        var e = Oe(t.r),
            r = Oe(t.g),
            i = Oe(t.b),
            o = Re((.4124564 * e + .3575761 * r + .1804375 * i) / l_),
            u = Re((.2126729 * e + .7151522 * r + .072175 * i) / h_),
            a = Re((.0193339 * e + .119192 * r + .9503041 * i) / p_);
        return new Le(116 * u - 16, 500 * (o - u), 200 * (u - a), t.opacity)
    }

    function qe(t, n, e, r) {
        return 1 === arguments.length ? Pe(t) : new Le(t, n, e, null == r ? 1 : r)
    }

    function Le(t, n, e, r) {
        this.l = +t, this.a = +n, this.b = +e, this.opacity = +r
    }

    function Re(t) {
        return t > y_ ? Math.pow(t, 1 / 3) : t / __ + d_
    }

    function Ue(t) {
        return t > v_ ? t * t * t : __ * (t - d_)
    }

    function De(t) {
        return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055)
    }

    function Oe(t) {
        return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4)
    }

    function Fe(t) {
        if (t instanceof Ye) return new Ye(t.h, t.c, t.l, t.opacity);
        t instanceof Le || (t = Pe(t));
        var n = Math.atan2(t.b, t.a) * s_;
        return new Ye(n < 0 ? n + 360 : n, Math.sqrt(t.a * t.a + t.b * t.b), t.l, t.opacity)
    }

    function Ie(t, n, e, r) {
        return 1 === arguments.length ? Fe(t) : new Ye(t, n, e, null == r ? 1 : r)
    }

    function Ye(t, n, e, r) {
        this.h = +t, this.c = +n, this.l = +e, this.opacity = +r
    }

    function Be(t) {
        if (t instanceof He) return new He(t.h, t.s, t.l, t.opacity);
        t instanceof Se || (t = Te(t));
        var n = t.r / 255,
            e = t.g / 255,
            r = t.b / 255,
            i = (k_ * r + M_ * n - T_ * e) / (k_ + M_ - T_),
            o = r - i,
            u = (w_ * (e - i) - x_ * o) / b_,
            a = Math.sqrt(u * u + o * o) / (w_ * i * (1 - i)),
            c = a ? Math.atan2(u, o) * s_ - 120 : NaN;
        return new He(c < 0 ? c + 360 : c, a, i, t.opacity)
    }

    function je(t, n, e, r) {
        return 1 === arguments.length ? Be(t) : new He(t, n, e, null == r ? 1 : r)
    }

    function He(t, n, e, r) {
        this.h = +t, this.s = +n, this.l = +e, this.opacity = +r
    }

    function Xe(t, n, e, r, i) {
        var o = t * t,
            u = o * t;
        return ((1 - 3 * t + 3 * o - u) * n + (4 - 6 * o + 3 * u) * e + (1 + 3 * t + 3 * o - 3 * u) * r + u * i) / 6
    }

    function Ve(t) {
        var n = t.length - 1;
        return function(e) {
            var r = e <= 0 ? e = 0 : e >= 1 ? (e = 1, n - 1) : Math.floor(e * n),
                i = t[r],
                o = t[r + 1],
                u = r > 0 ? t[r - 1] : 2 * i - o,
                a = r < n - 1 ? t[r + 2] : 2 * o - i;
            return Xe((e - r / n) * n, u, i, o, a)
        }
    }

    function We(t) {
        var n = t.length;
        return function(e) {
            var r = Math.floor(((e %= 1) < 0 ? ++e : e) * n),
                i = t[(r + n - 1) % n],
                o = t[r % n],
                u = t[(r + 1) % n],
                a = t[(r + 2) % n];
            return Xe((e - r / n) * n, i, o, u, a)
        }
    }

    function $e(t) {
        return function() {
            return t
        }
    }

    function Ze(t, n) {
        return function(e) {
            return t + e * n
        }
    }

    function Ge(t, n, e) {
        return t = Math.pow(t, e), n = Math.pow(n, e) - t, e = 1 / e,
            function(r) {
                return Math.pow(t + r * n, e)
            }
    }

    function Je(t, n) {
        var e = n - t;
        return e ? Ze(t, e > 180 || e < -180 ? e - 360 * Math.round(e / 360) : e) : $e(isNaN(t) ? n : t)
    }

    function Qe(t) {
        return 1 === (t = +t) ? Ke : function(n, e) {
            return e - n ? Ge(n, e, t) : $e(isNaN(n) ? e : n)
        }
    }

    function Ke(t, n) {
        var e = n - t;
        return e ? Ze(t, e) : $e(isNaN(t) ? n : t)
    }

    function tr(t) {
        return function(n) {
            var e, r, i = n.length,
                o = new Array(i),
                u = new Array(i),
                a = new Array(i);
            for (e = 0; e < i; ++e) r = ke(n[e]), o[e] = r.r || 0, u[e] = r.g || 0, a[e] = r.b || 0;
            return o = t(o), u = t(u), a = t(a), r.opacity = 1,
                function(t) {
                    return r.r = o(t), r.g = u(t), r.b = a(t), r + ""
                }
        }
    }

    function nr(t, n) {
        var e, r = n ? n.length : 0,
            i = t ? Math.min(r, t.length) : 0,
            o = new Array(r),
            u = new Array(r);
        for (e = 0; e < i; ++e) o[e] = cr(t[e], n[e]);
        for (; e < r; ++e) u[e] = n[e];
        return function(t) {
            for (e = 0; e < i; ++e) u[e] = o[e](t);
            return u
        }
    }

    function er(t, n) {
        var e = new Date;
        return t = +t, n -= t,
            function(r) {
                return e.setTime(t + n * r), e
            }
    }

    function rr(t, n) {
        return t = +t, n -= t,
            function(e) {
                return t + n * e
            }
    }

    function ir(t, n) {
        var e, r = {},
            i = {};
        null !== t && "object" == typeof t || (t = {}), null !== n && "object" == typeof n || (n = {});
        for (e in n) e in t ? r[e] = cr(t[e], n[e]) : i[e] = n[e];
        return function(t) {
            for (e in r) i[e] = r[e](t);
            return i
        }
    }

    function or(t) {
        return function() {
            return t
        }
    }

    function ur(t) {
        return function(n) {
            return t(n) + ""
        }
    }

    function ar(t, n) {
        var e, r, i, o = q_.lastIndex = L_.lastIndex = 0,
            u = -1,
            a = [],
            c = [];
        for (t += "", n += "";
            (e = q_.exec(t)) && (r = L_.exec(n));)(i = r.index) > o && (i = n.slice(o, i), a[u] ? a[u] += i : a[++u] = i), (e = e[0]) === (r = r[0]) ? a[u] ? a[u] += r : a[++u] = r : (a[++u] = null, c.push({
            i: u,
            x: rr(e, r)
        })), o = L_.lastIndex;
        return o < n.length && (i = n.slice(o), a[u] ? a[u] += i : a[++u] = i), a.length < 2 ? c[0] ? ur(c[0].x) : or(n) : (n = c.length, function(t) {
            for (var e, r = 0; r < n; ++r) a[(e = c[r]).i] = e.x(t);
            return a.join("")
        })
    }

    function cr(t, n) {
        var e, r = typeof n;
        return null == n || "boolean" === r ? $e(n) : ("number" === r ? rr : "string" === r ? (e = be(n)) ? (n = e, C_) : ar : n instanceof be ? C_ : n instanceof Date ? er : Array.isArray(n) ? nr : isNaN(n) ? ir : rr)(t, n)
    }

    function sr(t, n) {
        return t = +t, n -= t,
            function(e) {
                return Math.round(t + n * e)
            }
    }

    function fr(t, n, e, r, i, o) {
        var u, a, c;
        return (u = Math.sqrt(t * t + n * n)) && (t /= u, n /= u), (c = t * e + n * r) && (e -= t * c, r -= n * c), (a = Math.sqrt(e * e + r * r)) && (e /= a, r /= a, c /= a), t * r < n * e && (t = -t, n = -n, c = -c, u = -u), {
            translateX: i,
            translateY: o,
            rotate: Math.atan2(n, t) * R_,
            skewX: Math.atan(c) * R_,
            scaleX: u,
            scaleY: a
        }
    }

    function lr(t) {
        return "none" === t ? U_ : (S_ || (S_ = document.createElement("DIV"), N_ = document.documentElement, A_ = document.defaultView), S_.style.transform = t, t = A_.getComputedStyle(N_.appendChild(S_), null).getPropertyValue("transform"), N_.removeChild(S_), t = t.slice(7, -1).split(","), fr(+t[0], +t[1], +t[2], +t[3], +t[4], +t[5]))
    }

    function hr(t) {
        return null == t ? U_ : (E_ || (E_ = document.createElementNS("http://www.w3.org/2000/svg", "g")), E_.setAttribute("transform", t), (t = E_.transform.baseVal.consolidate()) ? (t = t.matrix, fr(t.a, t.b, t.c, t.d, t.e, t.f)) : U_)
    }

    function pr(t, n, e, r) {
        function i(t) {
            return t.length ? t.pop() + " " : ""
        }

        function o(t, r, i, o, u, a) {
            if (t !== i || r !== o) {
                var c = u.push("translate(", null, n, null, e);
                a.push({
                    i: c - 4,
                    x: rr(t, i)
                }, {
                    i: c - 2,
                    x: rr(r, o)
                })
            } else(i || o) && u.push("translate(" + i + n + o + e)
        }

        function u(t, n, e, o) {
            t !== n ? (t - n > 180 ? n += 360 : n - t > 180 && (t += 360), o.push({
                i: e.push(i(e) + "rotate(", null, r) - 2,
                x: rr(t, n)
            })) : n && e.push(i(e) + "rotate(" + n + r)
        }

        function a(t, n, e, o) {
            t !== n ? o.push({
                i: e.push(i(e) + "skewX(", null, r) - 2,
                x: rr(t, n)
            }) : n && e.push(i(e) + "skewX(" + n + r)
        }

        function c(t, n, e, r, o, u) {
            if (t !== e || n !== r) {
                var a = o.push(i(o) + "scale(", null, ",", null, ")");
                u.push({
                    i: a - 4,
                    x: rr(t, e)
                }, {
                    i: a - 2,
                    x: rr(n, r)
                })
            } else 1 === e && 1 === r || o.push(i(o) + "scale(" + e + "," + r + ")")
        }
        return function(n, e) {
            var r = [],
                i = [];
            return n = t(n), e = t(e), o(n.translateX, n.translateY, e.translateX, e.translateY, r, i), u(n.rotate, e.rotate, r, i), a(n.skewX, e.skewX, r, i), c(n.scaleX, n.scaleY, e.scaleX, e.scaleY, r, i), n = e = null,
                function(t) {
                    for (var n, e = -1, o = i.length; ++e < o;) r[(n = i[e]).i] = n.x(t);
                    return r.join("")
                }
        }
    }

    function dr(t) {
        return ((t = Math.exp(t)) + 1 / t) / 2
    }

    function vr(t) {
        return ((t = Math.exp(t)) - 1 / t) / 2
    }

    function _r(t) {
        return ((t = Math.exp(2 * t)) - 1) / (t + 1)
    }

    function yr(t, n) {
        var e, r, i = t[0],
            o = t[1],
            u = t[2],
            a = n[0],
            c = n[1],
            s = n[2],
            f = a - i,
            l = c - o,
            h = f * f + l * l;
        if (h < B_) r = Math.log(s / u) / F_, e = function(t) {
            return [i + t * f, o + t * l, u * Math.exp(F_ * t * r)]
        };
        else {
            var p = Math.sqrt(h),
                d = (s * s - u * u + Y_ * h) / (2 * u * I_ * p),
                v = (s * s - u * u - Y_ * h) / (2 * s * I_ * p),
                _ = Math.log(Math.sqrt(d * d + 1) - d),
                y = Math.log(Math.sqrt(v * v + 1) - v);
            r = (y - _) / F_, e = function(t) {
                var n = t * r,
                    e = dr(_),
                    a = u / (I_ * p) * (e * _r(F_ * n + _) - vr(_));
                return [i + a * f, o + a * l, u * e / dr(F_ * n + _)]
            }
        }
        return e.duration = 1e3 * r, e
    }

    function gr(t) {
        return function(n, e) {
            var r = t((n = Ee(n)).h, (e = Ee(e)).h),
                i = Ke(n.s, e.s),
                o = Ke(n.l, e.l),
                u = Ke(n.opacity, e.opacity);
            return function(t) {
                return n.h = r(t), n.s = i(t), n.l = o(t), n.opacity = u(t), n + ""
            }
        }
    }

    function mr(t, n) {
        var e = Ke((t = qe(t)).l, (n = qe(n)).l),
            r = Ke(t.a, n.a),
            i = Ke(t.b, n.b),
            o = Ke(t.opacity, n.opacity);
        return function(n) {
            return t.l = e(n), t.a = r(n), t.b = i(n), t.opacity = o(n), t + ""
        }
    }

    function xr(t) {
        return function(n, e) {
            var r = t((n = Ie(n)).h, (e = Ie(e)).h),
                i = Ke(n.c, e.c),
                o = Ke(n.l, e.l),
                u = Ke(n.opacity, e.opacity);
            return function(t) {
                return n.h = r(t), n.c = i(t), n.l = o(t), n.opacity = u(t), n + ""
            }
        }
    }

    function br(t) {
        return function n(e) {
            function r(n, r) {
                var i = t((n = je(n)).h, (r = je(r)).h),
                    o = Ke(n.s, r.s),
                    u = Ke(n.l, r.l),
                    a = Ke(n.opacity, r.opacity);
                return function(t) {
                    return n.h = i(t), n.s = o(t), n.l = u(Math.pow(t, e)), n.opacity = a(t), n + ""
                }
            }
            return e = +e, r.gamma = n, r
        }(1)
    }

    function wr(t, n) {
        for (var e = new Array(n), r = 0; r < n; ++r) e[r] = t(r / (n - 1));
        return e
    }

    function Mr() {
        for (var t, n = 0, e = arguments.length, r = {}; n < e; ++n) {
            if (!(t = arguments[n] + "") || t in r) throw new Error("illegal type: " + t);
            r[t] = []
        }
        return new Tr(r)
    }

    function Tr(t) {
        this._ = t
    }

    function kr(t, n) {
        return t.trim().split(/^|\s+/).map(function(t) {
            var e = "",
                r = t.indexOf(".");
            if (r >= 0 && (e = t.slice(r + 1), t = t.slice(0, r)), t && !n.hasOwnProperty(t)) throw new Error("unknown type: " + t);
            return {
                type: t,
                name: e
            }
        })
    }

    function Sr(t, n) {
        for (var e, r = 0, i = t.length; r < i; ++r)
            if ((e = t[r]).name === n) return e.value
    }

    function Nr(t, n, e) {
        for (var r = 0, i = t.length; r < i; ++r)
            if (t[r].name === n) {
                t[r] = Z_, t = t.slice(0, r).concat(t.slice(r + 1));
                break
            } return null != e && t.push({
            name: n,
            value: e
        }), t
    }

    function Ar(t) {
        return new Function("d", "return {" + t.map(function(t, n) {
            return JSON.stringify(t) + ": d[" + n + "]"
        }).join(",") + "}")
    }

    function Er(t, n) {
        var e = Ar(t);
        return function(r, i) {
            return n(e(r), i, t)
        }
    }

    function Cr(t) {
        var n = Object.create(null),
            e = [];
        return t.forEach(function(t) {
            for (var r in t) r in n || e.push(n[r] = r)
        }), e
    }

    function zr(t) {
        function n(t, n) {
            var r, i, o = e(t, function(t, e) {
                return r ? r(t, e - 1) : (i = t, void(r = n ? Er(t, n) : Ar(t)))
            });
            return o.columns = i, o
        }

        function e(t, n) {
            function e() {
                if (f >= s) return u;
                if (i) return i = !1, o;
                var n, e = f;
                if (34 === t.charCodeAt(e)) {
                    for (var r = e; r++ < s;)
                        if (34 === t.charCodeAt(r)) {
                            if (34 !== t.charCodeAt(r + 1)) break;
                            ++r
                        } return f = r + 2, n = t.charCodeAt(r + 1), 13 === n ? (i = !0, 10 === t.charCodeAt(r + 2) && ++f) : 10 === n && (i = !0), t.slice(e + 1, r).replace(/""/g, '"')
                }
                for (; f < s;) {
                    var a = 1;
                    if (n = t.charCodeAt(f++), 10 === n) i = !0;
                    else if (13 === n) i = !0, 10 === t.charCodeAt(f) && (++f, ++a);
                    else if (n !== c) continue;
                    return t.slice(e, f - a)
                }
                return t.slice(e)
            }
            for (var r, i, o = {}, u = {}, a = [], s = t.length, f = 0, l = 0;
                (r = e()) !== u;) {
                for (var h = []; r !== o && r !== u;) h.push(r), r = e();
                n && null == (h = n(h, l++)) || a.push(h)
            }
            return a
        }

        function r(n, e) {
            return null == e && (e = Cr(n)), [e.map(u).join(t)].concat(n.map(function(n) {
                return e.map(function(t) {
                    return u(n[t])
                }).join(t)
            })).join("\n")
        }

        function i(t) {
            return t.map(o).join("\n")
        }

        function o(n) {
            return n.map(u).join(t)
        }

        function u(t) {
            return null == t ? "" : a.test(t += "") ? '"' + t.replace(/\"/g, '""') + '"' : t
        }
        var a = new RegExp('["' + t + "\n]"),
            c = t.charCodeAt(0);
        return {
            parse: n,
            parseRows: e,
            format: r,
            formatRows: i
        }
    }

    function Pr(t, n) {
        function e(t) {
            var n, e = s.status;
            if (!e && Lr(s) || e >= 200 && e < 300 || 304 === e) {
                if (o) try {
                    n = o.call(r, s)
                } catch (t) {
                    return void a.call("error", r, t)
                } else n = s;
                a.call("load", r, n)
            } else a.call("error", r, t)
        }
        var r, i, o, u, a = Mr("beforesend", "progress", "load", "error"),
            c = q(),
            s = new XMLHttpRequest,
            f = null,
            l = null,
            h = 0;
        if ("undefined" == typeof XDomainRequest || "withCredentials" in s || !/^(http(s)?:)?\/\//.test(t) || (s = new XDomainRequest), "onload" in s ? s.onload = s.onerror = s.ontimeout = e : s.onreadystatechange = function(t) {
                s.readyState > 3 && e(t)
            }, s.onprogress = function(t) {
                a.call("progress", r, t)
            }, r = {
                header: function(t, n) {
                    return t = (t + "").toLowerCase(), arguments.length < 2 ? c.get(t) : (null == n ? c.remove(t) : c.set(t, n + ""), r)
                },
                mimeType: function(t) {
                    return arguments.length ? (i = null == t ? null : t + "", r) : i
                },
                responseType: function(t) {
                    return arguments.length ? (u = t, r) : u
                },
                timeout: function(t) {
                    return arguments.length ? (h = +t, r) : h
                },
                user: function(t) {
                    return arguments.length < 1 ? f : (f = null == t ? null : t + "", r)
                },
                password: function(t) {
                    return arguments.length < 1 ? l : (l = null == t ? null : t + "", r)
                },
                response: function(t) {
                    return o = t, r
                },
                get: function(t, n) {
                    return r.send("GET", t, n)
                },
                post: function(t, n) {
                    return r.send("POST", t, n)
                },
                send: function(n, e, o) {
                    return s.open(n, t, !0, f, l), null == i || c.has("accept") || c.set("accept", i + ",*/*"), s.setRequestHeader && c.each(function(t, n) {
                        s.setRequestHeader(n, t)
                    }), null != i && s.overrideMimeType && s.overrideMimeType(i), null != u && (s.responseType = u), h > 0 && (s.timeout = h), null == o && "function" == typeof e && (o = e, e = null), null != o && 1 === o.length && (o = qr(o)), null != o && r.on("error", o).on("load", function(t) {
                        o(null, t)
                    }), a.call("beforesend", r, s), s.send(null == e ? null : e), r
                },
                abort: function() {
                    return s.abort(), r
                },
                on: function() {
                    var t = a.on.apply(a, arguments);
                    return t === a ? r : t
                }
            }, null != n) {
            if ("function" != typeof n) throw new Error("invalid callback: " + n);
            return r.get(n)
        }
        return r
    }

    function qr(t) {
        return function(n, e) {
            t(null == n ? e : null)
        }
    }

    function Lr(t) {
        var n = t.responseType;
        return n && "text" !== n ? t.response : t.responseText
    }

    function Rr(t, n) {
        return function(e, r) {
            var i = Pr(e).mimeType(t).response(n);
            if (null != r) {
                if ("function" != typeof r) throw new Error("invalid callback: " + r);
                return i.get(r)
            }
            return i
        }
    }

    function Ur(t, n) {
        return function(e, r, i) {
            arguments.length < 3 && (i = r, r = null);
            var o = Pr(e).mimeType(t);
            return o.row = function(t) {
                return arguments.length ? o.response(Dr(n, r = t)) : r
            }, o.row(r), i ? o.get(i) : o
        }
    }

    function Dr(t, n) {
        return function(e) {
            return t(e.responseText, n)
        }
    }

    function Or() {
        return my || (wy(Fr), my = by.now() + xy)
    }

    function Fr() {
        my = 0
    }

    function Ir() {
        this._call = this._time = this._next = null
    }

    function Yr(t, n, e) {
        var r = new Ir;
        return r.restart(t, n, e), r
    }

    function Br() {
        Or(), ++dy;
        for (var t, n = G_; n;)(t = my - n._time) >= 0 && n._call.call(null, t), n = n._next;
        --dy
    }

    function jr(t) {
        my = (gy = t || by.now()) + xy, dy = vy = 0;
        try {
            Br()
        } finally {
            dy = 0, Xr(), my = 0
        }
    }

    function Hr() {
        var t = by.now(),
            n = t - gy;
        n > yy && (xy -= n, gy = t)
    }

    function Xr() {
        for (var t, n, e = G_, r = 1 / 0; e;) e._call ? (r > e._time && (r = e._time), t = e, e = e._next) : (n = e._next, e._next = null, e = t ? t._next = n : G_ = n);
        J_ = t, Vr(r)
    }

    function Vr(t) {
        if (!dy) {
            vy && (vy = clearTimeout(vy));
            var n = t - my;
            n > 24 ? (t < 1 / 0 && (vy = setTimeout(jr, n)), _y && (_y = clearInterval(_y))) : (_y || (_y = setInterval(Hr, yy)), dy = 1, wy(jr))
        }
    }

    function Wr(t, n, e) {
        var r = new Ir;
        return n = null == n ? 0 : +n, r.restart(function(e) {
            r.stop(), t(e + n)
        }, n, e), r
    }

    function $r(t, n, e) {
        var r = new Ir,
            i = n;
        return null == n ? (r.restart(t, n, e), r) : (n = +n, e = null == e ? Or() : +e, r.restart(function o(u) {
            u += i, r.restart(o, i += n, e), t(u)
        }, n, e), r)
    }

    function Zr(t, n, e, r) {
        function i(n) {
            return t(n = new Date(+n)), n
        }
        return i.floor = i, i.ceil = function(e) {
            return t(e = new Date(e - 1)), n(e, 1), t(e), e
        }, i.round = function(t) {
            var n = i(t),
                e = i.ceil(t);
            return t - n < e - t ? n : e
        }, i.offset = function(t, e) {
            return n(t = new Date(+t), null == e ? 1 : Math.floor(e)), t
        }, i.range = function(e, r, o) {
            var u = [];
            if (e = i.ceil(e), o = null == o ? 1 : Math.floor(o), !(e < r && o > 0)) return u;
            do u.push(new Date(+e)); while (n(e, o), t(e), e < r);
            return u
        }, i.filter = function(e) {
            return Zr(function(n) {
                for (; t(n), !e(n);) n.setTime(n - 1)
            }, function(t, r) {
                for (; --r >= 0;)
                    for (; n(t, 1), !e(t););
            })
        }, e && (i.count = function(n, r) {
            return My.setTime(+n), Ty.setTime(+r), t(My), t(Ty), Math.floor(e(My, Ty))
        }, i.every = function(t) {
            return t = Math.floor(t), isFinite(t) && t > 0 ? t > 1 ? i.filter(r ? function(n) {
                return r(n) % t === 0
            } : function(n) {
                return i.count(0, n) % t === 0
            }) : i : null
        }), i
    }

    function Gr(t) {
        return Zr(function(n) {
            n.setDate(n.getDate() - (n.getDay() + 7 - t) % 7), n.setHours(0, 0, 0, 0)
        }, function(t, n) {
            t.setDate(t.getDate() + 7 * n)
        }, function(t, n) {
            return (n - t - (n.getTimezoneOffset() - t.getTimezoneOffset()) * Ay) / zy
        })
    }

    function Jr(t) {
        return Zr(function(n) {
            n.setUTCDate(n.getUTCDate() - (n.getUTCDay() + 7 - t) % 7), n.setUTCHours(0, 0, 0, 0)
        }, function(t, n) {
            t.setUTCDate(t.getUTCDate() + 7 * n)
        }, function(t, n) {
            return (n - t) / zy
        })
    }

    function Qr(t, n) {
        if ((e = (t = n ? t.toExponential(n - 1) : t.toExponential()).indexOf("e")) < 0) return null;
        var e, r = t.slice(0, e);
        return [r.length > 1 ? r[0] + r.slice(2) : r, +t.slice(e + 1)]
    }

    function Kr(t) {
        return t = Qr(Math.abs(t)), t ? t[1] : NaN
    }

    function ti(t, n) {
        return function(e, r) {
            for (var i = e.length, o = [], u = 0, a = t[0], c = 0; i > 0 && a > 0 && (c + a + 1 > r && (a = Math.max(1, r - c)), o.push(e.substring(i -= a, i + a)), !((c += a + 1) > r));) a = t[u = (u + 1) % t.length];
            return o.reverse().join(n)
        }
    }

    function ni(t, n) {
        t = t.toPrecision(n);
        t: for (var e, r = t.length, i = 1, o = -1; i < r; ++i) switch (t[i]) {
            case ".":
                o = e = i;
                break;
            case "0":
                0 === o && (o = i), e = i;
                break;
            case "e":
                break t;
            default:
                o > 0 && (o = 0)
        }
        return o > 0 ? t.slice(0, o) + t.slice(e + 1) : t
    }

    function ei(t, n) {
        var e = Qr(t, n);
        if (!e) return t + "";
        var r = e[0],
            i = e[1],
            o = i - (Ng = 3 * Math.max(-8, Math.min(8, Math.floor(i / 3)))) + 1,
            u = r.length;
        return o === u ? r : o > u ? r + new Array(o - u + 1).join("0") : o > 0 ? r.slice(0, o) + "." + r.slice(o) : "0." + new Array(1 - o).join("0") + Qr(t, Math.max(0, n + o - 1))[0]
    }

    function ri(t, n) {
        var e = Qr(t, n);
        if (!e) return t + "";
        var r = e[0],
            i = e[1];
        return i < 0 ? "0." + new Array(-i).join("0") + r : r.length > i + 1 ? r.slice(0, i + 1) + "." + r.slice(i + 1) : r + new Array(i - r.length + 2).join("0")
    }

    function ii(t) {
        return new oi(t)
    }

    function oi(t) {
        if (!(n = Cg.exec(t))) throw new Error("invalid format: " + t);
        var n, e = n[1] || " ",
            r = n[2] || ">",
            i = n[3] || "-",
            o = n[4] || "",
            u = !!n[5],
            a = n[6] && +n[6],
            c = !!n[7],
            s = n[8] && +n[8].slice(1),
            f = n[9] || "";
        "n" === f ? (c = !0, f = "g") : Eg[f] || (f = ""), (u || "0" === e && "=" === r) && (u = !0, e = "0", r = "="), this.fill = e, this.align = r, this.sign = i, this.symbol = o, this.zero = u, this.width = a, this.comma = c, this.precision = s, this.type = f
    }

    function ui(t) {
        return t
    }

    function ai(t) {
        function n(t) {
            function n(t) {
                var n, i, c, g = d,
                    m = v;
                if ("c" === p) m = _(t) + m, t = "";
                else {
                    t = +t;
                    var x = (t < 0 || 1 / t < 0) && (t *= -1, !0);
                    if (t = _(t, h), x)
                        for (n = -1, i = t.length, x = !1; ++n < i;)
                            if (c = t.charCodeAt(n), 48 < c && c < 58 || "x" === p && 96 < c && c < 103 || "X" === p && 64 < c && c < 71) {
                                x = !0;
                                break
                            } if (g = (x ? "(" === a ? a : "-" : "-" === a || "(" === a ? "" : a) + g, m = m + ("s" === p ? Pg[8 + Ng / 3] : "") + (x && "(" === a ? ")" : ""), y)
                        for (n = -1, i = t.length; ++n < i;)
                            if (c = t.charCodeAt(n), 48 > c || c > 57) {
                                m = (46 === c ? o + t.slice(n + 1) : t.slice(n)) + m, t = t.slice(0, n);
                                break
                            }
                }
                l && !s && (t = r(t, 1 / 0));
                var b = g.length + t.length + m.length,
                    w = b < f ? new Array(f - b + 1).join(e) : "";
                switch (l && s && (t = r(w + t, w.length ? f - m.length : 1 / 0), w = ""), u) {
                    case "<":
                        return g + t + m + w;
                    case "=":
                        return g + w + t + m;
                    case "^":
                        return w.slice(0, b = w.length >> 1) + g + t + m + w.slice(b)
                }
                return w + g + t + m
            }
            t = ii(t);
            var e = t.fill,
                u = t.align,
                a = t.sign,
                c = t.symbol,
                s = t.zero,
                f = t.width,
                l = t.comma,
                h = t.precision,
                p = t.type,
                d = "$" === c ? i[0] : "#" === c && /[boxX]/.test(p) ? "0" + p.toLowerCase() : "",
                v = "$" === c ? i[1] : /[%p]/.test(p) ? "%" : "",
                _ = Eg[p],
                y = !p || /[defgprs%]/.test(p);
            return h = null == h ? p ? 6 : 12 : /[gprs]/.test(p) ? Math.max(1, Math.min(21, h)) : Math.max(0, Math.min(20, h)), n.toString = function() {
                return t + ""
            }, n
        }

        function e(t, e) {
            var r = n((t = ii(t), t.type = "f", t)),
                i = 3 * Math.max(-8, Math.min(8, Math.floor(Kr(e) / 3))),
                o = Math.pow(10, -i),
                u = Pg[8 + i / 3];
            return function(t) {
                return r(o * t) + u
            }
        }
        var r = t.grouping && t.thousands ? ti(t.grouping, t.thousands) : ui,
            i = t.currency,
            o = t.decimal;
        return {
            format: n,
            formatPrefix: e
        }
    }

    function ci(n) {
        return zg = ai(n), t.format = zg.format, t.formatPrefix = zg.formatPrefix, zg
    }

    function si(t) {
        return Math.max(0, -Kr(Math.abs(t)))
    }

    function fi(t, n) {
        return Math.max(0, 3 * Math.max(-8, Math.min(8, Math.floor(Kr(n) / 3))) - Kr(Math.abs(t)))
    }

    function li(t, n) {
        return t = Math.abs(t), n = Math.abs(n) - t, Math.max(0, Kr(n) - Kr(t)) + 1
    }

    function hi(t) {
        if (0 <= t.y && t.y < 100) {
            var n = new Date(-1, t.m, t.d, t.H, t.M, t.S, t.L);
            return n.setFullYear(t.y), n
        }
        return new Date(t.y, t.m, t.d, t.H, t.M, t.S, t.L)
    }

    function pi(t) {
        if (0 <= t.y && t.y < 100) {
            var n = new Date(Date.UTC(-1, t.m, t.d, t.H, t.M, t.S, t.L));
            return n.setUTCFullYear(t.y), n
        }
        return new Date(Date.UTC(t.y, t.m, t.d, t.H, t.M, t.S, t.L))
    }

    function di(t) {
        return {
            y: t,
            m: 0,
            d: 1,
            H: 0,
            M: 0,
            S: 0,
            L: 0
        }
    }

    function vi(t) {
        function n(t, n) {
            return function(e) {
                var r, i, o, u = [],
                    a = -1,
                    c = 0,
                    s = t.length;
                for (e instanceof Date || (e = new Date(+e)); ++a < s;) 37 === t.charCodeAt(a) && (u.push(t.slice(c, a)), null != (i = Lg[r = t.charAt(++a)]) ? r = t.charAt(++a) : i = "e" === r ? " " : "0", (o = n[r]) && (r = o(e, i)), u.push(r), c = a + 1);
                return u.push(t.slice(c, a)), u.join("")
            }
        }

        function e(t, n) {
            return function(e) {
                var i = di(1900),
                    o = r(i, t, e += "", 0);
                if (o != e.length) return null;
                if ("p" in i && (i.H = i.H % 12 + 12 * i.p), "W" in i || "U" in i) {
                    "w" in i || (i.w = "W" in i ? 1 : 0);
                    var u = "Z" in i ? pi(di(i.y)).getUTCDay() : n(di(i.y)).getDay();
                    i.m = 0, i.d = "W" in i ? (i.w + 6) % 7 + 7 * i.W - (u + 5) % 7 : i.w + 7 * i.U - (u + 6) % 7
                }
                return "Z" in i ? (i.H += i.Z / 100 | 0, i.M += i.Z % 100, pi(i)) : n(i)
            }
        }

        function r(t, n, e, r) {
            for (var i, o, u = 0, a = n.length, c = e.length; u < a;) {
                if (r >= c) return -1;
                if (i = n.charCodeAt(u++), 37 === i) {
                    if (i = n.charAt(u++), o = B[i in Lg ? n.charAt(u++) : i], !o || (r = o(t, e, r)) < 0) return -1
                } else if (i != e.charCodeAt(r++)) return -1
            }
            return r
        }

        function i(t, n, e) {
            var r = C.exec(n.slice(e));
            return r ? (t.p = z[r[0].toLowerCase()], e + r[0].length) : -1
        }

        function o(t, n, e) {
            var r = L.exec(n.slice(e));
            return r ? (t.w = R[r[0].toLowerCase()], e + r[0].length) : -1
        }

        function u(t, n, e) {
            var r = P.exec(n.slice(e));
            return r ? (t.w = q[r[0].toLowerCase()], e + r[0].length) : -1
        }

        function a(t, n, e) {
            var r = O.exec(n.slice(e));
            return r ? (t.m = F[r[0].toLowerCase()], e + r[0].length) : -1
        }

        function c(t, n, e) {
            var r = U.exec(n.slice(e));
            return r ? (t.m = D[r[0].toLowerCase()], e + r[0].length) : -1
        }

        function s(t, n, e) {
            return r(t, w, n, e)
        }

        function f(t, n, e) {
            return r(t, M, n, e)
        }

        function l(t, n, e) {
            return r(t, T, n, e)
        }

        function h(t) {
            return N[t.getDay()]
        }

        function p(t) {
            return S[t.getDay()]
        }

        function d(t) {
            return E[t.getMonth()]
        }

        function v(t) {
            return A[t.getMonth()]
        }

        function _(t) {
            return k[+(t.getHours() >= 12)]
        }

        function y(t) {
            return N[t.getUTCDay()]
        }

        function g(t) {
            return S[t.getUTCDay()]
        }

        function m(t) {
            return E[t.getUTCMonth()]
        }

        function x(t) {
            return A[t.getUTCMonth()]
        }

        function b(t) {
            return k[+(t.getUTCHours() >= 12)]
        }
        var w = t.dateTime,
            M = t.date,
            T = t.time,
            k = t.periods,
            S = t.days,
            N = t.shortDays,
            A = t.months,
            E = t.shortMonths,
            C = gi(k),
            z = mi(k),
            P = gi(S),
            q = mi(S),
            L = gi(N),
            R = mi(N),
            U = gi(A),
            D = mi(A),
            O = gi(E),
            F = mi(E),
            I = {
                a: h,
                A: p,
                b: d,
                B: v,
                c: null,
                d: Li,
                e: Li,
                H: Ri,
                I: Ui,
                j: Di,
                L: Oi,
                m: Fi,
                M: Ii,
                p: _,
                S: Yi,
                U: Bi,
                w: ji,
                W: Hi,
                x: null,
                X: null,
                y: Xi,
                Y: Vi,
                Z: Wi,
                "%": co
            },
            Y = {
                a: y,
                A: g,
                b: m,
                B: x,
                c: null,
                d: $i,
                e: $i,
                H: Zi,
                I: Gi,
                j: Ji,
                L: Qi,
                m: Ki,
                M: to,
                p: b,
                S: no,
                U: eo,
                w: ro,
                W: io,
                x: null,
                X: null,
                y: oo,
                Y: uo,
                Z: ao,
                "%": co
            },
            B = {
                a: o,
                A: u,
                b: a,
                B: c,
                c: s,
                d: Ni,
                e: Ni,
                H: Ei,
                I: Ei,
                j: Ai,
                L: Pi,
                m: Si,
                M: Ci,
                p: i,
                S: zi,
                U: bi,
                w: xi,
                W: wi,
                x: f,
                X: l,
                y: Ti,
                Y: Mi,
                Z: ki,
                "%": qi
            };
        return I.x = n(M, I), I.X = n(T, I), I.c = n(w, I), Y.x = n(M, Y), Y.X = n(T, Y), Y.c = n(w, Y), {
            format: function(t) {
                var e = n(t += "", I);
                return e.toString = function() {
                    return t
                }, e
            },
            parse: function(t) {
                var n = e(t += "", hi);
                return n.toString = function() {
                    return t
                }, n
            },
            utcFormat: function(t) {
                var e = n(t += "", Y);
                return e.toString = function() {
                    return t
                }, e
            },
            utcParse: function(t) {
                var n = e(t, pi);
                return n.toString = function() {
                    return t
                }, n
            }
        }
    }

    function _i(t, n, e) {
        var r = t < 0 ? "-" : "",
            i = (r ? -t : t) + "",
            o = i.length;
        return r + (o < e ? new Array(e - o + 1).join(n) + i : i)
    }

    function yi(t) {
        return t.replace(Dg, "\\$&")
    }

    function gi(t) {
        return new RegExp("^(?:" + t.map(yi).join("|") + ")", "i")
    }

    function mi(t) {
        for (var n = {}, e = -1, r = t.length; ++e < r;) n[t[e].toLowerCase()] = e;
        return n
    }

    function xi(t, n, e) {
        var r = Rg.exec(n.slice(e, e + 1));
        return r ? (t.w = +r[0], e + r[0].length) : -1
    }

    function bi(t, n, e) {
        var r = Rg.exec(n.slice(e));
        return r ? (t.U = +r[0], e + r[0].length) : -1
    }

    function wi(t, n, e) {
        var r = Rg.exec(n.slice(e));
        return r ? (t.W = +r[0], e + r[0].length) : -1
    }

    function Mi(t, n, e) {
        var r = Rg.exec(n.slice(e, e + 4));
        return r ? (t.y = +r[0], e + r[0].length) : -1
    }

    function Ti(t, n, e) {
        var r = Rg.exec(n.slice(e, e + 2));
        return r ? (t.y = +r[0] + (+r[0] > 68 ? 1900 : 2e3), e + r[0].length) : -1
    }

    function ki(t, n, e) {
        var r = /^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(n.slice(e, e + 6));
        return r ? (t.Z = r[1] ? 0 : -(r[2] + (r[3] || "00")), e + r[0].length) : -1
    }

    function Si(t, n, e) {
        var r = Rg.exec(n.slice(e, e + 2));
        return r ? (t.m = r[0] - 1, e + r[0].length) : -1
    }

    function Ni(t, n, e) {
        var r = Rg.exec(n.slice(e, e + 2));
        return r ? (t.d = +r[0], e + r[0].length) : -1
    }

    function Ai(t, n, e) {
        var r = Rg.exec(n.slice(e, e + 3));
        return r ? (t.m = 0, t.d = +r[0], e + r[0].length) : -1
    }

    function Ei(t, n, e) {
        var r = Rg.exec(n.slice(e, e + 2));
        return r ? (t.H = +r[0], e + r[0].length) : -1
    }

    function Ci(t, n, e) {
        var r = Rg.exec(n.slice(e, e + 2));
        return r ? (t.M = +r[0], e + r[0].length) : -1
    }

    function zi(t, n, e) {
        var r = Rg.exec(n.slice(e, e + 2));
        return r ? (t.S = +r[0], e + r[0].length) : -1
    }

    function Pi(t, n, e) {
        var r = Rg.exec(n.slice(e, e + 3));
        return r ? (t.L = +r[0], e + r[0].length) : -1
    }

    function qi(t, n, e) {
        var r = Ug.exec(n.slice(e, e + 1));
        return r ? e + r[0].length : -1
    }

    function Li(t, n) {
        return _i(t.getDate(), n, 2)
    }

    function Ri(t, n) {
        return _i(t.getHours(), n, 2)
    }

    function Ui(t, n) {
        return _i(t.getHours() % 12 || 12, n, 2)
    }

    function Di(t, n) {
        return _i(1 + Oy.count(eg(t), t), n, 3)
    }

    function Oi(t, n) {
        return _i(t.getMilliseconds(), n, 3)
    }

    function Fi(t, n) {
        return _i(t.getMonth() + 1, n, 2)
    }

    function Ii(t, n) {
        return _i(t.getMinutes(), n, 2)
    }

    function Yi(t, n) {
        return _i(t.getSeconds(), n, 2)
    }

    function Bi(t, n) {
        return _i(Iy.count(eg(t), t), n, 2)
    }

    function ji(t) {
        return t.getDay()
    }

    function Hi(t, n) {
        return _i(Yy.count(eg(t), t), n, 2)
    }

    function Xi(t, n) {
        return _i(t.getFullYear() % 100, n, 2)
    }

    function Vi(t, n) {
        return _i(t.getFullYear() % 1e4, n, 4)
    }

    function Wi(t) {
        var n = t.getTimezoneOffset();
        return (n > 0 ? "-" : (n *= -1, "+")) + _i(n / 60 | 0, "0", 2) + _i(n % 60, "0", 2)
    }

    function $i(t, n) {
        return _i(t.getUTCDate(), n, 2)
    }

    function Zi(t, n) {
        return _i(t.getUTCHours(), n, 2)
    }

    function Gi(t, n) {
        return _i(t.getUTCHours() % 12 || 12, n, 2)
    }

    function Ji(t, n) {
        return _i(1 + cg.count(Sg(t), t), n, 3)
    }

    function Qi(t, n) {
        return _i(t.getUTCMilliseconds(), n, 3)
    }

    function Ki(t, n) {
        return _i(t.getUTCMonth() + 1, n, 2)
    }

    function to(t, n) {
        return _i(t.getUTCMinutes(), n, 2)
    }

    function no(t, n) {
        return _i(t.getUTCSeconds(), n, 2)
    }

    function eo(t, n) {
        return _i(fg.count(Sg(t), t), n, 2)
    }

    function ro(t) {
        return t.getUTCDay()
    }

    function io(t, n) {
        return _i(lg.count(Sg(t), t), n, 2)
    }

    function oo(t, n) {
        return _i(t.getUTCFullYear() % 100, n, 2)
    }

    function uo(t, n) {
        return _i(t.getUTCFullYear() % 1e4, n, 4)
    }

    function ao() {
        return "+0000"
    }

    function co() {
        return "%"
    }

    function so(n) {
        return qg = vi(n), t.timeFormat = qg.format, t.timeParse = qg.parse, t.utcFormat = qg.utcFormat, t.utcParse = qg.utcParse, qg
    }

    function fo(t) {
        return t.toISOString()
    }

    function lo(t) {
        var n = new Date(t);
        return isNaN(n) ? null : n
    }

    function ho(t) {
        function n(n) {
            var o = n + "",
                u = e.get(o);
            if (!u) {
                if (i !== Hg) return i;
                e.set(o, u = r.push(n))
            }
            return t[(u - 1) % t.length]
        }
        var e = q(),
            r = [],
            i = Hg;
        return t = null == t ? [] : jg.call(t), n.domain = function(t) {
            if (!arguments.length) return r.slice();
            r = [], e = q();
            for (var i, o, u = -1, a = t.length; ++u < a;) e.has(o = (i = t[u]) + "") || e.set(o, r.push(i));
            return n
        }, n.range = function(e) {
            return arguments.length ? (t = jg.call(e), n) : t.slice()
        }, n.unknown = function(t) {
            return arguments.length ? (i = t, n) : i
        }, n.copy = function() {
            return ho().domain(r).range(t).unknown(i)
        }, n
    }

    function po() {
        function t() {
            var t = i().length,
                r = u[1] < u[0],
                h = u[r - 0],
                p = u[1 - r];
            n = (p - h) / Math.max(1, t - c + 2 * s), a && (n = Math.floor(n)), h += (p - h - n * (t - c)) * f, e = n * (1 - c), a && (h = Math.round(h), e = Math.round(e));
            var d = l(t).map(function(t) {
                return h + n * t
            });
            return o(r ? d.reverse() : d)
        }
        var n, e, r = ho().unknown(void 0),
            i = r.domain,
            o = r.range,
            u = [0, 1],
            a = !1,
            c = 0,
            s = 0,
            f = .5;
        return delete r.unknown, r.domain = function(n) {
            return arguments.length ? (i(n), t()) : i()
        }, r.range = function(n) {
            return arguments.length ? (u = [+n[0], +n[1]], t()) : u.slice()
        }, r.rangeRound = function(n) {
            return u = [+n[0], +n[1]], a = !0, t()
        }, r.bandwidth = function() {
            return e
        }, r.step = function() {
            return n
        }, r.round = function(n) {
            return arguments.length ? (a = !!n, t()) : a
        }, r.padding = function(n) {
            return arguments.length ? (c = s = Math.max(0, Math.min(1, n)), t()) : c
        }, r.paddingInner = function(n) {
            return arguments.length ? (c = Math.max(0, Math.min(1, n)), t()) : c
        }, r.paddingOuter = function(n) {
            return arguments.length ? (s = Math.max(0, Math.min(1, n)), t()) : s
        }, r.align = function(n) {
            return arguments.length ? (f = Math.max(0, Math.min(1, n)), t()) : f
        }, r.copy = function() {
            return po().domain(i()).range(u).round(a).paddingInner(c).paddingOuter(s).align(f)
        }, t()
    }

    function vo(t) {
        var n = t.copy;
        return t.padding = t.paddingOuter, delete t.paddingInner, delete t.paddingOuter, t.copy = function() {
            return vo(n())
        }, t
    }

    function _o() {
        return vo(po().paddingInner(1))
    }

    function yo(t) {
        return function() {
            return t
        }
    }

    function go(t) {
        return +t
    }

    function mo(t, n) {
        return (n -= t = +t) ? function(e) {
            return (e - t) / n
        } : yo(n)
    }

    function xo(t) {
        return function(n, e) {
            var r = t(n = +n, e = +e);
            return function(t) {
                return t <= n ? 0 : t >= e ? 1 : r(t)
            }
        }
    }

    function bo(t) {
        return function(n, e) {
            var r = t(n = +n, e = +e);
            return function(t) {
                return t <= 0 ? n : t >= 1 ? e : r(t)
            }
        }
    }

    function wo(t, n, e, r) {
        var i = t[0],
            o = t[1],
            u = n[0],
            a = n[1];
        return o < i ? (i = e(o, i), u = r(a, u)) : (i = e(i, o), u = r(u, a)),
            function(t) {
                return u(i(t))
            }
    }

    function Mo(t, n, e, r) {
        var i = Math.min(t.length, n.length) - 1,
            o = new Array(i),
            u = new Array(i),
            a = -1;
        for (t[i] < t[0] && (t = t.slice().reverse(), n = n.slice().reverse()); ++a < i;) o[a] = e(t[a], t[a + 1]), u[a] = r(n[a], n[a + 1]);
        return function(n) {
            var e = Cd(t, n, 1, i) - 1;
            return u[e](o[e](n))
        }
    }

    function To(t, n) {
        return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())
    }

    function ko(t, n) {
        function e() {
            return i = Math.min(a.length, c.length) > 2 ? Mo : wo, o = u = null, r
        }

        function r(n) {
            return (o || (o = i(a, c, f ? xo(t) : t, s)))(+n)
        }
        var i, o, u, a = Xg,
            c = Xg,
            s = cr,
            f = !1;
        return r.invert = function(t) {
            return (u || (u = i(c, a, mo, f ? bo(n) : n)))(+t)
        }, r.domain = function(t) {
            return arguments.length ? (a = Bg.call(t, go), e()) : a.slice()
        }, r.range = function(t) {
            return arguments.length ? (c = jg.call(t), e()) : c.slice()
        }, r.rangeRound = function(t) {
            return c = jg.call(t), s = sr, e()
        }, r.clamp = function(t) {
            return arguments.length ? (f = !!t, e()) : f
        }, r.interpolate = function(t) {
            return arguments.length ? (s = t, e()) : s
        }, e()
    }

    function So(n, e, r) {
        var i, o = n[0],
            u = n[n.length - 1],
            a = p(o, u, null == e ? 10 : e);
        switch (r = ii(null == r ? ",f" : r), r.type) {
            case "s":
                var c = Math.max(Math.abs(o), Math.abs(u));
                return null != r.precision || isNaN(i = fi(a, c)) || (r.precision = i), t.formatPrefix(r, c);
            case "":
            case "e":
            case "g":
            case "p":
            case "r":
                null != r.precision || isNaN(i = li(a, Math.max(Math.abs(o), Math.abs(u)))) || (r.precision = i - ("e" === r.type));
                break;
            case "f":
            case "%":
                null != r.precision || isNaN(i = si(a)) || (r.precision = i - 2 * ("%" === r.type))
        }
        return t.format(r)
    }

    function No(t) {
        var n = t.domain;
        return t.ticks = function(t) {
            var e = n();
            return h(e[0], e[e.length - 1], null == t ? 10 : t)
        }, t.tickFormat = function(t, e) {
            return So(n(), t, e)
        }, t.nice = function(e) {
            var r = n(),
                i = r.length - 1,
                o = null == e ? 10 : e,
                u = r[0],
                a = r[i],
                c = p(u, a, o);
            return c && (c = p(Math.floor(u / c) * c, Math.ceil(a / c) * c, o), r[0] = Math.floor(u / c) * c, r[i] = Math.ceil(a / c) * c, n(r)), t
        }, t
    }

    function Ao() {
        var t = ko(mo, rr);
        return t.copy = function() {
            return To(t, Ao())
        }, No(t)
    }

    function Eo() {
        function t(t) {
            return +t
        }
        var n = [0, 1];
        return t.invert = t, t.domain = t.range = function(e) {
            return arguments.length ? (n = Bg.call(e, go), t) : n.slice()
        }, t.copy = function() {
            return Eo().domain(n)
        }, No(t)
    }

    function Co(t, n) {
        t = t.slice();
        var e, r = 0,
            i = t.length - 1,
            o = t[r],
            u = t[i];
        return u < o && (e = r, r = i, i = e, e = o, o = u, u = e), t[r] = n.floor(o), t[i] = n.ceil(u), t
    }

    function zo(t, n) {
        return (n = Math.log(n / t)) ? function(e) {
            return Math.log(e / t) / n
        } : yo(n)
    }

    function Po(t, n) {
        return t < 0 ? function(e) {
            return -Math.pow(-n, e) * Math.pow(-t, 1 - e)
        } : function(e) {
            return Math.pow(n, e) * Math.pow(t, 1 - e)
        }
    }

    function qo(t) {
        return isFinite(t) ? +("1e" + t) : t < 0 ? 0 : t
    }

    function Lo(t) {
        return 10 === t ? qo : t === Math.E ? Math.exp : function(n) {
            return Math.pow(t, n)
        }
    }

    function Ro(t) {
        return t === Math.E ? Math.log : 10 === t && Math.log10 || 2 === t && Math.log2 || (t = Math.log(t), function(n) {
            return Math.log(n) / t
        })
    }

    function Uo(t) {
        return function(n) {
            return -t(-n)
        }
    }

    function Do() {
        function n() {
            return o = Ro(i), u = Lo(i), r()[0] < 0 && (o = Uo(o), u = Uo(u)), e
        }
        var e = ko(zo, Po).domain([1, 10]),
            r = e.domain,
            i = 10,
            o = Ro(10),
            u = Lo(10);
        return e.base = function(t) {
            return arguments.length ? (i = +t, n()) : i
        }, e.domain = function(t) {
            return arguments.length ? (r(t), n()) : r()
        }, e.ticks = function(t) {
            var n, e = r(),
                a = e[0],
                c = e[e.length - 1];
            (n = c < a) && (p = a, a = c, c = p);
            var s, f, l, p = o(a),
                d = o(c),
                v = null == t ? 10 : +t,
                _ = [];
            if (!(i % 1) && d - p < v) {
                if (p = Math.round(p) - 1, d = Math.round(d) + 1, a > 0) {
                    for (; p < d; ++p)
                        for (f = 1, s = u(p); f < i; ++f)
                            if (l = s * f, !(l < a)) {
                                if (l > c) break;
                                _.push(l)
                            }
                } else
                    for (; p < d; ++p)
                        for (f = i - 1, s = u(p); f >= 1; --f)
                            if (l = s * f, !(l < a)) {
                                if (l > c) break;
                                _.push(l)
                            }
            } else _ = h(p, d, Math.min(d - p, v)).map(u);
            return n ? _.reverse() : _
        }, e.tickFormat = function(n, r) {
            if (null == r && (r = 10 === i ? ".0e" : ","), "function" != typeof r && (r = t.format(r)), n === 1 / 0) return r;
            null == n && (n = 10);
            var a = Math.max(1, i * n / e.ticks().length);
            return function(t) {
                var n = t / u(Math.round(o(t)));
                return n * i < i - .5 && (n *= i), n <= a ? r(t) : ""
            }
        }, e.nice = function() {
            return r(Co(r(), {
                floor: function(t) {
                    return u(Math.floor(o(t)))
                },
                ceil: function(t) {
                    return u(Math.ceil(o(t)))
                }
            }))
        }, e.copy = function() {
            return To(e, Do().base(i))
        }, e
    }

    function Oo(t, n) {
        return t < 0 ? -Math.pow(-t, n) : Math.pow(t, n)
    }

    function Fo() {
        function t(t, n) {
            return (n = Oo(n, e) - (t = Oo(t, e))) ? function(r) {
                return (Oo(r, e) - t) / n
            } : yo(n)
        }

        function n(t, n) {
            return n = Oo(n, e) - (t = Oo(t, e)),
                function(r) {
                    return Oo(t + n * r, 1 / e)
                }
        }
        var e = 1,
            r = ko(t, n),
            i = r.domain;
        return r.exponent = function(t) {
            return arguments.length ? (e = +t, i(i())) : e
        }, r.copy = function() {
            return To(r, Fo().exponent(e))
        }, No(r)
    }

    function Io() {
        return Fo().exponent(.5)
    }

    function Yo() {
        function t() {
            var t = 0,
                n = Math.max(1, i.length);
            for (o = new Array(n - 1); ++t < n;) o[t - 1] = _(r, t / n);
            return e
        }

        function e(t) {
            if (!isNaN(t = +t)) return i[Cd(o, t)]
        }
        var r = [],
            i = [],
            o = [];
        return e.invertExtent = function(t) {
            var n = i.indexOf(t);
            return n < 0 ? [NaN, NaN] : [n > 0 ? o[n - 1] : r[0], n < o.length ? o[n] : r[r.length - 1]]
        }, e.domain = function(e) {
            if (!arguments.length) return r.slice();
            r = [];
            for (var i, o = 0, u = e.length; o < u; ++o) i = e[o], null == i || isNaN(i = +i) || r.push(i);
            return r.sort(n), t()
        }, e.range = function(n) {
            return arguments.length ? (i = jg.call(n), t()) : i.slice()
        }, e.quantiles = function() {
            return o.slice()
        }, e.copy = function() {
            return Yo().domain(r).range(i)
        }, e
    }

    function Bo() {
        function t(t) {
            if (t <= t) return u[Cd(o, t, 0, i)]
        }

        function n() {
            var n = -1;
            for (o = new Array(i); ++n < i;) o[n] = ((n + 1) * r - (n - i) * e) / (i + 1);
            return t
        }
        var e = 0,
            r = 1,
            i = 1,
            o = [.5],
            u = [0, 1];
        return t.domain = function(t) {
            return arguments.length ? (e = +t[0], r = +t[1], n()) : [e, r]
        }, t.range = function(t) {
            return arguments.length ? (i = (u = jg.call(t)).length - 1, n()) : u.slice()
        }, t.invertExtent = function(t) {
            var n = u.indexOf(t);
            return n < 0 ? [NaN, NaN] : n < 1 ? [e, o[0]] : n >= i ? [o[i - 1], r] : [o[n - 1], o[n]]
        }, t.copy = function() {
            return Bo().domain([e, r]).range(u)
        }, No(t)
    }

    function jo() {
        function t(t) {
            if (t <= t) return e[Cd(n, t, 0, r)]
        }
        var n = [.5],
            e = [0, 1],
            r = 1;
        return t.domain = function(i) {
            return arguments.length ? (n = jg.call(i), r = Math.min(n.length, e.length - 1), t) : n.slice()
        }, t.range = function(i) {
            return arguments.length ? (e = jg.call(i), r = Math.min(n.length, e.length - 1), t) : e.slice()
        }, t.invertExtent = function(t) {
            var r = e.indexOf(t);
            return [n[r - 1], n[r]]
        }, t.copy = function() {
            return jo().domain(n).range(e)
        }, t
    }

    function Ho(t) {
        return new Date(t)
    }

    function Xo(t) {
        return t instanceof Date ? +t : +new Date(+t)
    }

    function Vo(t, n, r, i, o, u, a, c, s) {
        function f(e) {
            return (a(e) < e ? _ : u(e) < e ? y : o(e) < e ? g : i(e) < e ? m : n(e) < e ? r(e) < e ? x : b : t(e) < e ? w : M)(e)
        }

        function l(n, r, i, o) {
            if (null == n && (n = 10), "number" == typeof n) {
                var u = Math.abs(i - r) / n,
                    a = e(function(t) {
                        return t[2]
                    }).right(T, u);
                a === T.length ? (o = p(r / Qg, i / Qg, n), n = t) : a ? (a = T[u / T[a - 1][2] < T[a][2] / u ? a - 1 : a], o = a[1], n = a[0]) : (o = p(r, i, n), n = c)
            }
            return null == o ? n : n.every(o)
        }
        var h = ko(mo, rr),
            d = h.invert,
            v = h.domain,
            _ = s(".%L"),
            y = s(":%S"),
            g = s("%I:%M"),
            m = s("%I %p"),
            x = s("%a %d"),
            b = s("%b %d"),
            w = s("%B"),
            M = s("%Y"),
            T = [
                [a, 1, Vg],
                [a, 5, 5 * Vg],
                [a, 15, 15 * Vg],
                [a, 30, 30 * Vg],
                [u, 1, Wg],
                [u, 5, 5 * Wg],
                [u, 15, 15 * Wg],
                [u, 30, 30 * Wg],
                [o, 1, $g],
                [o, 3, 3 * $g],
                [o, 6, 6 * $g],
                [o, 12, 12 * $g],
                [i, 1, Zg],
                [i, 2, 2 * Zg],
                [r, 1, Gg],
                [n, 1, Jg],
                [n, 3, 3 * Jg],
                [t, 1, Qg]
            ];
        return h.invert = function(t) {
            return new Date(d(t))
        }, h.domain = function(t) {
            return arguments.length ? v(Bg.call(t, Xo)) : v().map(Ho)
        }, h.ticks = function(t, n) {
            var e, r = v(),
                i = r[0],
                o = r[r.length - 1],
                u = o < i;
            return u && (e = i, i = o, o = e), e = l(t, i, o, n), e = e ? e.range(i, o + 1) : [], u ? e.reverse() : e
        }, h.tickFormat = function(t, n) {
            return null == n ? f : s(n)
        }, h.nice = function(t, n) {
            var e = v();
            return (t = l(t, e[0], e[e.length - 1], n)) ? v(Co(e, t)) : h
        }, h.copy = function() {
            return To(h, Vo(t, n, r, i, o, u, a, c, s))
        }, h
    }

    function Wo() {
        return Vo(eg, tg, Iy, Oy, Uy, Ly, Py, ky, t.timeFormat).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)])
    }

    function $o() {
        return Vo(Sg, Tg, fg, cg, ug, ig, Py, ky, t.utcFormat).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)])
    }

    function Zo(t) {
        return t.match(/.{6}/g).map(function(t) {
            return "#" + t
        })
    }

    function Go(t) {
        (t < 0 || t > 1) && (t -= Math.floor(t));
        var n = Math.abs(t - .5);
        return um.h = 360 * t - 100, um.s = 1.5 - 1.5 * n, um.l = .8 - .9 * n, um + ""
    }

    function Jo(t) {
        var n = t.length;
        return function(e) {
            return t[Math.max(0, Math.min(n - 1, Math.floor(e * n)))]
        }
    }

    function Qo(t) {
        function n(n) {
            var o = (n - e) / (r - e);
            return t(i ? Math.max(0, Math.min(1, o)) : o)
        }
        var e = 0,
            r = 1,
            i = !1;
        return n.domain = function(t) {
            return arguments.length ? (e = +t[0], r = +t[1], n) : [e, r]
        }, n.clamp = function(t) {
            return arguments.length ? (i = !!t, n) : i
        }, n.interpolator = function(e) {
            return arguments.length ? (t = e, n) : t
        }, n.copy = function() {
            return Qo(t).domain([e, r]).clamp(i)
        }, No(n)
    }

    function Ko(t) {
        var n = t += "",
            e = n.indexOf(":");
        return e >= 0 && "xmlns" !== (n = t.slice(0, e)) && (t = t.slice(e + 1)), hm.hasOwnProperty(n) ? {
            space: hm[n],
            local: t
        } : t
    }

    function tu(t) {
        return function() {
            var n = this.ownerDocument,
                e = this.namespaceURI;
            return e === lm && n.documentElement.namespaceURI === lm ? n.createElement(t) : n.createElementNS(e, t)
        }
    }

    function nu(t) {
        return function() {
            return this.ownerDocument.createElementNS(t.space, t.local)
        }
    }

    function eu(t) {
        var n = Ko(t);
        return (n.local ? nu : tu)(n)
    }

    function ru() {
        return new iu
    }

    function iu() {
        this._ = "@" + (++pm).toString(36)
    }

    function ou(t, n, e) {
        return t = uu(t, n, e),
            function(n) {
                var e = n.relatedTarget;
                e && (e === this || 8 & e.compareDocumentPosition(this)) || t.call(this, n)
            }
    }

    function uu(n, e, r) {
        return function(i) {
            var o = t.event;
            t.event = i;
            try {
                n.call(this, this.__data__, e, r)
            } finally {
                t.event = o
            }
        }
    }

    function au(t) {
        return t.trim().split(/^|\s+/).map(function(t) {
            var n = "",
                e = t.indexOf(".");
            return e >= 0 && (n = t.slice(e + 1), t = t.slice(0, e)), {
                type: t,
                name: n
            }
        })
    }

    function cu(t) {
        return function() {
            var n = this.__on;
            if (n) {
                for (var e, r = 0, i = -1, o = n.length; r < o; ++r) e = n[r], t.type && e.type !== t.type || e.name !== t.name ? n[++i] = e : this.removeEventListener(e.type, e.listener, e.capture);
                ++i ? n.length = i : delete this.__on
            }
        }
    }

    function su(t, n, e) {
        var r = gm.hasOwnProperty(t.type) ? ou : uu;
        return function(i, o, u) {
            var a, c = this.__on,
                s = r(n, o, u);
            if (c)
                for (var f = 0, l = c.length; f < l; ++f)
                    if ((a = c[f]).type === t.type && a.name === t.name) return this.removeEventListener(a.type, a.listener, a.capture), this.addEventListener(a.type, a.listener = s, a.capture = e), void(a.value = n);
            this.addEventListener(t.type, s, e), a = {
                type: t.type,
                name: t.name,
                value: n,
                listener: s,
                capture: e
            }, c ? c.push(a) : this.__on = [a]
        }
    }

    function fu(t, n, e) {
        var r, i, o = au(t + ""),
            u = o.length; {
            if (!(arguments.length < 2)) {
                for (a = n ? su : cu, null == e && (e = !1), r = 0; r < u; ++r) this.each(a(o[r], n, e));
                return this
            }
            var a = this.node().__on;
            if (a)
                for (var c, s = 0, f = a.length; s < f; ++s)
                    for (r = 0, c = a[s]; r < u; ++r)
                        if ((i = o[r]).type === c.type && i.name === c.name) return c.value
        }
    }

    function lu(n, e, r, i) {
        var o = t.event;
        n.sourceEvent = t.event, t.event = n;
        try {
            return e.apply(r, i)
        } finally {
            t.event = o
        }
    }

    function hu() {
        for (var n, e = t.event; n = e.sourceEvent;) e = n;
        return e
    }

    function pu(t, n) {
        var e = t.ownerSVGElement || t;
        if (e.createSVGPoint) {
            var r = e.createSVGPoint();
            return r.x = n.clientX, r.y = n.clientY, r = r.matrixTransform(t.getScreenCTM().inverse()), [r.x, r.y]
        }
        var i = t.getBoundingClientRect();
        return [n.clientX - i.left - t.clientLeft, n.clientY - i.top - t.clientTop]
    }

    function du(t) {
        var n = hu();
        return n.changedTouches && (n = n.changedTouches[0]), pu(t, n)
    }

    function vu() {}

    function _u(t) {
        return null == t ? vu : function() {
            return this.querySelector(t)
        }
    }

    function yu(t) {
        "function" != typeof t && (t = _u(t));
        for (var n = this._groups, e = n.length, r = new Array(e), i = 0; i < e; ++i)
            for (var o, u, a = n[i], c = a.length, s = r[i] = new Array(c), f = 0; f < c; ++f)(o = a[f]) && (u = t.call(o, o.__data__, f, a)) && ("__data__" in o && (u.__data__ = o.__data__), s[f] = u);
        return new qa(r, this._parents)
    }

    function gu() {
        return []
    }

    function mu(t) {
        return null == t ? gu : function() {
            return this.querySelectorAll(t)
        }
    }

    function xu(t) {
        "function" != typeof t && (t = mu(t));
        for (var n = this._groups, e = n.length, r = [], i = [], o = 0; o < e; ++o)
            for (var u, a = n[o], c = a.length, s = 0; s < c; ++s)(u = a[s]) && (r.push(t.call(u, u.__data__, s, a)), i.push(u));
        return new qa(r, i)
    }

    function bu(t) {
        "function" != typeof t && (t = ym(t));
        for (var n = this._groups, e = n.length, r = new Array(e), i = 0; i < e; ++i)
            for (var o, u = n[i], a = u.length, c = r[i] = [], s = 0; s < a; ++s)(o = u[s]) && t.call(o, o.__data__, s, u) && c.push(o);
        return new qa(r, this._parents)
    }

    function wu(t) {
        return new Array(t.length)
    }

    function Mu() {
        return new qa(this._enter || this._groups.map(wu), this._parents)
    }

    function Tu(t, n) {
        this.ownerDocument = t.ownerDocument, this.namespaceURI = t.namespaceURI, this._next = null, this._parent = t, this.__data__ = n
    }

    function ku(t) {
        return function() {
            return t
        }
    }

    function Su(t, n, e, r, i, o) {
        for (var u, a = 0, c = n.length, s = o.length; a < s; ++a)(u = n[a]) ? (u.__data__ = o[a], r[a] = u) : e[a] = new Tu(t, o[a]);
        for (; a < c; ++a)(u = n[a]) && (i[a] = u)
    }

    function Nu(t, n, e, r, i, o, u) {
        var a, c, s, f = {},
            l = n.length,
            h = o.length,
            p = new Array(l);
        for (a = 0; a < l; ++a)(c = n[a]) && (p[a] = s = xm + u.call(c, c.__data__, a, n), s in f ? i[a] = c : f[s] = c);
        for (a = 0; a < h; ++a) s = xm + u.call(t, o[a], a, o), (c = f[s]) ? (r[a] = c, c.__data__ = o[a], f[s] = null) : e[a] = new Tu(t, o[a]);
        for (a = 0; a < l; ++a)(c = n[a]) && f[p[a]] === c && (i[a] = c)
    }

    function Au(t, n) {
        if (!t) return p = new Array(this.size()), s = -1, this.each(function(t) {
            p[++s] = t
        }), p;
        var e = n ? Nu : Su,
            r = this._parents,
            i = this._groups;
        "function" != typeof t && (t = ku(t));
        for (var o = i.length, u = new Array(o), a = new Array(o), c = new Array(o), s = 0; s < o; ++s) {
            var f = r[s],
                l = i[s],
                h = l.length,
                p = t.call(f, f && f.__data__, s, r),
                d = p.length,
                v = a[s] = new Array(d),
                _ = u[s] = new Array(d),
                y = c[s] = new Array(h);
            e(f, l, v, _, y, p, n);
            for (var g, m, x = 0, b = 0; x < d; ++x)
                if (g = v[x]) {
                    for (x >= b && (b = x + 1); !(m = _[b]) && ++b < d;);
                    g._next = m || null
                }
        }
        return u = new qa(u, r), u._enter = a, u._exit = c, u
    }

    function Eu() {
        return new qa(this._exit || this._groups.map(wu), this._parents)
    }

    function Cu(t) {
        for (var n = this._groups, e = t._groups, r = n.length, i = e.length, o = Math.min(r, i), u = new Array(r), a = 0; a < o; ++a)
            for (var c, s = n[a], f = e[a], l = s.length, h = u[a] = new Array(l), p = 0; p < l; ++p)(c = s[p] || f[p]) && (h[p] = c);
        for (; a < r; ++a) u[a] = n[a];
        return new qa(u, this._parents)
    }

    function zu() {
        for (var t = this._groups, n = -1, e = t.length; ++n < e;)
            for (var r, i = t[n], o = i.length - 1, u = i[o]; --o >= 0;)(r = i[o]) && (u && u !== r.nextSibling && u.parentNode.insertBefore(r, u), u = r);
        return this
    }

    function Pu(t) {
        function n(n, e) {
            return n && e ? t(n.__data__, e.__data__) : !n - !e
        }
        t || (t = qu);
        for (var e = this._groups, r = e.length, i = new Array(r), o = 0; o < r; ++o) {
            for (var u, a = e[o], c = a.length, s = i[o] = new Array(c), f = 0; f < c; ++f)(u = a[f]) && (s[f] = u);
            s.sort(n)
        }
        return new qa(i, this._parents).order()
    }

    function qu(t, n) {
        return t < n ? -1 : t > n ? 1 : t >= n ? 0 : NaN
    }

    function Lu() {
        var t = arguments[0];
        return arguments[0] = this, t.apply(null, arguments), this
    }

    function Ru() {
        var t = new Array(this.size()),
            n = -1;
        return this.each(function() {
            t[++n] = this
        }), t
    }

    function Uu() {
        for (var t = this._groups, n = 0, e = t.length; n < e; ++n)
            for (var r = t[n], i = 0, o = r.length; i < o; ++i) {
                var u = r[i];
                if (u) return u
            }
        return null
    }

    function Du() {
        var t = 0;
        return this.each(function() {
            ++t
        }), t
    }

    function Ou() {
        return !this.node()
    }

    function Fu(t) {
        for (var n = this._groups, e = 0, r = n.length; e < r; ++e)
            for (var i, o = n[e], u = 0, a = o.length; u < a; ++u)(i = o[u]) && t.call(i, i.__data__, u, o);
        return this
    }

    function Iu(t) {
        return function() {
            this.removeAttribute(t)
        }
    }

    function Yu(t) {
        return function() {
            this.removeAttributeNS(t.space, t.local)
        }
    }

    function Bu(t, n) {
        return function() {
            this.setAttribute(t, n)
        }
    }

    function ju(t, n) {
        return function() {
            this.setAttributeNS(t.space, t.local, n)
        }
    }

    function Hu(t, n) {
        return function() {
            var e = n.apply(this, arguments);
            null == e ? this.removeAttribute(t) : this.setAttribute(t, e)
        }
    }

    function Xu(t, n) {
        return function() {
            var e = n.apply(this, arguments);
            null == e ? this.removeAttributeNS(t.space, t.local) : this.setAttributeNS(t.space, t.local, e)
        }
    }

    function Vu(t, n) {
        var e = Ko(t);
        if (arguments.length < 2) {
            var r = this.node();
            return e.local ? r.getAttributeNS(e.space, e.local) : r.getAttribute(e)
        }
        return this.each((null == n ? e.local ? Yu : Iu : "function" == typeof n ? e.local ? Xu : Hu : e.local ? ju : Bu)(e, n))
    }

    function Wu(t) {
        return t.ownerDocument && t.ownerDocument.defaultView || t.document && t || t.defaultView
    }

    function $u(t) {
        return function() {
            this.style.removeProperty(t)
        }
    }

    function Zu(t, n, e) {
        return function() {
            this.style.setProperty(t, n, e)
        }
    }

    function Gu(t, n, e) {
        return function() {
            var r = n.apply(this, arguments);
            null == r ? this.style.removeProperty(t) : this.style.setProperty(t, r, e)
        }
    }

    function Ju(t, n, e) {
        var r;
        return arguments.length > 1 ? this.each((null == n ? $u : "function" == typeof n ? Gu : Zu)(t, n, null == e ? "" : e)) : Wu(r = this.node()).getComputedStyle(r, null).getPropertyValue(t)
    }

    function Qu(t) {
        return function() {
            delete this[t]
        }
    }

    function Ku(t, n) {
        return function() {
            this[t] = n
        }
    }

    function ta(t, n) {
        return function() {
            var e = n.apply(this, arguments);
            null == e ? delete this[t] : this[t] = e
        }
    }

    function na(t, n) {
        return arguments.length > 1 ? this.each((null == n ? Qu : "function" == typeof n ? ta : Ku)(t, n)) : this.node()[t]
    }

    function ea(t) {
        return t.trim().split(/^|\s+/)
    }

    function ra(t) {
        return t.classList || new ia(t)
    }

    function ia(t) {
        this._node = t, this._names = ea(t.getAttribute("class") || "")
    }

    function oa(t, n) {
        for (var e = ra(t), r = -1, i = n.length; ++r < i;) e.add(n[r])
    }

    function ua(t, n) {
        for (var e = ra(t), r = -1, i = n.length; ++r < i;) e.remove(n[r])
    }

    function aa(t) {
        return function() {
            oa(this, t)
        }
    }

    function ca(t) {
        return function() {
            ua(this, t)
        }
    }

    function sa(t, n) {
        return function() {
            (n.apply(this, arguments) ? oa : ua)(this, t)
        }
    }

    function fa(t, n) {
        var e = ea(t + "");
        if (arguments.length < 2) {
            for (var r = ra(this.node()), i = -1, o = e.length; ++i < o;)
                if (!r.contains(e[i])) return !1;
            return !0
        }
        return this.each(("function" == typeof n ? sa : n ? aa : ca)(e, n))
    }

    function la() {
        this.textContent = ""
    }

    function ha(t) {
        return function() {
            this.textContent = t
        }
    }

    function pa(t) {
        return function() {
            var n = t.apply(this, arguments);
            this.textContent = null == n ? "" : n
        }
    }

    function da(t) {
        return arguments.length ? this.each(null == t ? la : ("function" == typeof t ? pa : ha)(t)) : this.node().textContent
    }

    function va() {
        this.innerHTML = ""
    }

    function _a(t) {
        return function() {
            this.innerHTML = t
        }
    }

    function ya(t) {
        return function() {
            var n = t.apply(this, arguments);
            this.innerHTML = null == n ? "" : n
        }
    }

    function ga(t) {
        return arguments.length ? this.each(null == t ? va : ("function" == typeof t ? ya : _a)(t)) : this.node().innerHTML
    }

    function ma() {
        this.nextSibling && this.parentNode.appendChild(this)
    }

    function xa() {
        return this.each(ma)
    }

    function ba() {
        this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild)
    }

    function wa() {
        return this.each(ba)
    }

    function Ma(t) {
        var n = "function" == typeof t ? t : eu(t);
        return this.select(function() {
            return this.appendChild(n.apply(this, arguments))
        })
    }

    function Ta() {
        return null
    }

    function ka(t, n) {
        var e = "function" == typeof t ? t : eu(t),
            r = null == n ? Ta : "function" == typeof n ? n : _u(n);
        return this.select(function() {
            return this.insertBefore(e.apply(this, arguments), r.apply(this, arguments) || null)
        })
    }

    function Sa() {
        var t = this.parentNode;
        t && t.removeChild(this)
    }

    function Na() {
        return this.each(Sa)
    }

    function Aa(t) {
        return arguments.length ? this.property("__data__", t) : this.node().__data__
    }

    function Ea(t, n, e) {
        var r = Wu(t),
            i = r.CustomEvent;
        i ? i = new i(n, e) : (i = r.document.createEvent("Event"), e ? (i.initEvent(n, e.bubbles, e.cancelable), i.detail = e.detail) : i.initEvent(n, !1, !1)), t.dispatchEvent(i)
    }

    function Ca(t, n) {
        return function() {
            return Ea(this, t, n)
        }
    }

    function za(t, n) {
        return function() {
            return Ea(this, t, n.apply(this, arguments))
        }
    }

    function Pa(t, n) {
        return this.each(("function" == typeof n ? za : Ca)(t, n))
    }

    function qa(t, n) {
        this._groups = t, this._parents = n
    }

    function La() {
        return new qa([
            [document.documentElement]
        ], bm)
    }

    function Ra(t) {
        return "string" == typeof t ? new qa([
            [document.querySelector(t)]
        ], [document.documentElement]) : new qa([
            [t]
        ], bm)
    }

    function Ua(t) {
        return "string" == typeof t ? new qa([document.querySelectorAll(t)], [document.documentElement]) : new qa([null == t ? [] : t], bm)
    }

    function Da(t, n, e) {
        arguments.length < 3 && (e = n, n = hu().changedTouches);
        for (var r, i = 0, o = n ? n.length : 0; i < o; ++i)
            if ((r = n[i]).identifier === e) return pu(t, r);
        return null
    }

    function Oa(t, n) {
        null == n && (n = hu().touches);
        for (var e = 0, r = n ? n.length : 0, i = new Array(r); e < r; ++e) i[e] = pu(t, n[e]);
        return i
    }

    function Fa(t, n, e, r, i, o) {
        var u = t.__transition;
        if (u) {
            if (e in u) return
        } else t.__transition = {};
        ja(t, e, {
            name: n,
            index: r,
            group: i,
            on: wm,
            tween: Mm,
            time: o.time,
            delay: o.delay,
            duration: o.duration,
            ease: o.ease,
            timer: null,
            state: Tm
        })
    }

    function Ia(t, n) {
        var e = t.__transition;
        if (!e || !(e = e[n]) || e.state > Tm) throw new Error("too late");
        return e
    }

    function Ya(t, n) {
        var e = t.__transition;
        if (!e || !(e = e[n]) || e.state > Sm) throw new Error("too late");
        return e
    }

    function Ba(t, n) {
        var e = t.__transition;
        if (!e || !(e = e[n])) throw new Error("too late");
        return e
    }

    function ja(t, n, e) {
        function r(t) {
            e.state = km, e.delay <= t ? i(t - e.delay) : e.timer.restart(i, e.delay, e.time)
        }

        function i(r) {
            var i, c, s, f;
            for (i in a) f = a[i], f.name === e.name && (f.state === Nm ? (f.state = Em, f.timer.stop(), f.on.call("interrupt", t, t.__data__, f.index, f.group), delete a[i]) : +i < n && (f.state = Em, f.timer.stop(), delete a[i]));
            if (Wr(function() {
                    e.state === Nm && (e.timer.restart(o, e.delay, e.time), o(r))
                }), e.state = Sm, e.on.call("start", t, t.__data__, e.index, e.group), e.state === Sm) {
                for (e.state = Nm, u = new Array(s = e.tween.length), i = 0, c = -1; i < s; ++i)(f = e.tween[i].value.call(t, t.__data__, e.index, e.group)) && (u[++c] = f);
                u.length = c + 1
            }
        }

        function o(r) {
            for (var i = r < e.duration ? e.ease.call(null, r / e.duration) : (e.state = Am, 1), o = -1, c = u.length; ++o < c;) u[o].call(null, i);
            if (e.state === Am) {
                e.state = Em, e.timer.stop(), e.on.call("end", t, t.__data__, e.index, e.group);
                for (o in a)
                    if (+o !== n) return void delete a[n];
                delete t.__transition
            }
        }
        var u, a = t.__transition;
        a[n] = e, e.timer = Yr(r, 0, e.time)
    }

    function Ha(t, n) {
        var e, r, i, o = t.__transition,
            u = !0;
        if (o) {
            n = null == n ? null : n + "";
            for (i in o)(e = o[i]).name === n ? (r = e.state === Nm, e.state = Em, e.timer.stop(), r && e.on.call("interrupt", t, t.__data__, e.index, e.group), delete o[i]) : u = !1;
            u && delete t.__transition
        }
    }

    function Xa(t) {
        return this.each(function() {
            Ha(this, t)
        })
    }

    function Va(t, n) {
        var e, r;
        return function() {
            var i = Ya(this, t),
                o = i.tween;
            if (o !== e) {
                r = e = o;
                for (var u = 0, a = r.length; u < a; ++u)
                    if (r[u].name === n) {
                        r = r.slice(), r.splice(u, 1);
                        break
                    }
            }
            i.tween = r
        }
    }

    function Wa(t, n, e) {
        var r, i;
        if ("function" != typeof e) throw new Error;
        return function() {
            var o = Ya(this, t),
                u = o.tween;
            if (u !== r) {
                i = (r = u).slice();
                for (var a = {
                        name: n,
                        value: e
                    }, c = 0, s = i.length; c < s; ++c)
                    if (i[c].name === n) {
                        i[c] = a;
                        break
                    } c === s && i.push(a)
            }
            o.tween = i
        }
    }

    function $a(t, n) {
        var e = this._id;
        if (t += "", arguments.length < 2) {
            for (var r, i = Ba(this.node(), e).tween, o = 0, u = i.length; o < u; ++o)
                if ((r = i[o]).name === t) return r.value;
            return null
        }
        return this.each((null == n ? Va : Wa)(e, t, n))
    }

    function Za(t, n, e) {
        var r = t._id;
        return t.each(function() {
                var t = Ya(this, r);
                (t.value || (t.value = {}))[n] = e.apply(this, arguments)
            }),
            function(t) {
                return Ba(t, r).value[n]
            }
    }

    function Ga(t, n) {
        var e;
        return ("number" == typeof n ? rr : n instanceof be ? C_ : (e = be(n)) ? (n = e, C_) : ar)(t, n)
    }

    function Ja(t) {
        return function() {
            this.removeAttribute(t)
        }
    }

    function Qa(t) {
        return function() {
            this.removeAttributeNS(t.space, t.local)
        }
    }

    function Ka(t, n, e) {
        var r, i;
        return function() {
            var o = this.getAttribute(t);
            return o === e ? null : o === r ? i : i = n(r = o, e)
        }
    }

    function tc(t, n, e) {
        var r, i;
        return function() {
            var o = this.getAttributeNS(t.space, t.local);
            return o === e ? null : o === r ? i : i = n(r = o, e)
        }
    }

    function nc(t, n, e) {
        var r, i, o;
        return function() {
            var u, a = e(this);
            return null == a ? void this.removeAttribute(t) : (u = this.getAttribute(t), u === a ? null : u === r && a === i ? o : o = n(r = u, i = a))
        }
    }

    function ec(t, n, e) {
        var r, i, o;
        return function() {
            var u, a = e(this);
            return null == a ? void this.removeAttributeNS(t.space, t.local) : (u = this.getAttributeNS(t.space, t.local), u === a ? null : u === r && a === i ? o : o = n(r = u, i = a))
        }
    }

    function rc(t, n) {
        var e = Ko(t),
            r = "transform" === e ? O_ : Ga;
        return this.attrTween(t, "function" == typeof n ? (e.local ? ec : nc)(e, r, Za(this, "attr." + t, n)) : null == n ? (e.local ? Qa : Ja)(e) : (e.local ? tc : Ka)(e, r, n))
    }

    function ic(t, n) {
        function e() {
            var e = this,
                r = n.apply(e, arguments);
            return r && function(n) {
                e.setAttributeNS(t.space, t.local, r(n))
            }
        }
        return e._value = n, e
    }

    function oc(t, n) {
        function e() {
            var e = this,
                r = n.apply(e, arguments);
            return r && function(n) {
                e.setAttribute(t, r(n))
            }
        }
        return e._value = n, e
    }

    function uc(t, n) {
        var e = "attr." + t;
        if (arguments.length < 2) return (e = this.tween(e)) && e._value;
        if (null == n) return this.tween(e, null);
        if ("function" != typeof n) throw new Error;
        var r = Ko(t);
        return this.tween(e, (r.local ? ic : oc)(r, n))
    }

    function ac(t, n) {
        return function() {
            Ia(this, t).delay = +n.apply(this, arguments)
        }
    }

    function cc(t, n) {
        return n = +n,
            function() {
                Ia(this, t).delay = n
            }
    }

    function sc(t) {
        var n = this._id;
        return arguments.length ? this.each(("function" == typeof t ? ac : cc)(n, t)) : Ba(this.node(), n).delay
    }

    function fc(t, n) {
        return function() {
            Ya(this, t).duration = +n.apply(this, arguments)
        }
    }

    function lc(t, n) {
        return n = +n,
            function() {
                Ya(this, t).duration = n
            }
    }

    function hc(t) {
        var n = this._id;
        return arguments.length ? this.each(("function" == typeof t ? fc : lc)(n, t)) : Ba(this.node(), n).duration
    }

    function pc(t, n) {
        if ("function" != typeof n) throw new Error;
        return function() {
            Ya(this, t).ease = n
        }
    }

    function dc(t) {
        var n = this._id;
        return arguments.length ? this.each(pc(n, t)) : Ba(this.node(), n).ease
    }

    function vc(t) {
        "function" != typeof t && (t = ym(t));
        for (var n = this._groups, e = n.length, r = new Array(e), i = 0; i < e; ++i)
            for (var o, u = n[i], a = u.length, c = r[i] = [], s = 0; s < a; ++s)(o = u[s]) && t.call(o, o.__data__, s, u) && c.push(o);
        return new Uc(r, this._parents, this._name, this._id)
    }

    function _c(t) {
        if (t._id !== this._id) throw new Error;
        for (var n = this._groups, e = t._groups, r = n.length, i = e.length, o = Math.min(r, i), u = new Array(r), a = 0; a < o; ++a)
            for (var c, s = n[a], f = e[a], l = s.length, h = u[a] = new Array(l), p = 0; p < l; ++p)(c = s[p] || f[p]) && (h[p] = c);
        for (; a < r; ++a) u[a] = n[a];
        return new Uc(u, this._parents, this._name, this._id)
    }

    function yc(t) {
        return (t + "").trim().split(/^|\s+/).every(function(t) {
            var n = t.indexOf(".");
            return n >= 0 && (t = t.slice(0, n)), !t || "start" === t
        })
    }

    function gc(t, n, e) {
        var r, i, o = yc(n) ? Ia : Ya;
        return function() {
            var u = o(this, t),
                a = u.on;
            a !== r && (i = (r = a).copy()).on(n, e), u.on = i
        }
    }

    function mc(t, n) {
        var e = this._id;
        return arguments.length < 2 ? Ba(this.node(), e).on.on(t) : this.each(gc(e, t, n))
    }

    function xc(t) {
        return function() {
            var n = this.parentNode;
            for (var e in this.__transition)
                if (+e !== t) return;
            n && n.removeChild(this)
        }
    }

    function bc() {
        return this.on("end.remove", xc(this._id))
    }

    function wc(t) {
        var n = this._name,
            e = this._id;
        "function" != typeof t && (t = _u(t));
        for (var r = this._groups, i = r.length, o = new Array(i), u = 0; u < i; ++u)
            for (var a, c, s = r[u], f = s.length, l = o[u] = new Array(f), h = 0; h < f; ++h)(a = s[h]) && (c = t.call(a, a.__data__, h, s)) && ("__data__" in a && (c.__data__ = a.__data__), l[h] = c, Fa(l[h], n, e, h, l, Ba(a, e)));
        return new Uc(o, this._parents, n, e)
    }

    function Mc(t) {
        var n = this._name,
            e = this._id;
        "function" != typeof t && (t = mu(t));
        for (var r = this._groups, i = r.length, o = [], u = [], a = 0; a < i; ++a)
            for (var c, s = r[a], f = s.length, l = 0; l < f; ++l)
                if (c = s[l]) {
                    for (var h, p = t.call(c, c.__data__, l, s), d = Ba(c, e), v = 0, _ = p.length; v < _; ++v)(h = p[v]) && Fa(h, n, e, v, p, d);
                    o.push(p), u.push(c)
                } return new Uc(o, u, n, e)
    }

    function Tc() {
        return new Cm(this._groups, this._parents)
    }

    function kc(t, n) {
        var e, r, i;
        return function() {
            var o = Wu(this).getComputedStyle(this, null),
                u = o.getPropertyValue(t),
                a = (this.style.removeProperty(t), o.getPropertyValue(t));
            return u === a ? null : u === e && a === r ? i : i = n(e = u, r = a)
        }
    }

    function Sc(t) {
        return function() {
            this.style.removeProperty(t)
        }
    }

    function Nc(t, n, e) {
        var r, i;
        return function() {
            var o = Wu(this).getComputedStyle(this, null).getPropertyValue(t);
            return o === e ? null : o === r ? i : i = n(r = o, e)
        }
    }

    function Ac(t, n, e) {
        var r, i, o;
        return function() {
            var u = Wu(this).getComputedStyle(this, null),
                a = u.getPropertyValue(t),
                c = e(this);
            return null == c && (this.style.removeProperty(t), c = u.getPropertyValue(t)), a === c ? null : a === r && c === i ? o : o = n(r = a, i = c)
        }
    }

    function Ec(t, n, e) {
        var r = "transform" == (t += "") ? D_ : Ga;
        return null == n ? this.styleTween(t, kc(t, r)).on("end.style." + t, Sc(t)) : this.styleTween(t, "function" == typeof n ? Ac(t, r, Za(this, "style." + t, n)) : Nc(t, r, n), e)
    }

    function Cc(t, n, e) {
        function r() {
            var r = this,
                i = n.apply(r, arguments);
            return i && function(n) {
                r.style.setProperty(t, i(n), e)
            }
        }
        return r._value = n, r
    }

    function zc(t, n, e) {
        var r = "style." + (t += "");
        if (arguments.length < 2) return (r = this.tween(r)) && r._value;
        if (null == n) return this.tween(r, null);
        if ("function" != typeof n) throw new Error;
        return this.tween(r, Cc(t, n, null == e ? "" : e))
    }

    function Pc(t) {
        return function() {
            this.textContent = t
        }
    }

    function qc(t) {
        return function() {
            var n = t(this);
            this.textContent = null == n ? "" : n
        }
    }

    function Lc(t) {
        return this.tween("text", "function" == typeof t ? qc(Za(this, "text", t)) : Pc(null == t ? "" : t + ""))
    }

    function Rc() {
        for (var t = this._name, n = this._id, e = Oc(), r = this._groups, i = r.length, o = 0; o < i; ++o)
            for (var u, a = r[o], c = a.length, s = 0; s < c; ++s)
                if (u = a[s]) {
                    var f = Ba(u, n);
                    Fa(u, t, e, s, a, {
                        time: f.time + f.delay + f.duration,
                        delay: 0,
                        duration: f.duration,
                        ease: f.ease
                    })
                } return new Uc(r, this._parents, t, e)
    }

    function Uc(t, n, e, r) {
        this._groups = t, this._parents = n, this._name = e, this._id = r
    }

    function Dc(t) {
        return La().transition(t)
    }

    function Oc() {
        return ++zm
    }

    function Fc(t, n) {
        for (var e; !(e = t.__transition) || !(e = e[n]);)
            if (!(t = t.parentNode)) return qm.time = Or(), qm;
        return e
    }

    function Ic(t) {
        var n, e;
        t instanceof Uc ? (n = t._id, t = t._name) : (n = Oc(), (e = qm).time = Or(), t = null == t ? null : t + "");
        for (var r = this._groups, i = r.length, o = 0; o < i; ++o)
            for (var u, a = r[o], c = a.length, s = 0; s < c; ++s)(u = a[s]) && Fa(u, t, n, s, a, e || Fc(u, n));
        return new Uc(r, this._parents, t, n)
    }

    function Yc(t, n) {
        var e, r, i = t.__transition;
        if (i) {
            n = null == n ? null : n + "";
            for (r in i)
                if ((e = i[r]).state > km && e.name === n) return new Uc([
                    [t]
                ], Lm, n, +r)
        }
        return null
    }

    function Bc(t) {
        return t
    }

    function jc(t, n, e) {
        var r = t(e);
        return "translate(" + (isFinite(r) ? r : n(e)) + ",0)"
    }

    function Hc(t, n, e) {
        var r = t(e);
        return "translate(0," + (isFinite(r) ? r : n(e)) + ")"
    }

    function Xc(t) {
        var n = t.bandwidth() / 2;
        return t.round() && (n = Math.round(n)),
            function(e) {
                return t(e) + n
            }
    }

    function Vc() {
        return !this.__axis
    }

    function Wc(t, n) {
        function e(e) {
            var s, f = null == i ? n.ticks ? n.ticks.apply(n, r) : n.domain() : i,
                l = null == o ? n.tickFormat ? n.tickFormat.apply(n, r) : Bc : o,
                h = Math.max(u, 0) + c,
                p = t === Um || t === Om ? jc : Hc,
                d = n.range(),
                v = d[0] + .5,
                _ = d[d.length - 1] + .5,
                y = (n.bandwidth ? Xc : Bc)(n.copy()),
                g = e.selection ? e.selection() : e,
                m = g.selectAll(".domain").data([null]),
                x = g.selectAll(".tick").data(f, n).order(),
                b = x.exit(),
                w = x.enter().append("g").attr("class", "tick"),
                M = x.select("line"),
                T = x.select("text"),
                k = t === Um || t === Fm ? -1 : 1,
                S = t === Fm || t === Dm ? (s = "x", "y") : (s = "y", "x");
            m = m.merge(m.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "#000")), x = x.merge(w), M = M.merge(w.append("line").attr("stroke", "#000").attr(s + "2", k * u).attr(S + "1", .5).attr(S + "2", .5)), T = T.merge(w.append("text").attr("fill", "#000").attr(s, k * h).attr(S, .5).attr("dy", t === Um ? "0em" : t === Om ? "0.71em" : "0.32em")), e !== g && (m = m.transition(e), x = x.transition(e), M = M.transition(e), T = T.transition(e), b = b.transition(e).attr("opacity", Im).attr("transform", function(t) {
                return p(y, this.parentNode.__axis || y, t)
            }), w.attr("opacity", Im).attr("transform", function(t) {
                return p(this.parentNode.__axis || y, y, t)
            })), b.remove(), m.attr("d", t === Fm || t == Dm ? "M" + k * a + "," + v + "H0.5V" + _ + "H" + k * a : "M" + v + "," + k * a + "V0.5H" + _ + "V" + k * a), x.attr("opacity", 1).attr("transform", function(t) {
                return p(y, y, t)
            }), M.attr(s + "2", k * u), T.attr(s, k * h).text(l), g.filter(Vc).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", t === Dm ? "start" : t === Fm ? "end" : "middle"), g.each(function() {
                this.__axis = y
            })
        }
        var r = [],
            i = null,
            o = null,
            u = 6,
            a = 6,
            c = 3;
        return e.scale = function(t) {
            return arguments.length ? (n = t, e) : n
        }, e.ticks = function() {
            return r = Rm.call(arguments), e
        }, e.tickArguments = function(t) {
            return arguments.length ? (r = null == t ? [] : Rm.call(t), e) : r.slice()
        }, e.tickValues = function(t) {
            return arguments.length ? (i = null == t ? null : Rm.call(t), e) : i && i.slice()
        }, e.tickFormat = function(t) {
            return arguments.length ? (o = t, e) : o
        }, e.tickSize = function(t) {
            return arguments.length ? (u = a = +t, e) : u
        }, e.tickSizeInner = function(t) {
            return arguments.length ? (u = +t, e) : u
        }, e.tickSizeOuter = function(t) {
            return arguments.length ? (a = +t, e) : a
        }, e.tickPadding = function(t) {
            return arguments.length ? (c = +t, e) : c
        }, e
    }

    function $c(t) {
        return Wc(Um, t)
    }

    function Zc(t) {
        return Wc(Dm, t)
    }

    function Gc(t) {
        return Wc(Om, t)
    }

    function Jc(t) {
        return Wc(Fm, t)
    }

    function Qc(t, n) {
        return t.parent === n.parent ? 1 : 2
    }

    function Kc(t) {
        return t.reduce(ts, 0) / t.length
    }

    function ts(t, n) {
        return t + n.x
    }

    function ns(t) {
        return 1 + t.reduce(es, 0)
    }

    function es(t, n) {
        return Math.max(t, n.y)
    }

    function rs(t) {
        for (var n; n = t.children;) t = n[0];
        return t
    }

    function is(t) {
        for (var n; n = t.children;) t = n[n.length - 1];
        return t
    }

    function os() {
        function t(t) {
            var o, u = 0;
            t.eachAfter(function(t) {
                var e = t.children;
                e ? (t.x = Kc(e), t.y = ns(e)) : (t.x = o ? u += n(t, o) : 0, t.y = 0, o = t)
            });
            var a = rs(t),
                c = is(t),
                s = a.x - n(a, c) / 2,
                f = c.x + n(c, a) / 2;
            return t.eachAfter(i ? function(n) {
                n.x = (n.x - t.x) * e, n.y = (t.y - n.y) * r
            } : function(n) {
                n.x = (n.x - s) / (f - s) * e, n.y = (1 - (t.y ? n.y / t.y : 1)) * r
            })
        }
        var n = Qc,
            e = 1,
            r = 1,
            i = !1;
        return t.separation = function(e) {
            return arguments.length ? (n = e, t) : n
        }, t.size = function(n) {
            return arguments.length ? (i = !1, e = +n[0], r = +n[1], t) : i ? null : [e, r]
        }, t.nodeSize = function(n) {
            return arguments.length ? (i = !0, e = +n[0], r = +n[1], t) : i ? [e, r] : null
        }, t
    }

    function us(t) {
        var n, e, r, i, o = this,
            u = [o];
        do
            for (n = u.reverse(), u = []; o = n.pop();)
                if (t(o), e = o.children)
                    for (r = 0, i = e.length; r < i; ++r) u.push(e[r]); while (u.length);
        return this
    }

    function as(t) {
        for (var n, e, r = this, i = [r]; r = i.pop();)
            if (t(r), n = r.children)
                for (e = n.length - 1; e >= 0; --e) i.push(n[e]);
        return this
    }

    function cs(t) {
        for (var n, e, r, i = this, o = [i], u = []; i = o.pop();)
            if (u.push(i), n = i.children)
                for (e = 0, r = n.length; e < r; ++e) o.push(n[e]);
        for (; i = u.pop();) t(i);
        return this
    }

    function ss(t) {
        return this.eachAfter(function(n) {
            for (var e = +t(n.data) || 0, r = n.children, i = r && r.length; --i >= 0;) e += r[i].value;
            n.value = e
        })
    }

    function fs(t) {
        return this.eachBefore(function(n) {
            n.children && n.children.sort(t)
        })
    }

    function ls(t) {
        for (var n = this, e = hs(n, t), r = [n]; n !== e;) n = n.parent, r.push(n);
        for (var i = r.length; t !== e;) r.splice(i, 0, t), t = t.parent;
        return r
    }

    function hs(t, n) {
        if (t === n) return t;
        var e = t.ancestors(),
            r = n.ancestors(),
            i = null;
        for (t = e.pop(), n = r.pop(); t === n;) i = t, t = e.pop(), n = r.pop();
        return i
    }

    function ps() {
        for (var t = this, n = [t]; t = t.parent;) n.push(t);
        return n
    }

    function ds() {
        var t = [];
        return this.each(function(n) {
            t.push(n)
        }), t
    }

    function vs() {
        var t = [];
        return this.eachBefore(function(n) {
            n.children || t.push(n)
        }), t
    }

    function _s() {
        var t = this,
            n = [];
        return t.each(function(e) {
            e !== t && n.push({
                source: e.parent,
                target: e
            })
        }), n
    }

    function ys(t, n) {
        var e, r, i, o, u, a = new ws(t),
            c = +t.value && (a.value = t.value),
            s = [a];
        for (null == n && (n = ms); e = s.pop();)
            if (c && (e.value = +e.data.value), (i = n(e.data)) && (u = i.length))
                for (e.children = new Array(u), o = u - 1; o >= 0; --o) s.push(r = e.children[o] = new ws(i[o])), r.parent = e, r.depth = e.depth + 1;
        return a.eachBefore(bs)
    }

    function gs() {
        return ys(this).eachBefore(xs)
    }

    function ms(t) {
        return t.children
    }

    function xs(t) {
        t.data = t.data.data
    }

    function bs(t) {
        var n = 0;
        do t.height = n; while ((t = t.parent) && t.height < ++n)
    }

    function ws(t) {
        this.data = t, this.depth = this.height = 0, this.parent = null
    }

    function Ms(t) {
        this._ = t, this.next = null
    }

    function Ts(t) {
        for (var n, e = (t = t.slice()).length, r = null, i = r; e;) {
            var o = new Ms(t[e - 1]);
            i = i ? i.next = o : r = o, t[n] = t[--e]
        }
        return {
            head: r,
            tail: i
        }
    }

    function ks(t) {
        return Ns(Ts(t), [])
    }

    function Ss(t, n) {
        var e = n.x - t.x,
            r = n.y - t.y,
            i = t.r - n.r;
        return i * i + 1e-6 > e * e + r * r
    }

    function Ns(t, n) {
        var e, r, i, o = null,
            u = t.head;
        switch (n.length) {
            case 1:
                e = As(n[0]);
                break;
            case 2:
                e = Es(n[0], n[1]);
                break;
            case 3:
                e = Cs(n[0], n[1], n[2])
        }
        for (; u;) i = u._, r = u.next, e && Ss(e, i) ? o = u : (o ? (t.tail = o, o.next = null) : t.head = t.tail = null, n.push(i), e = Ns(t, n), n.pop(), t.head ? (u.next = t.head, t.head = u) : (u.next = null, t.head = t.tail = u), o = t.tail, o.next = r), u = r;
        return t.tail = o, e
    }

    function As(t) {
        return {
            x: t.x,
            y: t.y,
            r: t.r
        }
    }

    function Es(t, n) {
        var e = t.x,
            r = t.y,
            i = t.r,
            o = n.x,
            u = n.y,
            a = n.r,
            c = o - e,
            s = u - r,
            f = a - i,
            l = Math.sqrt(c * c + s * s);
        return {
            x: (e + o + c / l * f) / 2,
            y: (r + u + s / l * f) / 2,
            r: (l + i + a) / 2
        }
    }

    function Cs(t, n, e) {
        var r = t.x,
            i = t.y,
            o = t.r,
            u = n.x,
            a = n.y,
            c = n.r,
            s = e.x,
            f = e.y,
            l = e.r,
            h = 2 * (r - u),
            p = 2 * (i - a),
            d = 2 * (c - o),
            v = r * r + i * i - o * o - u * u - a * a + c * c,
            _ = 2 * (r - s),
            y = 2 * (i - f),
            g = 2 * (l - o),
            m = r * r + i * i - o * o - s * s - f * f + l * l,
            x = _ * p - h * y,
            b = (p * m - y * v) / x - r,
            w = (y * d - p * g) / x,
            M = (_ * v - h * m) / x - i,
            T = (h * g - _ * d) / x,
            k = w * w + T * T - 1,
            S = 2 * (b * w + M * T + o),
            N = b * b + M * M - o * o,
            A = (-S - Math.sqrt(S * S - 4 * k * N)) / (2 * k);
        return {
            x: b + w * A + r,
            y: M + T * A + i,
            r: A
        }
    }

    function zs(t, n, e) {
        var r = t.x,
            i = t.y,
            o = n.r + e.r,
            u = t.r + e.r,
            a = n.x - r,
            c = n.y - i,
            s = a * a + c * c;
        if (s) {
            var f = .5 + ((u *= u) - (o *= o)) / (2 * s),
                l = Math.sqrt(Math.max(0, 2 * o * (u + s) - (u -= s) * u - o * o)) / (2 * s);
            e.x = r + f * a + l * c, e.y = i + f * c - l * a
        } else e.x = r + u, e.y = i
    }

    function Ps(t, n) {
        var e = n.x - t.x,
            r = n.y - t.y,
            i = t.r + n.r;
        return i * i > e * e + r * r
    }

    function qs(t, n, e) {
        var r = t.x - n,
            i = t.y - e;
        return r * r + i * i
    }

    function Ls(t) {
        this._ = t, this.next = null, this.previous = null
    }

    function Rs(t) {
        if (!(i = t.length)) return 0;
        var n, e, r, i;
        if (n = t[0], n.x = 0, n.y = 0, !(i > 1)) return n.r;
        if (e = t[1], n.x = -e.r, e.x = n.r, e.y = 0, !(i > 2)) return n.r + e.r;
        zs(e, n, r = t[2]);
        var o, u, a, c, s, f, l, h = n.r * n.r,
            p = e.r * e.r,
            d = r.r * r.r,
            v = h + p + d,
            _ = h * n.x + p * e.x + d * r.x,
            y = h * n.y + p * e.y + d * r.y;
        n = new Ls(n), e = new Ls(e), r = new Ls(r), n.next = r.previous = e, e.next = n.previous = r, r.next = e.previous = n;
        t: for (a = 3; a < i; ++a) {
            if (zs(n._, e._, r = t[a]), r = new Ls(r), (s = n.previous) === (c = e.next)) {
                if (Ps(c._, r._)) {
                    n = e, e = c, --a;
                    continue t
                }
            } else {
                f = c._.r, l = s._.r;
                do
                    if (f <= l) {
                        if (Ps(c._, r._)) {
                            e = c, n.next = e, e.previous = n, --a;
                            continue t
                        }
                        c = c.next, f += c._.r
                    } else {
                        if (Ps(s._, r._)) {
                            n = s, n.next = e, e.previous = n, --a;
                            continue t
                        }
                        s = s.previous, l += s._.r
                    } while (c !== s.next)
            }
            for (r.previous = n, r.next = e, n.next = e.previous = e = r, v += d = r._.r * r._.r, _ += d * r._.x, y += d * r._.y, h = qs(n._, o = _ / v, u = y / v);
                (r = r.next) !== e;)(d = qs(r._, o, u)) < h && (n = r, h = d);
            e = n.next
        }
        for (n = [e._], r = e;
            (r = r.next) !== e;) n.push(r._);
        for (r = ks(n), a = 0; a < i; ++a) n = t[a], n.x -= r.x, n.y -= r.y;
        return r.r
    }

    function Us(t) {
        return Rs(t), t
    }

    function Ds(t) {
        return null == t ? null : Os(t)
    }

    function Os(t) {
        if ("function" != typeof t) throw new Error;
        return t
    }

    function Fs() {
        return 0
    }

    function Is(t) {
        return function() {
            return t
        }
    }

    function Ys(t) {
        return Math.sqrt(t.value)
    }

    function Bs() {
        function t(t) {
            return t.x = e / 2, t.y = r / 2, n ? t.eachBefore(js(n)).eachAfter(Hs(i, .5)).eachBefore(Xs(1)) : t.eachBefore(js(Ys)).eachAfter(Hs(Fs, 1)).eachAfter(Hs(i, t.r / Math.min(e, r))).eachBefore(Xs(Math.min(e, r) / (2 * t.r))), t
        }
        var n = null,
            e = 1,
            r = 1,
            i = Fs;
        return t.radius = function(e) {
            return arguments.length ? (n = Ds(e), t) : n
        }, t.size = function(n) {
            return arguments.length ? (e = +n[0], r = +n[1], t) : [e, r]
        }, t.padding = function(n) {
            return arguments.length ? (i = "function" == typeof n ? n : Is(+n), t) : i
        }, t
    }

    function js(t) {
        return function(n) {
            n.children || (n.r = Math.max(0, +t(n) || 0))
        }
    }

    function Hs(t, n) {
        return function(e) {
            if (r = e.children) {
                var r, i, o, u = r.length,
                    a = t(e) * n || 0;
                if (a)
                    for (i = 0; i < u; ++i) r[i].r += a;
                if (o = Rs(r), a)
                    for (i = 0; i < u; ++i) r[i].r -= a;
                e.r = o + a
            }
        }
    }

    function Xs(t) {
        return function(n) {
            var e = n.parent;
            n.r *= t, e && (n.x = e.x + t * n.x, n.y = e.y + t * n.y)
        }
    }

    function Vs(t) {
        t.x0 = Math.round(t.x0), t.y0 = Math.round(t.y0), t.x1 = Math.round(t.x1), t.y1 = Math.round(t.y1)
    }

    function Ws(t, n, e, r, i) {
        for (var o, u = t.children, a = -1, c = u.length, s = t.value && (r - n) / t.value; ++a < c;) o = u[a], o.y0 = e, o.y1 = i, o.x0 = n, o.x1 = n += o.value * s
    }

    function $s() {
        function t(t) {
            var u = t.height + 1;
            return t.x0 = t.y0 = i, t.x1 = e, t.y1 = r / u, t.eachBefore(n(r, u)), o && t.eachBefore(Vs), t
        }

        function n(t, n) {
            return function(e) {
                e.children && Ws(e, e.x0, t * (e.depth + 1) / n, e.x1, t * (e.depth + 2) / n);
                var r = e.x0,
                    o = e.y0,
                    u = e.x1 - i,
                    a = e.y1 - i;
                u < r && (r = u = (r + u) / 2), a < o && (o = a = (o + a) / 2), e.x0 = r, e.y0 = o, e.x1 = u, e.y1 = a
            }
        }
        var e = 1,
            r = 1,
            i = 0,
            o = !1;
        return t.round = function(n) {
            return arguments.length ? (o = !!n, t) : o
        }, t.size = function(n) {
            return arguments.length ? (e = +n[0], r = +n[1], t) : [e, r]
        }, t.padding = function(n) {
            return arguments.length ? (i = +n, t) : i
        }, t
    }

    function Zs(t) {
        return t.id
    }

    function Gs(t) {
        return t.parentId
    }

    function Js() {
        function t(t) {
            var r, i, o, u, a, c, s, f = t.length,
                l = new Array(f),
                h = {};
            for (i = 0; i < f; ++i) r = t[i], a = l[i] = new ws(r), null != (c = n(r, i, t)) && (c += "") && (s = Ym + (a.id = c), h[s] = s in h ? jm : a);
            for (i = 0; i < f; ++i)
                if (a = l[i], c = e(t[i], i, t), null != c && (c += "")) {
                    if (u = h[Ym + c], !u) throw new Error("missing: " + c);
                    if (u === jm) throw new Error("ambiguous: " + c);
                    u.children ? u.children.push(a) : u.children = [a], a.parent = u
                } else {
                    if (o) throw new Error("multiple roots");
                    o = a
                } if (!o) throw new Error("no root");
            if (o.parent = Bm, o.eachBefore(function(t) {
                    t.depth = t.parent.depth + 1, --f
                }).eachBefore(bs), o.parent = null, f > 0) throw new Error("cycle");
            return o
        }
        var n = Zs,
            e = Gs;
        return t.id = function(e) {
            return arguments.length ? (n = Os(e), t) : n
        }, t.parentId = function(n) {
            return arguments.length ? (e = Os(n), t) : e
        }, t
    }

    function Qs(t, n) {
        return t.parent === n.parent ? 1 : 2
    }

    function Ks(t) {
        var n = t.children;
        return n ? n[0] : t.t
    }

    function tf(t) {
        var n = t.children;
        return n ? n[n.length - 1] : t.t
    }

    function nf(t, n, e) {
        var r = e / (n.i - t.i);
        n.c -= r, n.s += e, t.c += r, n.z += e, n.m += e
    }

    function ef(t) {
        for (var n, e = 0, r = 0, i = t.children, o = i.length; --o >= 0;) n = i[o], n.z += e, n.m += e, e += n.s + (r += n.c)
    }

    function rf(t, n, e) {
        return t.a.parent === n.parent ? t.a : e
    }

    function of (t, n) {
        this._ = t, this.parent = null, this.children = null, this.A = null, this.a = this, this.z = 0, this.m = 0, this.c = 0, this.s = 0, this.t = null, this.i = n
    }

    function uf(t) {
        for (var n, e, r, i, o, u = new of (t, 0), a = [u]; n = a.pop();)
            if (r = n._.children)
                for (n.children = new Array(o = r.length), i = o - 1; i >= 0; --i) a.push(e = n.children[i] = new of (r[i], i)), e.parent = n;
        return (u.parent = new of (null, 0)).children = [u], u
    }

    function af() {
        function t(t) {
            var r = uf(t);
            if (r.eachAfter(n), r.parent.m = -r.z, r.eachBefore(e), c) t.eachBefore(i);
            else {
                var s = t,
                    f = t,
                    l = t;
                t.eachBefore(function(t) {
                    t.x < s.x && (s = t), t.x > f.x && (f = t), t.depth > l.depth && (l = t)
                });
                var h = s === f ? 1 : o(s, f) / 2,
                    p = h - s.x,
                    d = u / (f.x + h + p),
                    v = a / (l.depth || 1);
                t.eachBefore(function(t) {
                    t.x = (t.x + p) * d, t.y = t.depth * v
                })
            }
            return t
        }

        function n(t) {
            var n = t.children,
                e = t.parent.children,
                i = t.i ? e[t.i - 1] : null;
            if (n) {
                ef(t);
                var u = (n[0].z + n[n.length - 1].z) / 2;
                i ? (t.z = i.z + o(t._, i._), t.m = t.z - u) : t.z = u
            } else i && (t.z = i.z + o(t._, i._));
            t.parent.A = r(t, i, t.parent.A || e[0])
        }

        function e(t) {
            t._.x = t.z + t.parent.m, t.m += t.parent.m
        }

        function r(t, n, e) {
            if (n) {
                for (var r, i = t, u = t, a = n, c = i.parent.children[0], s = i.m, f = u.m, l = a.m, h = c.m; a = tf(a), i = Ks(i), a && i;) c = Ks(c), u = tf(u), u.a = t, r = a.z + l - i.z - s + o(a._, i._), r > 0 && (nf(rf(a, t, e), t, r), s += r, f += r), l += a.m, s += i.m, h += c.m, f += u.m;
                a && !tf(u) && (u.t = a, u.m += l - f), i && !Ks(c) && (c.t = i, c.m += s - h, e = t)
            }
            return e
        }

        function i(t) {
            t.x *= u, t.y = t.depth * a
        }
        var o = Qs,
            u = 1,
            a = 1,
            c = null;
        return t.separation = function(n) {
            return arguments.length ? (o = n, t) : o
        }, t.size = function(n) {
            return arguments.length ? (c = !1, u = +n[0], a = +n[1], t) : c ? null : [u, a]
        }, t.nodeSize = function(n) {
            return arguments.length ? (c = !0, u = +n[0], a = +n[1], t) : c ? [u, a] : null
        }, t
    }

    function cf(t, n, e, r, i) {
        for (var o, u = t.children, a = -1, c = u.length, s = t.value && (i - e) / t.value; ++a < c;) o = u[a], o.x0 = n, o.x1 = r, o.y0 = e, o.y1 = e += o.value * s
    }

    function sf(t, n, e, r, i, o) {
        for (var u, a, c, s, f, l, h, p, d, v, _, y, g = [], m = n.children, x = 0, b = m.length, w = n.value; x < b;) {
            for (s = i - e, f = o - r, h = p = l = m[x].value, _ = Math.max(f / s, s / f) / (w * t), y = l * l * _, v = Math.max(p / y, y / h), c = x + 1; c < b; ++c) {
                if (l += a = m[c].value, a < h && (h = a), a > p && (p = a), y = l * l * _, d = Math.max(p / y, y / h), d > v) {
                    l -= a;
                    break
                }
                v = d
            }
            g.push(u = {
                value: l,
                dice: s < f,
                children: m.slice(x, c)
            }), u.dice ? Ws(u, e, r, i, w ? r += f * l / w : o) : cf(u, e, r, w ? e += s * l / w : i, o), w -= l, x = c
        }
        return g
    }

    function ff() {
        function t(t) {
            return t.x0 = t.y0 = 0, t.x1 = i, t.y1 = o, t.eachBefore(n), u = [0], r && t.eachBefore(Vs), t
        }

        function n(t) {
            var n = u[t.depth],
                r = t.x0 + n,
                i = t.y0 + n,
                o = t.x1 - n,
                h = t.y1 - n;
            o < r && (r = o = (r + o) / 2), h < i && (i = h = (i + h) / 2), t.x0 = r, t.y0 = i, t.x1 = o, t.y1 = h, t.children && (n = u[t.depth + 1] = a(t) / 2, r += l(t) - n, i += c(t) - n, o -= s(t) - n, h -= f(t) - n, o < r && (r = o = (r + o) / 2), h < i && (i = h = (i + h) / 2), e(t, r, i, o, h))
        }
        var e = Xm,
            r = !1,
            i = 1,
            o = 1,
            u = [0],
            a = Fs,
            c = Fs,
            s = Fs,
            f = Fs,
            l = Fs;
        return t.round = function(n) {
            return arguments.length ? (r = !!n, t) : r
        }, t.size = function(n) {
            return arguments.length ? (i = +n[0], o = +n[1], t) : [i, o]
        }, t.tile = function(n) {
            return arguments.length ? (e = Os(n), t) : e
        }, t.padding = function(n) {
            return arguments.length ? t.paddingInner(n).paddingOuter(n) : t.paddingInner()
        }, t.paddingInner = function(n) {
            return arguments.length ? (a = "function" == typeof n ? n : Is(+n), t) : a
        }, t.paddingOuter = function(n) {
            return arguments.length ? t.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n) : t.paddingTop()
        }, t.paddingTop = function(n) {
            return arguments.length ? (c = "function" == typeof n ? n : Is(+n), t) : c
        }, t.paddingRight = function(n) {
            return arguments.length ? (s = "function" == typeof n ? n : Is(+n), t) : s
        }, t.paddingBottom = function(n) {
            return arguments.length ? (f = "function" == typeof n ? n : Is(+n), t) : f
        }, t.paddingLeft = function(n) {
            return arguments.length ? (l = "function" == typeof n ? n : Is(+n), t) : l
        }, t
    }

    function lf(t, n, e, r, i) {
        function o(t, n, e, r, i, u, a) {
            if (t >= n - 1) {
                var s = c[t];
                return s.x0 = r, s.y0 = i, s.x1 = u, s.y1 = a, void 0
            }
            for (var l = f[t], h = e / 2 + l, p = t + 1, d = n - 1; p < d;) {
                var v = p + d >>> 1;
                f[v] < h ? p = v + 1 : d = v
            }
            var _ = f[p] - l,
                y = e - _;
            if (a - i > u - r) {
                var g = (i * y + a * _) / e;
                o(t, p, _, r, i, u, g), o(p, n, y, r, g, u, a)
            } else {
                var m = (r * y + u * _) / e;
                o(t, p, _, r, i, m, a), o(p, n, y, m, i, u, a)
            }
        }
        var u, a, c = t.children,
            s = c.length,
            f = new Array(s + 1);
        for (f[0] = a = u = 0; u < s; ++u) f[u + 1] = a += c[u].value;
        o(0, s, t.value, n, e, r, i)
    }

    function hf(t, n, e, r, i) {
        (1 & t.depth ? cf : Ws)(t, n, e, r, i)
    }

    function pf(t, n) {
        function e() {
            var e, i, o = r.length,
                u = 0,
                a = 0;
            for (e = 0; e < o; ++e) i = r[e], u += i.x, a += i.y;
            for (u = u / o - t, a = a / o - n, e = 0; e < o; ++e) i = r[e], i.x -= u, i.y -= a
        }
        var r;
        return null == t && (t = 0), null == n && (n = 0), e.initialize = function(t) {
            r = t
        }, e.x = function(n) {
            return arguments.length ? (t = +n, e) : t
        }, e.y = function(t) {
            return arguments.length ? (n = +t, e) : n
        }, e
    }

    function df(t) {
        return function() {
            return t
        }
    }

    function vf() {
        return 1e-6 * (Math.random() - .5)
    }

    function _f(t) {
        return t.x + t.vx
    }

    function yf(t) {
        return t.y + t.vy
    }

    function gf(t) {
        function n() {
            function t(t, e, r, i, u) {
                var a = t.data,
                    p = t.r,
                    d = l + p; {
                    if (!a) return e > s + d || i < s - d || r > f + d || u < f - d;
                    if (a.index > n) {
                        var v = s - a.x - a.vx,
                            _ = f - a.y - a.vy,
                            y = v * v + _ * _;
                        y < d * d && (0 === v && (v = vf(), y += v * v), 0 === _ && (_ = vf(), y += _ * _), y = (d - (y = Math.sqrt(y))) / y * o, c.vx += (v *= y) * (d = (p *= p) / (h + p)), c.vy += (_ *= y) * d, a.vx -= v * (d = 1 - d), a.vy -= _ * d)
                    }
                }
            }
            for (var n, a, c, s, f, l, h, p = r.length, d = 0; d < u; ++d)
                for (a = jt(r, _f, yf).visitAfter(e), n = 0; n < p; ++n) c = r[n], l = i[n], h = l * l, s = c.x + c.vx, f = c.y + c.vy, a.visit(t)
        }

        function e(t) {
            if (t.data) return t.r = i[t.data.index];
            for (var n = t.r = 0; n < 4; ++n) t[n] && t[n].r > t.r && (t.r = t[n].r)
        }
        var r, i, o = 1,
            u = 1;
        return "function" != typeof t && (t = df(null == t ? 1 : +t)), n.initialize = function(n) {
            var e, o = (r = n).length;
            for (i = new Array(o), e = 0; e < o; ++e) i[e] = +t(r[e], e, r)
        }, n.iterations = function(t) {
            return arguments.length ? (u = +t, n) : u
        }, n.strength = function(t) {
            return arguments.length ? (o = +t, n) : o
        }, n.radius = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : df(+e), n) : t
        }, n
    }

    function mf(t, n) {
        return n
    }

    function xf(t) {
        function n(t) {
            return 1 / Math.min(s[t.source.index], s[t.target.index])
        }

        function e(n) {
            for (var e = 0, r = t.length; e < d; ++e)
                for (var i, o, c, s, l, h, p, v = 0; v < r; ++v) i = t[v], o = i.source, c = i.target, s = c.x + c.vx - o.x - o.vx || vf(), l = c.y + c.vy - o.y - o.vy || vf(), h = Math.sqrt(s * s + l * l), h = (h - a[v]) / h * n * u[v], s *= h, l *= h, c.vx -= s * (p = f[v]), c.vy -= l * p, o.vx += s * (p = 1 - p), o.vy += l * p
        }

        function r() {
            if (c) {
                var n, e, r = c.length,
                    h = t.length,
                    p = q(c, l);
                for (n = 0, s = new Array(r); n < r; ++n) s[n] = 0;
                for (n = 0; n < h; ++n) e = t[n], e.index = n, "object" != typeof e.source && (e.source = p.get(e.source)), "object" != typeof e.target && (e.target = p.get(e.target)), ++s[e.source.index], ++s[e.target.index];
                for (n = 0, f = new Array(h); n < h; ++n) e = t[n], f[n] = s[e.source.index] / (s[e.source.index] + s[e.target.index]);
                u = new Array(h), i(), a = new Array(h), o()
            }
        }

        function i() {
            if (c)
                for (var n = 0, e = t.length; n < e; ++n) u[n] = +h(t[n], n, t)
        }

        function o() {
            if (c)
                for (var n = 0, e = t.length; n < e; ++n) a[n] = +p(t[n], n, t)
        }
        var u, a, c, s, f, l = mf,
            h = n,
            p = df(30),
            d = 1;
        return null == t && (t = []), e.initialize = function(t) {
            c = t, r()
        }, e.links = function(n) {
            return arguments.length ? (t = n, r(), e) : t
        }, e.id = function(t) {
            return arguments.length ? (l = t, e) : l
        }, e.iterations = function(t) {
            return arguments.length ? (d = +t, e) : d
        }, e.strength = function(t) {
            return arguments.length ? (h = "function" == typeof t ? t : df(+t), i(), e) : h
        }, e.distance = function(t) {
            return arguments.length ? (p = "function" == typeof t ? t : df(+t), o(), e) : p
        }, e
    }

    function bf(t) {
        return t.x
    }

    function wf(t) {
        return t.y
    }

    function Mf(t) {
        function n() {
            e(), p.call("tick", o), u < a && (h.stop(), p.call("end", o))
        }

        function e() {
            var n, e, r = t.length;
            for (u += (s - u) * c, l.each(function(t) {
                    t(u)
                }), n = 0; n < r; ++n) e = t[n], null == e.fx ? e.x += e.vx *= f : (e.x = e.fx, e.vx = 0), null == e.fy ? e.y += e.vy *= f : (e.y = e.fy, e.vy = 0)
        }

        function r() {
            for (var n, e = 0, r = t.length; e < r; ++e) {
                if (n = t[e], n.index = e, isNaN(n.x) || isNaN(n.y)) {
                    var i = Wm * Math.sqrt(e),
                        o = e * $m;
                    n.x = i * Math.cos(o), n.y = i * Math.sin(o)
                }(isNaN(n.vx) || isNaN(n.vy)) && (n.vx = n.vy = 0)
            }
        }

        function i(n) {
            return n.initialize && n.initialize(t), n
        }
        var o, u = 1,
            a = .001,
            c = 1 - Math.pow(a, 1 / 300),
            s = 0,
            f = .6,
            l = q(),
            h = Yr(n),
            p = Mr("tick", "end");
        return null == t && (t = []), r(), o = {
            tick: e,
            restart: function() {
                return h.restart(n), o
            },
            stop: function() {
                return h.stop(), o
            },
            nodes: function(n) {
                return arguments.length ? (t = n, r(), l.each(i), o) : t
            },
            alpha: function(t) {
                return arguments.length ? (u = +t, o) : u
            },
            alphaMin: function(t) {
                return arguments.length ? (a = +t, o) : a
            },
            alphaDecay: function(t) {
                return arguments.length ? (c = +t, o) : +c
            },
            alphaTarget: function(t) {
                return arguments.length ? (s = +t, o) : s
            },
            velocityDecay: function(t) {
                return arguments.length ? (f = 1 - t, o) : 1 - f
            },
            force: function(t, n) {
                return arguments.length > 1 ? (null == n ? l.remove(t) : l.set(t, i(n)), o) : l.get(t)
            },
            find: function(n, e, r) {
                var i, o, u, a, c, s = 0,
                    f = t.length;
                for (null == r ? r = 1 / 0 : r *= r, s = 0; s < f; ++s) a = t[s], i = n - a.x, o = e - a.y, u = i * i + o * o, u < r && (c = a, r = u);
                return c
            },
            on: function(t, n) {
                return arguments.length > 1 ? (p.on(t, n), o) : p.on(t)
            }
        }
    }

    function Tf() {
        function t(t) {
            var n, a = i.length,
                c = jt(i, bf, wf).visitAfter(e);
            for (u = t, n = 0; n < a; ++n) o = i[n], c.visit(r)
        }

        function n() {
            if (i) {
                var t, n = i.length;
                for (a = new Array(n), t = 0; t < n; ++t) a[t] = +c(i[t], t, i)
            }
        }

        function e(t) {
            var n, e, r, i, o, u = 0;
            if (t.length) {
                for (r = i = o = 0; o < 4; ++o)(n = t[o]) && (e = n.value) && (u += e, r += e * n.x, i += e * n.y);
                t.x = r / u, t.y = i / u
            } else {
                n = t, n.x = n.data.x, n.y = n.data.y;
                do u += a[n.data.index]; while (n = n.next)
            }
            t.value = u
        }

        function r(t, n, e, r) {
            if (!t.value) return !0;
            var i = t.x - o.x,
                c = t.y - o.y,
                h = r - n,
                p = i * i + c * c;
            if (h * h / l < p) return p < f && (0 === i && (i = vf(), p += i * i), 0 === c && (c = vf(), p += c * c), p < s && (p = Math.sqrt(s * p)), o.vx += i * t.value * u / p, o.vy += c * t.value * u / p), !0;
            if (!(t.length || p >= f)) {
                (t.data !== o || t.next) && (0 === i && (i = vf(), p += i * i), 0 === c && (c = vf(), p += c * c), p < s && (p = Math.sqrt(s * p)));
                do t.data !== o && (h = a[t.data.index] * u / p, o.vx += i * h, o.vy += c * h); while (t = t.next)
            }
        }
        var i, o, u, a, c = df(-30),
            s = 1,
            f = 1 / 0,
            l = .81;
        return t.initialize = function(t) {
            i = t, n()
        }, t.strength = function(e) {
            return arguments.length ? (c = "function" == typeof e ? e : df(+e), n(), t) : c
        }, t.distanceMin = function(n) {
            return arguments.length ? (s = n * n, t) : Math.sqrt(s)
        }, t.distanceMax = function(n) {
            return arguments.length ? (f = n * n, t) : Math.sqrt(f)
        }, t.theta = function(n) {
            return arguments.length ? (l = n * n, t) : Math.sqrt(l)
        }, t
    }

    function kf(t) {
        function n(t) {
            for (var n, e = 0, u = r.length; e < u; ++e) n = r[e], n.vx += (o[e] - n.x) * i[e] * t
        }

        function e() {
            if (r) {
                var n, e = r.length;
                for (i = new Array(e), o = new Array(e), n = 0; n < e; ++n) i[n] = isNaN(o[n] = +t(r[n], n, r)) ? 0 : +u(r[n], n, r)
            }
        }
        var r, i, o, u = df(.1);
        return "function" != typeof t && (t = df(null == t ? 0 : +t)), n.initialize = function(t) {
            r = t, e()
        }, n.strength = function(t) {
            return arguments.length ? (u = "function" == typeof t ? t : df(+t), e(), n) : u
        }, n.x = function(r) {
            return arguments.length ? (t = "function" == typeof r ? r : df(+r), e(), n) : t
        }, n
    }

    function Sf(t) {
        function n(t) {
            for (var n, e = 0, u = r.length; e < u; ++e) n = r[e], n.vy += (o[e] - n.y) * i[e] * t
        }

        function e() {
            if (r) {
                var n, e = r.length;
                for (i = new Array(e), o = new Array(e), n = 0; n < e; ++n) i[n] = isNaN(o[n] = +t(r[n], n, r)) ? 0 : +u(r[n], n, r)
            }
        }
        var r, i, o, u = df(.1);
        return "function" != typeof t && (t = df(null == t ? 0 : +t)), n.initialize = function(t) {
            r = t, e()
        }, n.strength = function(t) {
            return arguments.length ? (u = "function" == typeof t ? t : df(+t), e(), n) : u
        }, n.y = function(r) {
            return arguments.length ? (t = "function" == typeof r ? r : df(+r), e(), n) : t
        }, n
    }

    function Nf() {
        t.event.stopImmediatePropagation()
    }

    function Af() {
        t.event.preventDefault(), t.event.stopImmediatePropagation()
    }

    function Ef(t) {
        var n = t.document.documentElement,
            e = Ra(t).on("dragstart.drag", Af, !0);
        "onselectstart" in n ? e.on("selectstart.drag", Af, !0) : (n.__noselect = n.style.MozUserSelect, n.style.MozUserSelect = "none")
    }

    function Cf(t, n) {
        var e = t.document.documentElement,
            r = Ra(t).on("dragstart.drag", null);
        n && (r.on("click.drag", Af, !0), setTimeout(function() {
            r.on("click.drag", null)
        }, 0)), "onselectstart" in e ? r.on("selectstart.drag", null) : (e.style.MozUserSelect = e.__noselect, delete e.__noselect)
    }

    function zf(t) {
        return function() {
            return t
        }
    }

    function Pf(t, n, e, r, i, o, u, a, c, s) {
        this.target = t, this.type = n, this.subject = e, this.identifier = r, this.active = i, this.x = o, this.y = u, this.dx = a, this.dy = c, this._ = s
    }

    function qf() {
        return !t.event.button
    }

    function Lf() {
        return this.parentNode
    }

    function Rf(n) {
        return null == n ? {
            x: t.event.x,
            y: t.event.y
        } : n
    }

    function Uf() {
        function n(t) {
            t.on("mousedown.drag", e).on("touchstart.drag", o).on("touchmove.drag", u).on("touchend.drag touchcancel.drag", a).style("-webkit-tap-highlight-color", "rgba(0,0,0,0)")
        }

        function e() {
            if (!f && l.apply(this, arguments)) {
                var n = c("mouse", h.apply(this, arguments), du, this, arguments);
                n && (Ra(t.event.view).on("mousemove.drag", r, !0).on("mouseup.drag", i, !0), Ef(t.event.view), Nf(), s = !1, n("start"))
            }
        }

        function r() {
            Af(), s = !0, d.mouse("drag")
        }

        function i() {
            Ra(t.event.view).on("mousemove.drag mouseup.drag", null), Cf(t.event.view, s), Af(), d.mouse("end")
        }

        function o() {
            if (l.apply(this, arguments)) {
                var n, e, r = t.event.changedTouches,
                    i = h.apply(this, arguments),
                    o = r.length;
                for (n = 0; n < o; ++n)(e = c(r[n].identifier, i, Da, this, arguments)) && (Nf(), e("start"))
            }
        }

        function u() {
            var n, e, r = t.event.changedTouches,
                i = r.length;
            for (n = 0; n < i; ++n)(e = d[r[n].identifier]) && (Af(), e("drag"))
        }

        function a() {
            var n, e, r = t.event.changedTouches,
                i = r.length;
            for (f && clearTimeout(f), f = setTimeout(function() {
                    f = null
                }, 500), n = 0; n < i; ++n)(e = d[r[n].identifier]) && (Nf(), e("end"))
        }

        function c(e, r, i, o, u) {
            var a, c, s, f = i(r, e),
                l = v.copy();
            if (lu(new Pf(n, "beforestart", a, e, _, f[0], f[1], 0, 0, l), function() {
                    return null != (t.event.subject = a = p.apply(o, u)) && (c = a.x - f[0] || 0, s = a.y - f[1] || 0, !0)
                })) return function t(h) {
                var p, v = f;
                switch (h) {
                    case "start":
                        d[e] = t, p = _++;
                        break;
                    case "end":
                        delete d[e], --_;
                    case "drag":
                        f = i(r, e), p = _
                }
                lu(new Pf(n, h, a, e, p, f[0] + c, f[1] + s, f[0] - v[0], f[1] - v[1], l), l.apply, l, [h, o, u])
            }
        }
        var s, f, l = qf,
            h = Lf,
            p = Rf,
            d = {},
            v = Mr("start", "drag", "end"),
            _ = 0;
        return n.filter = function(t) {
            return arguments.length ? (l = "function" == typeof t ? t : zf(!!t), n) : l
        }, n.container = function(t) {
            return arguments.length ? (h = "function" == typeof t ? t : zf(t), n) : h
        }, n.subject = function(t) {
            return arguments.length ? (p = "function" == typeof t ? t : zf(t), n) : p
        }, n.on = function() {
            var t = v.on.apply(v, arguments);
            return t === v ? n : t
        }, n
    }

    function Df(t) {
        return function() {
            return t
        }
    }

    function Of(t) {
        return t[0]
    }

    function Ff(t) {
        return t[1]
    }

    function If() {
        this._ = null
    }

    function Yf(t) {
        t.U = t.C = t.L = t.R = t.P = t.N = null
    }

    function Bf(t, n) {
        var e = n,
            r = n.R,
            i = e.U;
        i ? i.L === e ? i.L = r : i.R = r : t._ = r, r.U = i, e.U = r, e.R = r.L, e.R && (e.R.U = e), r.L = e
    }

    function jf(t, n) {
        var e = n,
            r = n.L,
            i = e.U;
        i ? i.L === e ? i.L = r : i.R = r : t._ = r, r.U = i, e.U = r, e.L = r.R, e.L && (e.L.U = e), r.R = e
    }

    function Hf(t) {
        for (; t.L;) t = t.L;
        return t
    }

    function Xf(t, n, e, r) {
        var i = [null, null],
            o = Km.push(i) - 1;
        return i.left = t, i.right = n, e && Wf(i, t, n, e), r && Wf(i, n, t, r), Jm[t.index].halfedges.push(o), Jm[n.index].halfedges.push(o), i
    }

    function Vf(t, n, e) {
        var r = [n, e];
        return r.left = t, r
    }

    function Wf(t, n, e, r) {
        t[0] || t[1] ? t.left === e ? t[1] = r : t[0] = r : (t[0] = r, t.left = n, t.right = e)
    }

    function $f(t, n, e, r, i) {
        var o, u = t[0],
            a = t[1],
            c = u[0],
            s = u[1],
            f = a[0],
            l = a[1],
            h = 0,
            p = 1,
            d = f - c,
            v = l - s;
        if (o = n - c, d || !(o > 0)) {
            if (o /= d, d < 0) {
                if (o < h) return;
                o < p && (p = o)
            } else if (d > 0) {
                if (o > p) return;
                o > h && (h = o)
            }
            if (o = r - c, d || !(o < 0)) {
                if (o /= d, d < 0) {
                    if (o > p) return;
                    o > h && (h = o)
                } else if (d > 0) {
                    if (o < h) return;
                    o < p && (p = o)
                }
                if (o = e - s, v || !(o > 0)) {
                    if (o /= v, v < 0) {
                        if (o < h) return;
                        o < p && (p = o)
                    } else if (v > 0) {
                        if (o > p) return;
                        o > h && (h = o)
                    }
                    if (o = i - s, v || !(o < 0)) {
                        if (o /= v, v < 0) {
                            if (o > p) return;
                            o > h && (h = o)
                        } else if (v > 0) {
                            if (o < h) return;
                            o < p && (p = o)
                        }
                        return !(h > 0 || p < 1) || (h > 0 && (t[0] = [c + h * d, s + h * v]), p < 1 && (t[1] = [c + p * d, s + p * v]), !0)
                    }
                }
            }
        }
    }

    function Zf(t, n, e, r, i) {
        var o = t[1];
        if (o) return !0;
        var u, a, c = t[0],
            s = t.left,
            f = t.right,
            l = s[0],
            h = s[1],
            p = f[0],
            d = f[1],
            v = (l + p) / 2,
            _ = (h + d) / 2;
        if (d === h) {
            if (v < n || v >= r) return;
            if (l > p) {
                if (c) {
                    if (c[1] >= i) return
                } else c = [v, e];
                o = [v, i]
            } else {
                if (c) {
                    if (c[1] < e) return
                } else c = [v, i];
                o = [v, e]
            }
        } else if (u = (l - p) / (d - h), a = _ - u * v, u < -1 || u > 1)
            if (l > p) {
                if (c) {
                    if (c[1] >= i) return
                } else c = [(e - a) / u, e];
                o = [(i - a) / u, i]
            } else {
                if (c) {
                    if (c[1] < e) return
                } else c = [(i - a) / u, i];
                o = [(e - a) / u, e]
            }
        else if (h < d) {
            if (c) {
                if (c[0] >= r) return
            } else c = [n, u * n + a];
            o = [r, u * r + a]
        } else {
            if (c) {
                if (c[0] < n) return
            } else c = [r, u * r + a];
            o = [n, u * n + a]
        }
        return t[0] = c, t[1] = o, !0
    }

    function Gf(t, n, e, r) {
        for (var i, o = Km.length; o--;) Zf(i = Km[o], t, n, e, r) && $f(i, t, n, e, r) && (Math.abs(i[0][0] - i[1][0]) > ex || Math.abs(i[0][1] - i[1][1]) > ex) || delete Km[o]
    }

    function Jf(t) {
        return Jm[t.index] = {
            site: t,
            halfedges: []
        }
    }

    function Qf(t, n) {
        var e = t.site,
            r = n.left,
            i = n.right;
        return e === i && (i = r, r = e), i ? Math.atan2(i[1] - r[1], i[0] - r[0]) : (e === r ? (r = n[1], i = n[0]) : (r = n[0], i = n[1]), Math.atan2(r[0] - i[0], i[1] - r[1]))
    }

    function Kf(t, n) {
        return n[+(n.left !== t.site)]
    }

    function tl(t, n) {
        return n[+(n.left === t.site)]
    }

    function nl() {
        for (var t, n, e, r, i = 0, o = Jm.length; i < o; ++i)
            if ((t = Jm[i]) && (r = (n = t.halfedges).length)) {
                var u = new Array(r),
                    a = new Array(r);
                for (e = 0; e < r; ++e) u[e] = e, a[e] = Qf(t, Km[n[e]]);
                for (u.sort(function(t, n) {
                        return a[n] - a[t]
                    }), e = 0; e < r; ++e) a[e] = n[u[e]];
                for (e = 0; e < r; ++e) n[e] = a[e]
            }
    }

    function el(t, n, e, r) {
        var i, o, u, a, c, s, f, l, h, p, d, v, _ = Jm.length,
            y = !0;
        for (i = 0; i < _; ++i)
            if (o = Jm[i]) {
                for (u = o.site, c = o.halfedges, a = c.length; a--;) Km[c[a]] || c.splice(a, 1);
                for (a = 0, s = c.length; a < s;) p = tl(o, Km[c[a]]), d = p[0], v = p[1], f = Kf(o, Km[c[++a % s]]), l = f[0], h = f[1], (Math.abs(d - l) > ex || Math.abs(v - h) > ex) && (c.splice(a, 0, Km.push(Vf(u, p, Math.abs(d - t) < ex && r - v > ex ? [t, Math.abs(l - t) < ex ? h : r] : Math.abs(v - r) < ex && e - d > ex ? [Math.abs(h - r) < ex ? l : e, r] : Math.abs(d - e) < ex && v - n > ex ? [e, Math.abs(l - e) < ex ? h : n] : Math.abs(v - n) < ex && d - t > ex ? [Math.abs(h - n) < ex ? l : t, n] : null)) - 1), ++s);
                s && (y = !1)
            } if (y) {
            var g, m, x, b = 1 / 0;
            for (i = 0, y = null; i < _; ++i)(o = Jm[i]) && (u = o.site, g = u[0] - t, m = u[1] - n, x = g * g + m * m, x < b && (b = x, y = o));
            if (y) {
                var w = [t, n],
                    M = [t, r],
                    T = [e, r],
                    k = [e, n];
                y.halfedges.push(Km.push(Vf(u = y.site, w, M)) - 1, Km.push(Vf(u, M, T)) - 1, Km.push(Vf(u, T, k)) - 1, Km.push(Vf(u, k, w)) - 1)
            }
        }
        for (i = 0; i < _; ++i)(o = Jm[i]) && (o.halfedges.length || delete Jm[i])
    }

    function rl() {
        Yf(this), this.x = this.y = this.arc = this.site = this.cy = null
    }

    function il(t) {
        var n = t.P,
            e = t.N;
        if (n && e) {
            var r = n.site,
                i = t.site,
                o = e.site;
            if (r !== o) {
                var u = i[0],
                    a = i[1],
                    c = r[0] - u,
                    s = r[1] - a,
                    f = o[0] - u,
                    l = o[1] - a,
                    h = 2 * (c * l - s * f);
                if (!(h >= -rx)) {
                    var p = c * c + s * s,
                        d = f * f + l * l,
                        v = (l * p - s * d) / h,
                        _ = (c * d - f * p) / h,
                        y = tx.pop() || new rl;
                    y.arc = t, y.site = i, y.x = v + u, y.y = (y.cy = _ + a) + Math.sqrt(v * v + _ * _), t.circle = y;
                    for (var g = null, m = Qm._; m;)
                        if (y.y < m.y || y.y === m.y && y.x <= m.x) {
                            if (!m.L) {
                                g = m.P;
                                break
                            }
                            m = m.L
                        } else {
                            if (!m.R) {
                                g = m;
                                break
                            }
                            m = m.R
                        } Qm.insert(g, y), g || (Zm = y)
                }
            }
        }
    }

    function ol(t) {
        var n = t.circle;
        n && (n.P || (Zm = n.N), Qm.remove(n), tx.push(n), Yf(n), t.circle = null)
    }

    function ul() {
        Yf(this), this.edge = this.site = this.circle = null
    }

    function al(t) {
        var n = nx.pop() || new ul;
        return n.site = t, n
    }

    function cl(t) {
        ol(t), Gm.remove(t), nx.push(t), Yf(t)
    }

    function sl(t) {
        var n = t.circle,
            e = n.x,
            r = n.cy,
            i = [e, r],
            o = t.P,
            u = t.N,
            a = [t];
        cl(t);
        for (var c = o; c.circle && Math.abs(e - c.circle.x) < ex && Math.abs(r - c.circle.cy) < ex;) o = c.P, a.unshift(c), cl(c), c = o;
        a.unshift(c), ol(c);
        for (var s = u; s.circle && Math.abs(e - s.circle.x) < ex && Math.abs(r - s.circle.cy) < ex;) u = s.N, a.push(s), cl(s), s = u;
        a.push(s), ol(s);
        var f, l = a.length;
        for (f = 1; f < l; ++f) s = a[f], c = a[f - 1], Wf(s.edge, c.site, s.site, i);
        c = a[0], s = a[l - 1], s.edge = Xf(c.site, s.site, null, i), il(c), il(s)
    }

    function fl(t) {
        for (var n, e, r, i, o = t[0], u = t[1], a = Gm._; a;)
            if (r = ll(a, u) - o, r > ex) a = a.L;
            else {
                if (i = o - hl(a, u), !(i > ex)) {
                    r > -ex ? (n = a.P, e = a) : i > -ex ? (n = a, e = a.N) : n = e = a;
                    break
                }
                if (!a.R) {
                    n = a;
                    break
                }
                a = a.R
            } Jf(t);
        var c = al(t);
        if (Gm.insert(n, c), n || e) {
            if (n === e) return ol(n), e = al(n.site), Gm.insert(c, e), c.edge = e.edge = Xf(n.site, c.site), il(n), void il(e);
            if (!e) return void(c.edge = Xf(n.site, c.site));
            ol(n), ol(e);
            var s = n.site,
                f = s[0],
                l = s[1],
                h = t[0] - f,
                p = t[1] - l,
                d = e.site,
                v = d[0] - f,
                _ = d[1] - l,
                y = 2 * (h * _ - p * v),
                g = h * h + p * p,
                m = v * v + _ * _,
                x = [(_ * g - p * m) / y + f, (h * m - v * g) / y + l];
            Wf(e.edge, s, d, x), c.edge = Xf(s, t, null, x), e.edge = Xf(t, d, null, x), il(n), il(e)
        }
    }

    function ll(t, n) {
        var e = t.site,
            r = e[0],
            i = e[1],
            o = i - n;
        if (!o) return r;
        var u = t.P;
        if (!u) return -(1 / 0);
        e = u.site;
        var a = e[0],
            c = e[1],
            s = c - n;
        if (!s) return a;
        var f = a - r,
            l = 1 / o - 1 / s,
            h = f / s;
        return l ? (-h + Math.sqrt(h * h - 2 * l * (f * f / (-2 * s) - c + s / 2 + i - o / 2))) / l + r : (r + a) / 2
    }

    function hl(t, n) {
        var e = t.N;
        if (e) return ll(e, n);
        var r = t.site;
        return r[1] === n ? r[0] : 1 / 0
    }

    function pl(t, n, e) {
        return (t[0] - e[0]) * (n[1] - t[1]) - (t[0] - n[0]) * (e[1] - t[1])
    }

    function dl(t, n) {
        return n[1] - t[1] || n[0] - t[0]
    }

    function vl(t, n) {
        var e, r, i, o = t.sort(dl).pop();
        for (Km = [], Jm = new Array(t.length), Gm = new If, Qm = new If;;)
            if (i = Zm, o && (!i || o[1] < i.y || o[1] === i.y && o[0] < i.x)) o[0] === e && o[1] === r || (fl(o), e = o[0], r = o[1]), o = t.pop();
            else {
                if (!i) break;
                sl(i.arc)
            } if (nl(), n) {
            var u = +n[0][0],
                a = +n[0][1],
                c = +n[1][0],
                s = +n[1][1];
            Gf(u, a, c, s), el(u, a, c, s)
        }
        this.edges = Km, this.cells = Jm, Gm = Qm = Km = Jm = null
    }

    function _l() {
        function t(t) {
            return new vl(t.map(function(r, i) {
                var o = [Math.round(n(r, i, t) / ex) * ex, Math.round(e(r, i, t) / ex) * ex];
                return o.index = i, o.data = r, o
            }), r)
        }
        var n = Of,
            e = Ff,
            r = null;
        return t.polygons = function(n) {
            return t(n).polygons()
        }, t.links = function(n) {
            return t(n).links()
        }, t.triangles = function(n) {
            return t(n).triangles()
        }, t.x = function(e) {
            return arguments.length ? (n = "function" == typeof e ? e : Df(+e), t) : n
        }, t.y = function(n) {
            return arguments.length ? (e = "function" == typeof n ? n : Df(+n), t) : e
        }, t.extent = function(n) {
            return arguments.length ? (r = null == n ? null : [
                [+n[0][0], +n[0][1]],
                [+n[1][0], +n[1][1]]
            ], t) : r && [
                [r[0][0], r[0][1]],
                [r[1][0], r[1][1]]
            ]
        }, t.size = function(n) {
            return arguments.length ? (r = null == n ? null : [
                [0, 0],
                [+n[0], +n[1]]
            ], t) : r && [r[1][0] - r[0][0], r[1][1] - r[0][1]]
        }, t
    }

    function yl(t) {
        return function() {
            return t
        }
    }

    function gl(t, n, e) {
        this.target = t, this.type = n, this.transform = e
    }

    function ml(t, n, e) {
        this.k = t, this.x = n, this.y = e
    }

    function xl(t) {
        return t.__zoom || ix
    }

    function bl() {
        t.event.stopImmediatePropagation()
    }

    function wl() {
        t.event.preventDefault(), t.event.stopImmediatePropagation()
    }

    function Ml() {
        return !t.event.button
    }

    function Tl() {
        var t, n, e = this;
        return e instanceof SVGElement ? (e = e.ownerSVGElement || e, t = e.width.baseVal.value, n = e.height.baseVal.value) : (t = e.clientWidth, n = e.clientHeight), [
            [0, 0],
            [t, n]
        ]
    }

    function kl() {
        return this.__zoom || ix
    }

    function Sl() {
        function n(t) {
            t.on("wheel.zoom", s).on("mousedown.zoom", f).on("dblclick.zoom", l).on("touchstart.zoom", h).on("touchmove.zoom", p).on("touchend.zoom touchcancel.zoom", d).style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").property("__zoom", kl)
        }

        function e(t, n) {
            return n = Math.max(m, Math.min(x, n)), n === t.k ? t : new ml(n, t.x, t.y)
        }

        function r(t, n, e) {
            var r = n[0] - e[0] * t.k,
                i = n[1] - e[1] * t.k;
            return r === t.x && i === t.y ? t : new ml(t.k, r, i)
        }

        function i(t, n) {
            var e = Math.min(0, t.invertX(n[0][0]) - b) || Math.max(0, t.invertX(n[1][0]) - w),
                r = Math.min(0, t.invertY(n[0][1]) - M) || Math.max(0, t.invertY(n[1][1]) - T);
            return e || r ? t.translate(e, r) : t
        }

        function o(t) {
            return [(+t[0][0] + +t[1][0]) / 2, (+t[0][1] + +t[1][1]) / 2]
        }

        function u(t, n, e) {
            t.on("start.zoom", function() {
                a(this, arguments).start()
            }).on("interrupt.zoom end.zoom", function() {
                a(this, arguments).end()
            }).tween("zoom", function() {
                var t = this,
                    r = arguments,
                    i = a(t, r),
                    u = g.apply(t, r),
                    c = e || o(u),
                    s = Math.max(u[1][0] - u[0][0], u[1][1] - u[0][1]),
                    f = t.__zoom,
                    l = "function" == typeof n ? n.apply(t, r) : n,
                    h = yr(f.invert(c).concat(s / f.k), l.invert(c).concat(s / l.k));
                return function(t) {
                    if (1 === t) t = l;
                    else {
                        var n = h(t),
                            e = s / n[2];
                        t = new ml(e, c[0] - n[0] * e, c[1] - n[1] * e)
                    }
                    i.zoom(null, t)
                }
            })
        }

        function a(t, n) {
            for (var e, r = 0, i = S.length; r < i; ++r)
                if ((e = S[r]).that === t) return e;
            return new c(t, n)
        }

        function c(t, n) {
            this.that = t, this.args = n, this.index = -1, this.active = 0, this.extent = g.apply(t, n)
        }

        function s() {
            function n() {
                o.wheel = null, o.end()
            }
            if (y.apply(this, arguments)) {
                var o = a(this, arguments),
                    u = this.__zoom,
                    c = Math.max(m, Math.min(x, u.k * Math.pow(2, -t.event.deltaY * (t.event.deltaMode ? 120 : 1) / 500))),
                    s = du(this);
                if (o.wheel) o.mouse[0][0] === s[0] && o.mouse[0][1] === s[1] || (o.mouse[1] = u.invert(o.mouse[0] = s)), clearTimeout(o.wheel);
                else {
                    if (u.k === c) return;
                    o.mouse = [s, u.invert(s)], Ha(this), o.start()
                }
                wl(), o.wheel = setTimeout(n, E), o.zoom("mouse", i(r(e(u, c), o.mouse[0], o.mouse[1]), o.extent))
            }
        }

        function f() {
            function n() {
                wl(), o.moved = !0, o.zoom("mouse", i(r(o.that.__zoom, o.mouse[0] = du(o.that), o.mouse[1]), o.extent))
            }

            function e() {
                u.on("mousemove.zoom mouseup.zoom", null), Cf(t.event.view, o.moved), wl(), o.end()
            }
            if (!_ && y.apply(this, arguments)) {
                var o = a(this, arguments),
                    u = Ra(t.event.view).on("mousemove.zoom", n, !0).on("mouseup.zoom", e, !0),
                    c = du(this);
                Ef(t.event.view), bl(), o.mouse = [c, this.__zoom.invert(c)], Ha(this), o.start()
            }
        }

        function l() {
            if (y.apply(this, arguments)) {
                var o = this.__zoom,
                    a = du(this),
                    c = o.invert(a),
                    s = o.k * (t.event.shiftKey ? .5 : 2),
                    f = i(r(e(o, s), a, c), g.apply(this, arguments));
                wl(), k > 0 ? Ra(this).transition().duration(k).call(u, f, a) : Ra(this).call(n.transform, f)
            }
        }

        function h() {
            if (y.apply(this, arguments)) {
                var n, e, r, i = a(this, arguments),
                    o = t.event.changedTouches,
                    u = o.length;
                for (bl(), n = 0; n < u; ++n) e = o[n], r = Da(this, o, e.identifier), r = [r, this.__zoom.invert(r), e.identifier], i.touch0 ? i.touch1 || (i.touch1 = r) : i.touch0 = r;
                return v && (v = clearTimeout(v), !i.touch1) ? (i.end(), l.apply(this, arguments)) : void(t.event.touches.length === u && (v = setTimeout(function() {
                    v = null
                }, A), Ha(this), i.start()))
            }
        }

        function p() {
            var n, o, u, c, s = a(this, arguments),
                f = t.event.changedTouches,
                l = f.length;
            for (wl(), v && (v = clearTimeout(v)), n = 0; n < l; ++n) o = f[n], u = Da(this, f, o.identifier), s.touch0 && s.touch0[2] === o.identifier ? s.touch0[0] = u : s.touch1 && s.touch1[2] === o.identifier && (s.touch1[0] = u);
            if (o = s.that.__zoom, s.touch1) {
                var h = s.touch0[0],
                    p = s.touch0[1],
                    d = s.touch1[0],
                    _ = s.touch1[1],
                    y = (y = d[0] - h[0]) * y + (y = d[1] - h[1]) * y,
                    g = (g = _[0] - p[0]) * g + (g = _[1] - p[1]) * g;
                o = e(o, Math.sqrt(y / g)), u = [(h[0] + d[0]) / 2, (h[1] + d[1]) / 2], c = [(p[0] + _[0]) / 2, (p[1] + _[1]) / 2]
            } else {
                if (!s.touch0) return;
                u = s.touch0[0], c = s.touch0[1]
            }
            s.zoom("touch", i(r(o, u, c), s.extent))
        }

        function d() {
            var n, e, r = a(this, arguments),
                i = t.event.changedTouches,
                o = i.length;
            for (bl(), _ && clearTimeout(_), _ = setTimeout(function() {
                    _ = null
                }, A), n = 0; n < o; ++n) e = i[n], r.touch0 && r.touch0[2] === e.identifier ? delete r.touch0 : r.touch1 && r.touch1[2] === e.identifier && delete r.touch1;
            r.touch1 && !r.touch0 && (r.touch0 = r.touch1, delete r.touch1), r.touch0 || r.end()
        }
        var v, _, y = Ml,
            g = Tl,
            m = 0,
            x = 1 / 0,
            b = -x,
            w = x,
            M = b,
            T = w,
            k = 250,
            S = [],
            N = Mr("start", "zoom", "end"),
            A = 500,
            E = 150;
        return n.transform = function(t, n) {
            var e = t.selection ? t.selection() : t;
            e.property("__zoom", kl), t !== e ? u(t, n) : e.interrupt().each(function() {
                a(this, arguments).start().zoom(null, "function" == typeof n ? n.apply(this, arguments) : n).end()
            })
        }, n.scaleBy = function(t, e) {
            n.scaleTo(t, function() {
                var t = this.__zoom.k,
                    n = "function" == typeof e ? e.apply(this, arguments) : e;
                return t * n
            })
        }, n.scaleTo = function(t, u) {
            n.transform(t, function() {
                var t = g.apply(this, arguments),
                    n = this.__zoom,
                    a = o(t),
                    c = n.invert(a),
                    s = "function" == typeof u ? u.apply(this, arguments) : u;
                return i(r(e(n, s), a, c), t)
            })
        }, n.translateBy = function(t, e, r) {
            n.transform(t, function() {
                return i(this.__zoom.translate("function" == typeof e ? e.apply(this, arguments) : e, "function" == typeof r ? r.apply(this, arguments) : r), g.apply(this, arguments))
            })
        }, c.prototype = {
            start: function() {
                return 1 === ++this.active && (this.index = S.push(this) - 1, this.emit("start")), this
            },
            zoom: function(t, n) {
                return this.mouse && "mouse" !== t && (this.mouse[1] = n.invert(this.mouse[0])), this.touch0 && "touch" !== t && (this.touch0[1] = n.invert(this.touch0[0])), this.touch1 && "touch" !== t && (this.touch1[1] = n.invert(this.touch1[0])), this.that.__zoom = n, this.emit("zoom"), this
            },
            end: function() {
                return 0 === --this.active && (S.splice(this.index, 1), this.index = -1, this.emit("end")), this
            },
            emit: function(t) {
                lu(new gl(n, t, this.that.__zoom), N.apply, N, [t, this.that, this.args])
            }
        }, n.filter = function(t) {
            return arguments.length ? (y = "function" == typeof t ? t : yl(!!t), n) : y
        }, n.extent = function(t) {
            return arguments.length ? (g = "function" == typeof t ? t : yl([
                [+t[0][0], +t[0][1]],
                [+t[1][0], +t[1][1]]
            ]), n) : g
        }, n.scaleExtent = function(t) {
            return arguments.length ? (m = +t[0], x = +t[1], n) : [m, x]
        }, n.translateExtent = function(t) {
            return arguments.length ? (b = +t[0][0], w = +t[1][0], M = +t[0][1], T = +t[1][1], n) : [
                [b, M],
                [w, T]
            ]
        }, n.duration = function(t) {
            return arguments.length ? (k = +t, n) : k
        }, n.on = function() {
            var t = N.on.apply(N, arguments);
            return t === N ? n : t
        }, n
    }

    function Nl(t) {
        return function() {
            return t
        }
    }

    function Al(t, n, e) {
        this.target = t, this.type = n, this.selection = e
    }

    function El() {
        t.event.stopImmediatePropagation()
    }

    function Cl() {
        t.event.preventDefault(), t.event.stopImmediatePropagation()
    }

    function zl(t) {
        return {
            type: t
        }
    }

    function Pl() {
        return !t.event.button
    }

    function ql() {
        var t = this.ownerSVGElement || this;
        return [
            [0, 0],
            [t.width.baseVal.value, t.height.baseVal.value]
        ]
    }

    function Ll(t) {
        for (; !t.__brush;)
            if (!(t = t.parentNode)) return;
        return t.__brush
    }

    function Rl(t) {
        return t[0][0] === t[1][0] || t[0][1] === t[1][1]
    }

    function Ul(t) {
        var n = t.__brush;
        return n ? n.dim.output(n.selection) : null
    }

    function Dl() {
        return Il(sx)
    }

    function Ol() {
        return Il(fx)
    }

    function Fl() {
        return Il(lx)
    }

    function Il(n) {
        function e(t) {
            var e = t.property("__brush", a).selectAll(".overlay").data([zl("overlay")]);
            e.enter().append("rect").attr("class", "overlay").attr("pointer-events", "all").attr("cursor", hx.overlay).merge(e).each(function() {
                var t = Ll(this).extent;
                Ra(this).attr("x", t[0][0]).attr("y", t[0][1]).attr("width", t[1][0] - t[0][0]).attr("height", t[1][1] - t[0][1])
            }), t.selectAll(".selection").data([zl("selection")]).enter().append("rect").attr("class", "selection").attr("cursor", hx.selection).attr("fill", "#777").attr("fill-opacity", .3).attr("stroke", "#fff").attr("shape-rendering", "crispEdges");
            var i = t.selectAll(".handle").data(n.handles, function(t) {
                return t.type
            });
            i.exit().remove(), i.enter().append("rect").attr("class", function(t) {
                return "handle handle--" + t.type
            }).attr("cursor", function(t) {
                return hx[t.type]
            }), t.each(r).attr("fill", "none").attr("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush touchstart.brush", u)
        }

        function r() {
            var t = Ra(this),
                n = Ll(this).selection;
            n ? (t.selectAll(".selection").style("display", null).attr("x", n[0][0]).attr("y", n[0][1]).attr("width", n[1][0] - n[0][0]).attr("height", n[1][1] - n[0][1]), t.selectAll(".handle").style("display", null).attr("x", function(t) {
                return "e" === t.type[t.type.length - 1] ? n[1][0] - h / 2 : n[0][0] - h / 2
            }).attr("y", function(t) {
                return "s" === t.type[0] ? n[1][1] - h / 2 : n[0][1] - h / 2
            }).attr("width", function(t) {
                return "n" === t.type || "s" === t.type ? n[1][0] - n[0][0] + h : h
            }).attr("height", function(t) {
                return "e" === t.type || "w" === t.type ? n[1][1] - n[0][1] + h : h
            })) : t.selectAll(".selection,.handle").style("display", "none").attr("x", null).attr("y", null).attr("width", null).attr("height", null)
        }

        function i(t, n) {
            return t.__brush.emitter || new o(t, n)
        }

        function o(t, n) {
            this.that = t, this.args = n, this.state = t.__brush, this.active = 0
        }

        function u() {
            function e() {
                var t = du(T);
                !U || w || M || (Math.abs(t[0] - O[0]) > Math.abs(t[1] - O[1]) ? M = !0 : w = !0), O = t, b = !0, Cl(), o()
            }

            function o() {
                var t;
                switch (m = O[0] - D[0], x = O[1] - D[1], S) {
                    case ux:
                    case ox:
                        N && (m = Math.max(P - l, Math.min(L - v, m)), h = l + m, _ = v + m), A && (x = Math.max(q - p, Math.min(R - y, x)), d = p + x, g = y + x);
                        break;
                    case ax:
                        N < 0 ? (m = Math.max(P - l, Math.min(L - l, m)), h = l + m, _ = v) : N > 0 && (m = Math.max(P - v, Math.min(L - v, m)), h = l, _ = v + m), A < 0 ? (x = Math.max(q - p, Math.min(R - p, x)), d = p + x, g = y) : A > 0 && (x = Math.max(q - y, Math.min(R - y, x)), d = p, g = y + x);
                        break;
                    case cx:
                        N && (h = Math.max(P, Math.min(L, l - m * N)), _ = Math.max(P, Math.min(L, v + m * N))), A && (d = Math.max(q, Math.min(R, p - x * A)), g = Math.max(q, Math.min(R, y + x * A)))
                }
                _ < h && (N *= -1, t = l, l = v, v = t, t = h, h = _, _ = t, k in px && Y.attr("cursor", hx[k = px[k]])), g < d && (A *= -1, t = p, p = y, y = t, t = d, d = g, g = t, k in dx && Y.attr("cursor", hx[k = dx[k]])), z = E.selection, w && (h = z[0][0], _ = z[1][0]), M && (d = z[0][1], g = z[1][1]), z[0][0] === h && z[0][1] === d && z[1][0] === _ && z[1][1] === g || (E.selection = [
                    [h, d],
                    [_, g]
                ], r.call(T), F.brush())
            }

            function u() {
                if (El(), t.event.touches) {
                    if (t.event.touches.length) return;
                    c && clearTimeout(c), c = setTimeout(function() {
                        c = null
                    }, 500), I.on("touchmove.brush touchend.brush touchcancel.brush", null)
                } else Cf(t.event.view, b), B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush", null);
                I.attr("pointer-events", "all"), Y.attr("cursor", hx.overlay), Rl(z) && (E.selection = null, r.call(T)), F.end()
            }

            function a() {
                switch (t.event.keyCode) {
                    case 16:
                        U = N && A;
                        break;
                    case 18:
                        S === ax && (N && (v = _ - m * N, l = h + m * N), A && (y = g - x * A, p = d + x * A), S = cx, o());
                        break;
                    case 32:
                        S !== ax && S !== cx || (N < 0 ? v = _ - m : N > 0 && (l = h - m), A < 0 ? y = g - x : A > 0 && (p = d - x), S = ux, Y.attr("cursor", hx.selection), o());
                        break;
                    default:
                        return
                }
                Cl()
            }

            function s() {
                switch (t.event.keyCode) {
                    case 16:
                        U && (w = M = U = !1, o());
                        break;
                    case 18:
                        S === cx && (N < 0 ? v = _ : N > 0 && (l = h), A < 0 ? y = g : A > 0 && (p = d), S = ax, o());
                        break;
                    case 32:
                        S === ux && (t.event.altKey ? (N && (v = _ - m * N, l = h + m * N), A && (y = g - x * A, p = d + x * A), S = cx) : (N < 0 ? v = _ : N > 0 && (l = h), A < 0 ? y = g : A > 0 && (p = d), S = ax), Y.attr("cursor", hx[k]), o());
                        break;
                    default:
                        return
                }
                Cl()
            }
            if (t.event.touches) {
                if (t.event.changedTouches.length < t.event.touches.length) return Cl()
            } else if (c) return;
            if (f.apply(this, arguments)) {
                var l, h, p, d, v, _, y, g, m, x, b, w, M, T = this,
                    k = t.event.target.__data__.type,
                    S = "selection" === (t.event.metaKey ? k = "overlay" : k) ? ox : t.event.altKey ? cx : ax,
                    N = n === fx ? null : vx[k],
                    A = n === sx ? null : _x[k],
                    E = Ll(T),
                    C = E.extent,
                    z = E.selection,
                    P = C[0][0],
                    q = C[0][1],
                    L = C[1][0],
                    R = C[1][1],
                    U = N && A && t.event.shiftKey,
                    D = du(T),
                    O = D,
                    F = i(T, arguments).beforestart();
                "overlay" === k ? E.selection = z = [
                    [l = n === fx ? P : D[0], p = n === sx ? q : D[1]],
                    [v = n === fx ? L : l, y = n === sx ? R : p]
                ] : (l = z[0][0], p = z[0][1], v = z[1][0], y = z[1][1]), h = l, d = p, _ = v, g = y;
                var I = Ra(T).attr("pointer-events", "none"),
                    Y = I.selectAll(".overlay").attr("cursor", hx[k]);
                if (t.event.touches) I.on("touchmove.brush", e, !0).on("touchend.brush touchcancel.brush", u, !0);
                else {
                    var B = Ra(t.event.view).on("keydown.brush", a, !0).on("keyup.brush", s, !0).on("mousemove.brush", e, !0).on("mouseup.brush", u, !0);
                    Ef(t.event.view)
                }
                El(), Ha(T), r.call(T), F.start()
            }
        }

        function a() {
            var t = this.__brush || {
                selection: null
            };
            return t.extent = s.apply(this, arguments), t.dim = n, t
        }
        var c, s = ql,
            f = Pl,
            l = Mr(e, "start", "brush", "end"),
            h = 6;
        return e.move = function(t, e) {
            t.selection ? t.on("start.brush", function() {
                i(this, arguments).beforestart().start()
            }).on("interrupt.brush end.brush", function() {
                i(this, arguments).end()
            }).tween("brush", function() {
                function t(t) {
                    u.selection = 1 === t && Rl(s) ? null : f(t), r.call(o), a.brush()
                }
                var o = this,
                    u = o.__brush,
                    a = i(o, arguments),
                    c = u.selection,
                    s = n.input("function" == typeof e ? e.apply(this, arguments) : e, u.extent),
                    f = cr(c, s);
                return c && s ? t : t(1)
            }) : t.each(function() {
                var t = this,
                    o = arguments,
                    u = t.__brush,
                    a = n.input("function" == typeof e ? e.apply(t, o) : e, u.extent),
                    c = i(t, o).beforestart();
                Ha(t), u.selection = null == a || Rl(a) ? null : a, r.call(t), c.start().brush().end()
            })
        }, o.prototype = {
            beforestart: function() {
                return 1 === ++this.active && (this.state.emitter = this, this.starting = !0), this
            },
            start: function() {
                return this.starting && (this.starting = !1, this.emit("start")), this
            },
            brush: function() {
                return this.emit("brush"), this
            },
            end: function() {
                return 0 === --this.active && (delete this.state.emitter, this.emit("end")), this
            },
            emit: function(t) {
                lu(new Al(e, t, n.output(this.state.selection)), l.apply, l, [t, this.that, this.args])
            }
        }, e.extent = function(t) {
            return arguments.length ? (s = "function" == typeof t ? t : Nl([
                [+t[0][0], +t[0][1]],
                [+t[1][0], +t[1][1]]
            ]), e) : s
        }, e.filter = function(t) {
            return arguments.length ? (f = "function" == typeof t ? t : Nl(!!t), e) : f
        }, e.handleSize = function(t) {
            return arguments.length ? (h = +t, e) : h
        }, e.on = function() {
            var t = l.on.apply(l, arguments);
            return t === l ? e : t
        }, e
    }

    function Yl(t) {
        return function(n, e) {
            return t(n.source.value + n.target.value, e.source.value + e.target.value)
        }
    }

    function Bl() {
        function t(t) {
            var o, u, a, c, s, f, h = t.length,
                p = [],
                d = l(h),
                v = [],
                _ = [],
                y = _.groups = new Array(h),
                g = new Array(h * h);
            for (o = 0, s = -1; ++s < h;) {
                for (u = 0, f = -1; ++f < h;) u += t[s][f];
                p.push(u), v.push(l(h)), o += u
            }
            for (e && d.sort(function(t, n) {
                    return e(p[t], p[n])
                }), r && v.forEach(function(n, e) {
                    n.sort(function(n, i) {
                        return r(t[e][n], t[e][i])
                    })
                }), o = wx(0, bx - n * h) / o, c = o ? n : bx / h, u = 0, s = -1; ++s < h;) {
                for (a = u, f = -1; ++f < h;) {
                    var m = d[s],
                        x = v[m][f],
                        b = t[m][x],
                        w = u,
                        M = u += b * o;
                    g[x * h + m] = {
                        index: m,
                        subindex: x,
                        startAngle: w,
                        endAngle: M,
                        value: b
                    }
                }
                y[m] = {
                    index: m,
                    startAngle: a,
                    endAngle: u,
                    value: p[m]
                }, u += c
            }
            for (s = -1; ++s < h;)
                for (f = s - 1; ++f < h;) {
                    var T = g[f * h + s],
                        k = g[s * h + f];
                    (T.value || k.value) && _.push(T.value < k.value ? {
                        source: k,
                        target: T
                    } : {
                        source: T,
                        target: k
                    })
                }
            return i ? _.sort(i) : _
        }
        var n = 0,
            e = null,
            r = null,
            i = null;
        return t.padAngle = function(e) {
            return arguments.length ? (n = wx(0, e), t) : n
        }, t.sortGroups = function(n) {
            return arguments.length ? (e = n, t) : e
        }, t.sortSubgroups = function(n) {
            return arguments.length ? (r = n, t) : r
        }, t.sortChords = function(n) {
            return arguments.length ? (null == n ? i = null : (i = Yl(n))._ = n, t) : i && i._
        }, t
    }

    function jl(t) {
        return function() {
            return t
        }
    }

    function Hl(t) {
        return t.source
    }

    function Xl(t) {
        return t.target
    }

    function Vl(t) {
        return t.radius
    }

    function Wl(t) {
        return t.startAngle
    }

    function $l(t) {
        return t.endAngle
    }

    function Zl() {
        function t() {
            var t, a = Mx.call(arguments),
                c = n.apply(this, a),
                s = e.apply(this, a),
                f = +r.apply(this, (a[0] = c, a)),
                l = i.apply(this, a) - xx,
                h = o.apply(this, a) - xx,
                p = f * yx(l),
                d = f * gx(l),
                v = +r.apply(this, (a[0] = s, a)),
                _ = i.apply(this, a) - xx,
                y = o.apply(this, a) - xx;
            if (u || (u = t = Tt()), u.moveTo(p, d), u.arc(0, 0, f, l, h), l === _ && h === y || (u.quadraticCurveTo(0, 0, v * yx(_), v * gx(_)), u.arc(0, 0, v, _, y)), u.quadraticCurveTo(0, 0, p, d), u.closePath(), t) return u = null, t + "" || null
        }
        var n = Hl,
            e = Xl,
            r = Vl,
            i = Wl,
            o = $l,
            u = null;
        return t.radius = function(n) {
            return arguments.length ? (r = "function" == typeof n ? n : jl(+n), t) : r
        }, t.startAngle = function(n) {
            return arguments.length ? (i = "function" == typeof n ? n : jl(+n), t) : i
        }, t.endAngle = function(n) {
            return arguments.length ? (o = "function" == typeof n ? n : jl(+n), t) : o
        }, t.source = function(e) {
            return arguments.length ? (n = e, t) : n
        }, t.target = function(n) {
            return arguments.length ? (e = n, t) : e
        }, t.context = function(n) {
            return arguments.length ? (u = null == n ? null : n, t) : u
        }, t
    }

    function Gl() {
        return new Jl
    }

    function Jl() {
        this.reset()
    }

    function Ql(t, n, e) {
        var r = t.s = n + e,
            i = r - n,
            o = r - i;
        t.t = n - o + (e - i)
    }

    function Kl(t) {
        return t > 1 ? 0 : t < -1 ? ib : Math.acos(t)
    }

    function th(t) {
        return t > 1 ? ob : t < -1 ? -ob : Math.asin(t)
    }

    function nh(t) {
        return (t = gb(t / 2)) * t
    }

    function eh() {}

    function rh(t, n) {
        t && Mb.hasOwnProperty(t.type) && Mb[t.type](t, n)
    }

    function ih(t, n, e) {
        var r, i = -1,
            o = t.length - e;
        for (n.lineStart(); ++i < o;) r = t[i], n.point(r[0], r[1], r[2]);
        n.lineEnd()
    }

    function oh(t, n) {
        var e = -1,
            r = t.length;
        for (n.polygonStart(); ++e < r;) ih(t[e], n, 1);
        n.polygonEnd()
    }

    function uh(t, n) {
        t && wb.hasOwnProperty(t.type) ? wb[t.type](t, n) : rh(t, n)
    }

    function ah() {
        Sb.point = sh
    }

    function ch() {
        fh(Tx, kx)
    }

    function sh(t, n) {
        Sb.point = fh, Tx = t, kx = n, t *= sb, n *= sb, Sx = t, Nx = pb(n = n / 2 + ub), Ax = gb(n)
    }

    function fh(t, n) {
        t *= sb, n *= sb, n = n / 2 + ub;
        var e = t - Sx,
            r = e >= 0 ? 1 : -1,
            i = r * e,
            o = pb(n),
            u = gb(n),
            a = Ax * u,
            c = Nx * o + a * pb(i),
            s = a * r * gb(i);
        Tb.add(hb(s, c)), Sx = t, Nx = o, Ax = u
    }

    function lh(t) {
        return kb.reset(), uh(t, Sb), 2 * kb
    }

    function hh(t) {
        return [hb(t[1], t[0]), th(t[2])]
    }

    function ph(t) {
        var n = t[0],
            e = t[1],
            r = pb(e);
        return [r * pb(n), r * gb(n), gb(e)]
    }

    function dh(t, n) {
        return t[0] * n[0] + t[1] * n[1] + t[2] * n[2]
    }

    function vh(t, n) {
        return [t[1] * n[2] - t[2] * n[1], t[2] * n[0] - t[0] * n[2], t[0] * n[1] - t[1] * n[0]]
    }

    function _h(t, n) {
        t[0] += n[0], t[1] += n[1], t[2] += n[2]
    }

    function yh(t, n) {
        return [t[0] * n, t[1] * n, t[2] * n]
    }

    function gh(t) {
        var n = xb(t[0] * t[0] + t[1] * t[1] + t[2] * t[2]);
        t[0] /= n, t[1] /= n, t[2] /= n
    }

    function mh(t, n) {
        Dx.push(Ox = [Ex = t, zx = t]), n < Cx && (Cx = n), n > Px && (Px = n)
    }

    function xh(t, n) {
        var e = ph([t * sb, n * sb]);
        if (Ux) {
            var r = vh(Ux, e),
                i = [r[1], -r[0], 0],
                o = vh(i, r);
            gh(o), o = hh(o);
            var u, a = t - qx,
                c = a > 0 ? 1 : -1,
                s = o[0] * cb * c,
                f = fb(a) > 180;
            f ^ (c * qx < s && s < c * t) ? (u = o[1] * cb, u > Px && (Px = u)) : (s = (s + 360) % 360 - 180, f ^ (c * qx < s && s < c * t) ? (u = -o[1] * cb, u < Cx && (Cx = u)) : (n < Cx && (Cx = n), n > Px && (Px = n))), f ? t < qx ? Sh(Ex, t) > Sh(Ex, zx) && (zx = t) : Sh(t, zx) > Sh(Ex, zx) && (Ex = t) : zx >= Ex ? (t < Ex && (Ex = t), t > zx && (zx = t)) : t > qx ? Sh(Ex, t) > Sh(Ex, zx) && (zx = t) : Sh(t, zx) > Sh(Ex, zx) && (Ex = t)
        } else mh(t, n);
        Ux = e, qx = t
    }

    function bh() {
        Ab.point = xh
    }

    function wh() {
        Ox[0] = Ex, Ox[1] = zx, Ab.point = mh, Ux = null
    }

    function Mh(t, n) {
        if (Ux) {
            var e = t - qx;
            Nb.add(fb(e) > 180 ? e + (e > 0 ? 360 : -360) : e)
        } else Lx = t, Rx = n;
        Sb.point(t, n), xh(t, n)
    }

    function Th() {
        Sb.lineStart()
    }

    function kh() {
        Mh(Lx, Rx), Sb.lineEnd(), fb(Nb) > eb && (Ex = -(zx = 180)), Ox[0] = Ex, Ox[1] = zx, Ux = null
    }

    function Sh(t, n) {
        return (n -= t) < 0 ? n + 360 : n
    }

    function Nh(t, n) {
        return t[0] - n[0]
    }

    function Ah(t, n) {
        return t[0] <= t[1] ? t[0] <= n && n <= t[1] : n < t[0] || t[1] < n
    }

    function Eh(t) {
        var n, e, r, i, o, u, a;
        if (Px = zx = -(Ex = Cx = 1 / 0), Dx = [], uh(t, Ab), e = Dx.length) {
            for (Dx.sort(Nh), n = 1, r = Dx[0], o = [r]; n < e; ++n) i = Dx[n], Ah(r, i[0]) || Ah(r, i[1]) ? (Sh(r[0], i[1]) > Sh(r[0], r[1]) && (r[1] = i[1]), Sh(i[0], r[1]) > Sh(r[0], r[1]) && (r[0] = i[0])) : o.push(r = i);
            for (u = -(1 / 0), e = o.length - 1, n = 0, r = o[e]; n <= e; r = i, ++n) i = o[n], (a = Sh(r[1], i[0])) > u && (u = a, Ex = i[0], zx = r[1])
        }
        return Dx = Ox = null, Ex === 1 / 0 || Cx === 1 / 0 ? [
            [NaN, NaN],
            [NaN, NaN]
        ] : [
            [Ex, Cx],
            [zx, Px]
        ]
    }

    function Ch(t, n) {
        t *= sb, n *= sb;
        var e = pb(n);
        zh(e * pb(t), e * gb(t), gb(n))
    }

    function zh(t, n, e) {
        ++Fx, Yx += (t - Yx) / Fx, Bx += (n - Bx) / Fx, jx += (e - jx) / Fx
    }

    function Ph() {
        Eb.point = qh
    }

    function qh(t, n) {
        t *= sb, n *= sb;
        var e = pb(n);
        Qx = e * pb(t), Kx = e * gb(t), tb = gb(n), Eb.point = Lh, zh(Qx, Kx, tb)
    }

    function Lh(t, n) {
        t *= sb, n *= sb;
        var e = pb(n),
            r = e * pb(t),
            i = e * gb(t),
            o = gb(n),
            u = hb(xb((u = Kx * o - tb * i) * u + (u = tb * r - Qx * o) * u + (u = Qx * i - Kx * r) * u), Qx * r + Kx * i + tb * o);
        Ix += u, Hx += u * (Qx + (Qx = r)), Xx += u * (Kx + (Kx = i)), Vx += u * (tb + (tb = o)), zh(Qx, Kx, tb)
    }

    function Rh() {
        Eb.point = Ch
    }

    function Uh() {
        Eb.point = Oh
    }

    function Dh() {
        Fh(Gx, Jx), Eb.point = Ch
    }

    function Oh(t, n) {
        Gx = t, Jx = n, t *= sb, n *= sb, Eb.point = Fh;
        var e = pb(n);
        Qx = e * pb(t), Kx = e * gb(t), tb = gb(n), zh(Qx, Kx, tb)
    }

    function Fh(t, n) {
        t *= sb, n *= sb;
        var e = pb(n),
            r = e * pb(t),
            i = e * gb(t),
            o = gb(n),
            u = Kx * o - tb * i,
            a = tb * r - Qx * o,
            c = Qx * i - Kx * r,
            s = xb(u * u + a * a + c * c),
            f = Qx * r + Kx * i + tb * o,
            l = s && -Kl(f) / s,
            h = hb(s, f);
        Wx += l * u, $x += l * a, Zx += l * c, Ix += h, Hx += h * (Qx + (Qx = r)), Xx += h * (Kx + (Kx = i)), Vx += h * (tb + (tb = o)), zh(Qx, Kx, tb)
    }

    function Ih(t) {
        Fx = Ix = Yx = Bx = jx = Hx = Xx = Vx = Wx = $x = Zx = 0, uh(t, Eb);
        var n = Wx,
            e = $x,
            r = Zx,
            i = n * n + e * e + r * r;
        return i < rb && (n = Hx, e = Xx, r = Vx, Ix < eb && (n = Yx, e = Bx, r = jx), i = n * n + e * e + r * r, i < rb) ? [NaN, NaN] : [hb(e, n) * cb, th(r / xb(i)) * cb]
    }

    function Yh(t) {
        return function() {
            return t
        }
    }

    function Bh(t, n) {
        function e(e, r) {
            return e = t(e, r), n(e[0], e[1])
        }
        return t.invert && n.invert && (e.invert = function(e, r) {
            return e = n.invert(e, r), e && t.invert(e[0], e[1])
        }), e
    }

    function jh(t, n) {
        return [t > ib ? t - ab : t < -ib ? t + ab : t, n]
    }

    function Hh(t, n, e) {
        return (t %= ab) ? n || e ? Bh(Vh(t), Wh(n, e)) : Vh(t) : n || e ? Wh(n, e) : jh
    }

    function Xh(t) {
        return function(n, e) {
            return n += t, [n > ib ? n - ab : n < -ib ? n + ab : n, e]
        }
    }

    function Vh(t) {
        var n = Xh(t);
        return n.invert = Xh(-t), n
    }

    function Wh(t, n) {
        function e(t, n) {
            var e = pb(n),
                a = pb(t) * e,
                c = gb(t) * e,
                s = gb(n),
                f = s * r + a * i;
            return [hb(c * o - f * u, a * r - s * i), th(f * o + c * u)]
        }
        var r = pb(t),
            i = gb(t),
            o = pb(n),
            u = gb(n);
        return e.invert = function(t, n) {
            var e = pb(n),
                a = pb(t) * e,
                c = gb(t) * e,
                s = gb(n),
                f = s * o - c * u;
            return [hb(c * o + s * u, a * r + f * i), th(f * r - a * i)]
        }, e
    }

    function $h(t) {
        function n(n) {
            return n = t(n[0] * sb, n[1] * sb), n[0] *= cb, n[1] *= cb, n
        }
        return t = Hh(t[0] * sb, t[1] * sb, t.length > 2 ? t[2] * sb : 0), n.invert = function(n) {
            return n = t.invert(n[0] * sb, n[1] * sb), n[0] *= cb, n[1] *= cb, n
        }, n
    }

    function Zh(t, n, e, r, i, o) {
        if (e) {
            var u = pb(n),
                a = gb(n),
                c = r * e;
            null == i ? (i = n + r * ab, o = n - c / 2) : (i = Gh(u, i), o = Gh(u, o), (r > 0 ? i < o : i > o) && (i += r * ab));
            for (var s, f = i; r > 0 ? f > o : f < o; f -= c) s = hh([u, -a * pb(f), -a * gb(f)]), t.point(s[0], s[1])
        }
    }

    function Gh(t, n) {
        n = ph(n), n[0] -= t, gh(n);
        var e = Kl(-n[1]);
        return ((-n[2] < 0 ? -e : e) + ab - eb) % ab
    }

    function Jh() {
        function t(t, n) {
            e.push(t = r(t, n)), t[0] *= cb, t[1] *= cb
        }

        function n() {
            var t = i.apply(this, arguments),
                n = o.apply(this, arguments) * sb,
                c = u.apply(this, arguments) * sb;
            return e = [], r = Hh(-t[0] * sb, -t[1] * sb, 0).invert, Zh(a, n, c, 1), t = {
                type: "Polygon",
                coordinates: [e]
            }, e = r = null, t
        }
        var e, r, i = Yh([0, 0]),
            o = Yh(90),
            u = Yh(6),
            a = {
                point: t
            };
        return n.center = function(t) {
            return arguments.length ? (i = "function" == typeof t ? t : Yh([+t[0], +t[1]]), n) : i
        }, n.radius = function(t) {
            return arguments.length ? (o = "function" == typeof t ? t : Yh(+t), n) : o
        }, n.precision = function(t) {
            return arguments.length ? (u = "function" == typeof t ? t : Yh(+t), n) : u
        }, n
    }

    function Qh() {
        var t, n = [];
        return {
            point: function(n, e) {
                t.push([n, e])
            },
            lineStart: function() {
                n.push(t = [])
            },
            lineEnd: eh,
            rejoin: function() {
                n.length > 1 && n.push(n.pop().concat(n.shift()))
            },
            result: function() {
                var e = n;
                return n = [], t = null, e
            }
        }
    }

    function Kh(t, n, e, r, i, o) {
        var u, a = t[0],
            c = t[1],
            s = n[0],
            f = n[1],
            l = 0,
            h = 1,
            p = s - a,
            d = f - c;
        if (u = e - a, p || !(u > 0)) {
            if (u /= p, p < 0) {
                if (u < l) return;
                u < h && (h = u)
            } else if (p > 0) {
                if (u > h) return;
                u > l && (l = u)
            }
            if (u = i - a, p || !(u < 0)) {
                if (u /= p, p < 0) {
                    if (u > h) return;
                    u > l && (l = u)
                } else if (p > 0) {
                    if (u < l) return;
                    u < h && (h = u)
                }
                if (u = r - c, d || !(u > 0)) {
                    if (u /= d, d < 0) {
                        if (u < l) return;
                        u < h && (h = u)
                    } else if (d > 0) {
                        if (u > h) return;
                        u > l && (l = u)
                    }
                    if (u = o - c, d || !(u < 0)) {
                        if (u /= d, d < 0) {
                            if (u > h) return;
                            u > l && (l = u)
                        } else if (d > 0) {
                            if (u < l) return;
                            u < h && (h = u)
                        }
                        return l > 0 && (t[0] = a + l * p, t[1] = c + l * d), h < 1 && (n[0] = a + h * p, n[1] = c + h * d), !0
                    }
                }
            }
        }
    }

    function tp(t, n) {
        return fb(t[0] - n[0]) < eb && fb(t[1] - n[1]) < eb
    }

    function np(t, n, e, r) {
        this.x = t, this.z = n, this.o = e, this.e = r, this.v = !1, this.n = this.p = null
    }

    function ep(t, n, e, r, i) {
        var o, u, a = [],
            c = [];
        if (t.forEach(function(t) {
                if (!((n = t.length - 1) <= 0)) {
                    var n, e, r = t[0],
                        u = t[n];
                    if (tp(r, u)) {
                        for (i.lineStart(), o = 0; o < n; ++o) i.point((r = t[o])[0], r[1]);
                        return void i.lineEnd()
                    }
                    a.push(e = new np(r, t, null, !0)), c.push(e.o = new np(r, null, e, !1)), a.push(e = new np(u, t, null, !1)), c.push(e.o = new np(u, null, e, !0))
                }
            }), a.length) {
            for (c.sort(n), rp(a), rp(c), o = 0, u = c.length; o < u; ++o) c[o].e = e = !e;
            for (var s, f, l = a[0];;) {
                for (var h = l, p = !0; h.v;)
                    if ((h = h.n) === l) return;
                s = h.z, i.lineStart();
                do {
                    if (h.v = h.o.v = !0, h.e) {
                        if (p)
                            for (o = 0, u = s.length; o < u; ++o) i.point((f = s[o])[0], f[1]);
                        else r(h.x, h.n.x, 1, i);
                        h = h.n
                    } else {
                        if (p)
                            for (s = h.p.z, o = s.length - 1; o >= 0; --o) i.point((f = s[o])[0], f[1]);
                        else r(h.x, h.p.x, -1, i);
                        h = h.p
                    }
                    h = h.o, s = h.z, p = !p
                } while (!h.v);
                i.lineEnd()
            }
        }
    }

    function rp(t) {
        if (n = t.length) {
            for (var n, e, r = 0, i = t[0]; ++r < n;) i.n = e = t[r], e.p = i, i = e;
            i.n = e = t[0], e.p = i
        }
    }

    function ip(t, n, e, r) {
        function i(i, o) {
            return t <= i && i <= e && n <= o && o <= r
        }

        function o(i, o, a, s) {
            var f = 0,
                l = 0;
            if (null == i || (f = u(i, a)) !== (l = u(o, a)) || c(i, o) < 0 ^ a > 0) {
                do s.point(0 === f || 3 === f ? t : e, f > 1 ? r : n); while ((f = (f + a + 4) % 4) !== l)
            } else s.point(o[0], o[1])
        }

        function u(r, i) {
            return fb(r[0] - t) < eb ? i > 0 ? 0 : 3 : fb(r[0] - e) < eb ? i > 0 ? 2 : 1 : fb(r[1] - n) < eb ? i > 0 ? 1 : 0 : i > 0 ? 3 : 2
        }

        function a(t, n) {
            return c(t.x, n.x)
        }

        function c(t, n) {
            var e = u(t, 1),
                r = u(n, 1);
            return e !== r ? e - r : 0 === e ? n[1] - t[1] : 1 === e ? t[0] - n[0] : 2 === e ? t[1] - n[1] : n[0] - t[0]
        }
        return function(u) {
            function c(t, n) {
                i(t, n) && N.point(t, n)
            }

            function s() {
                for (var n = 0, e = 0, i = _.length; e < i; ++e)
                    for (var o, u, a = _[e], c = 1, s = a.length, f = a[0], l = f[0], h = f[1]; c < s; ++c) o = l, u = h, f = a[c], l = f[0], h = f[1], u <= r ? h > r && (l - o) * (r - u) > (h - u) * (t - o) && ++n : h <= r && (l - o) * (r - u) < (h - u) * (t - o) && --n;
                return n
            }

            function f() {
                N = A, v = [], _ = [], S = !0
            }

            function l() {
                var t = s(),
                    n = S && t,
                    e = (v = w(v)).length;
                (n || e) && (u.polygonStart(), n && (u.lineStart(), o(null, null, 1, u), u.lineEnd()), e && ep(v, a, t, o, u), u.polygonEnd()), N = u, v = _ = y = null
            }

            function h() {
                E.point = d, _ && _.push(y = []), k = !0, T = !1, b = M = NaN
            }

            function p() {
                v && (d(g, m), x && T && A.rejoin(), v.push(A.result())), E.point = c, T && N.lineEnd()
            }

            function d(o, u) {
                var a = i(o, u);
                if (_ && y.push([o, u]), k) g = o, m = u, x = a, k = !1, a && (N.lineStart(), N.point(o, u));
                else if (a && T) N.point(o, u);
                else {
                    var c = [b = Math.max(Bb, Math.min(Yb, b)), M = Math.max(Bb, Math.min(Yb, M))],
                        s = [o = Math.max(Bb, Math.min(Yb, o)), u = Math.max(Bb, Math.min(Yb, u))];
                    Kh(c, s, t, n, e, r) ? (T || (N.lineStart(), N.point(c[0], c[1])), N.point(s[0], s[1]), a || N.lineEnd(), S = !1) : a && (N.lineStart(), N.point(o, u), S = !1)
                }
                b = o, M = u, T = a
            }
            var v, _, y, g, m, x, b, M, T, k, S, N = u,
                A = Qh(),
                E = {
                    point: c,
                    lineStart: h,
                    lineEnd: p,
                    polygonStart: f,
                    polygonEnd: l
                };
            return E
        }
    }

    function op() {
        var t, n, e, r = 0,
            i = 0,
            o = 960,
            u = 500;
        return e = {
            stream: function(e) {
                return t && n === e ? t : t = ip(r, i, o, u)(n = e)
            },
            extent: function(a) {
                return arguments.length ? (r = +a[0][0], i = +a[0][1], o = +a[1][0], u = +a[1][1], t = n = null, e) : [
                    [r, i],
                    [o, u]
                ]
            }
        }
    }

    function up() {
        Hb.point = cp, Hb.lineEnd = ap
    }

    function ap() {
        Hb.point = Hb.lineEnd = eh
    }

    function cp(t, n) {
        t *= sb, n *= sb, Cb = t, zb = gb(n), Pb = pb(n), Hb.point = sp
    }

    function sp(t, n) {
        t *= sb, n *= sb;
        var e = gb(n),
            r = pb(n),
            i = fb(t - Cb),
            o = pb(i),
            u = gb(i),
            a = r * u,
            c = Pb * e - zb * r * o,
            s = zb * e + Pb * r * o;
        jb.add(hb(xb(a * a + c * c), s)), Cb = t, zb = e, Pb = r
    }

    function fp(t) {
        return jb.reset(), uh(t, Hb), +jb
    }

    function lp(t, n) {
        return Xb[0] = t, Xb[1] = n, fp(Vb)
    }

    function hp(t, n, e) {
        var r = l(t, n - eb, e).concat(n);
        return function(t) {
            return r.map(function(n) {
                return [t, n]
            })
        }
    }

    function pp(t, n, e) {
        var r = l(t, n - eb, e).concat(n);
        return function(t) {
            return r.map(function(n) {
                return [n, t]
            })
        }
    }

    function dp() {
        function t() {
            return {
                type: "MultiLineString",
                coordinates: n()
            }
        }

        function n() {
            return l(db(o / y) * y, i, y).map(p).concat(l(db(s / g) * g, c, g).map(d)).concat(l(db(r / v) * v, e, v).filter(function(t) {
                return fb(t % y) > eb
            }).map(f)).concat(l(db(a / _) * _, u, _).filter(function(t) {
                return fb(t % g) > eb
            }).map(h))
        }
        var e, r, i, o, u, a, c, s, f, h, p, d, v = 10,
            _ = v,
            y = 90,
            g = 360,
            m = 2.5;
        return t.lines = function() {
            return n().map(function(t) {
                return {
                    type: "LineString",
                    coordinates: t
                }
            })
        }, t.outline = function() {
            return {
                type: "Polygon",
                coordinates: [p(o).concat(d(c).slice(1), p(i).reverse().slice(1), d(s).reverse().slice(1))]
            }
        }, t.extent = function(n) {
            return arguments.length ? t.extentMajor(n).extentMinor(n) : t.extentMinor()
        }, t.extentMajor = function(n) {
            return arguments.length ? (o = +n[0][0], i = +n[1][0], s = +n[0][1], c = +n[1][1], o > i && (n = o, o = i, i = n), s > c && (n = s, s = c, c = n), t.precision(m)) : [
                [o, s],
                [i, c]
            ]
        }, t.extentMinor = function(n) {
            return arguments.length ? (r = +n[0][0], e = +n[1][0], a = +n[0][1], u = +n[1][1], r > e && (n = r, r = e, e = n), a > u && (n = a, a = u, u = n), t.precision(m)) : [
                [r, a],
                [e, u]
            ]
        }, t.step = function(n) {
            return arguments.length ? t.stepMajor(n).stepMinor(n) : t.stepMinor()
        }, t.stepMajor = function(n) {
            return arguments.length ? (y = +n[0], g = +n[1], t) : [y, g]
        }, t.stepMinor = function(n) {
            return arguments.length ? (v = +n[0], _ = +n[1], t) : [v, _]
        }, t.precision = function(n) {
            return arguments.length ? (m = +n, f = hp(a, u, 90), h = pp(r, e, m), p = hp(s, c, 90), d = pp(o, i, m), t) : m
        }, t.extentMajor([
            [-180, -90 + eb],
            [180, 90 - eb]
        ]).extentMinor([
            [-180, -80 - eb],
            [180, 80 + eb]
        ])
    }

    function vp(t, n) {
        var e = t[0] * sb,
            r = t[1] * sb,
            i = n[0] * sb,
            o = n[1] * sb,
            u = pb(r),
            a = gb(r),
            c = pb(o),
            s = gb(o),
            f = u * pb(e),
            l = u * gb(e),
            h = c * pb(i),
            p = c * gb(i),
            d = 2 * th(xb(nh(o - r) + u * c * nh(i - e))),
            v = gb(d),
            _ = d ? function(t) {
                var n = gb(t *= d) / v,
                    e = gb(d - t) / v,
                    r = e * f + n * h,
                    i = e * l + n * p,
                    o = e * a + n * s;
                return [hb(i, r) * cb, hb(o, xb(r * r + i * i)) * cb]
            } : function() {
                return [e * cb, r * cb]
            };
        return _.distance = d, _
    }

    function _p(t) {
        return t
    }

    function yp() {
        Zb.point = gp
    }

    function gp(t, n) {
        Zb.point = mp, qb = Rb = t, Lb = Ub = n
    }

    function mp(t, n) {
        $b.add(Ub * t - Rb * n), Rb = t, Ub = n
    }

    function xp() {
        mp(qb, Lb)
    }

    function bp(t, n) {
        t < Gb && (Gb = t), t > Qb && (Qb = t), n < Jb && (Jb = n), n > Kb && (Kb = n)
    }

    function wp(t, n) {
        nw += t, ew += n, ++rw
    }

    function Mp() {
        fw.point = Tp
    }

    function Tp(t, n) {
        fw.point = kp, wp(Fb = t, Ib = n)
    }

    function kp(t, n) {
        var e = t - Fb,
            r = n - Ib,
            i = xb(e * e + r * r);
        iw += i * (Fb + t) / 2, ow += i * (Ib + n) / 2, uw += i, wp(Fb = t, Ib = n)
    }

    function Sp() {
        fw.point = wp
    }

    function Np() {
        fw.point = Ep
    }

    function Ap() {
        Cp(Db, Ob)
    }

    function Ep(t, n) {
        fw.point = Cp, wp(Db = Fb = t, Ob = Ib = n)
    }

    function Cp(t, n) {
        var e = t - Fb,
            r = n - Ib,
            i = xb(e * e + r * r);
        iw += i * (Fb + t) / 2, ow += i * (Ib + n) / 2, uw += i, i = Ib * t - Fb * n, aw += i * (Fb + t), cw += i * (Ib + n), sw += 3 * i, wp(Fb = t, Ib = n)
    }

    function zp(t) {
        function n(n, e) {
            t.moveTo(n + u, e), t.arc(n, e, u, 0, ab)
        }

        function e(n, e) {
            t.moveTo(n, e), a.point = r
        }

        function r(n, e) {
            t.lineTo(n, e)
        }

        function i() {
            a.point = n
        }

        function o() {
            t.closePath()
        }
        var u = 4.5,
            a = {
                point: n,
                lineStart: function() {
                    a.point = e
                },
                lineEnd: i,
                polygonStart: function() {
                    a.lineEnd = o
                },
                polygonEnd: function() {
                    a.lineEnd = i, a.point = n
                },
                pointRadius: function(t) {
                    return u = t, a
                },
                result: eh
            };
        return a
    }

    function Pp() {
        function t(t, n) {
            a.push("M", t, ",", n, u)
        }

        function n(t, n) {
            a.push("M", t, ",", n), c.point = e
        }

        function e(t, n) {
            a.push("L", t, ",", n)
        }

        function r() {
            c.point = n
        }

        function i() {
            c.point = t
        }

        function o() {
            a.push("Z")
        }
        var u = qp(4.5),
            a = [],
            c = {
                point: t,
                lineStart: r,
                lineEnd: i,
                polygonStart: function() {
                    c.lineEnd = o
                },
                polygonEnd: function() {
                    c.lineEnd = i, c.point = t
                },
                pointRadius: function(t) {
                    return u = qp(t), c
                },
                result: function() {
                    if (a.length) {
                        var t = a.join("");
                        return a = [], t
                    }
                }
            };
        return c
    }

    function qp(t) {
        return "m0," + t + "a" + t + "," + t + " 0 1,1 0," + -2 * t + "a" + t + "," + t + " 0 1,1 0," + 2 * t + "z"
    }

    function Lp() {
        function t(t) {
            return t && ("function" == typeof o && i.pointRadius(+o.apply(this, arguments)), uh(t, e(i))), i.result()
        }
        var n, e, r, i, o = 4.5;
        return t.area = function(t) {
            return uh(t, e(Zb)), Zb.result()
        }, t.bounds = function(t) {
            return uh(t, e(tw)), tw.result()
        }, t.centroid = function(t) {
            return uh(t, e(fw)), fw.result()
        }, t.projection = function(r) {
            return arguments.length ? (e = null == (n = r) ? _p : r.stream, t) : n
        }, t.context = function(n) {
            return arguments.length ? (i = null == (r = n) ? new Pp : new zp(n), "function" != typeof o && i.pointRadius(o), t) : r
        }, t.pointRadius = function(n) {
            return arguments.length ? (o = "function" == typeof n ? n : (i.pointRadius(+n), +n), t) : o
        }, t.projection(null).context(null)
    }

    function Rp(t, n) {
        var e = n[0],
            r = n[1],
            i = [gb(e), -pb(e), 0],
            o = 0,
            u = 0;
        lw.reset();
        for (var a = 0, c = t.length; a < c; ++a)
            if (f = (s = t[a]).length)
                for (var s, f, l = s[f - 1], h = l[0], p = l[1] / 2 + ub, d = gb(p), v = pb(p), _ = 0; _ < f; ++_, h = g, d = x, v = b, l = y) {
                    var y = s[_],
                        g = y[0],
                        m = y[1] / 2 + ub,
                        x = gb(m),
                        b = pb(m),
                        w = g - h,
                        M = w >= 0 ? 1 : -1,
                        T = M * w,
                        k = T > ib,
                        S = d * x;
                    if (lw.add(hb(S * M * gb(T), v * b + S * pb(T))), o += k ? w + M * ab : w, k ^ h >= e ^ g >= e) {
                        var N = vh(ph(l), ph(y));
                        gh(N);
                        var A = vh(i, N);
                        gh(A);
                        var E = (k ^ w >= 0 ? -1 : 1) * th(A[2]);
                        (r > E || r === E && (N[0] || N[1])) && (u += k ^ w >= 0 ? 1 : -1)
                    }
                }
        return (o < -eb || o < eb && lw < -eb) ^ 1 & u
    }

    function Up(t, n, e, r) {
        return function(i, o) {
            function u(n, e) {
                var r = i(n, e);
                t(n = r[0], e = r[1]) && o.point(n, e)
            }

            function a(t, n) {
                var e = i(t, n);
                _.point(e[0], e[1])
            }

            function c() {
                b.point = a, _.lineStart()
            }

            function s() {
                b.point = u, _.lineEnd()
            }

            function f(t, n) {
                v.push([t, n]);
                var e = i(t, n);
                m.point(e[0], e[1])
            }

            function l() {
                m.lineStart(), v = []
            }

            function h() {
                f(v[0][0], v[0][1]), m.lineEnd();
                var t, n, e, r, i = m.clean(),
                    u = g.result(),
                    a = u.length;
                if (v.pop(), p.push(v), v = null, a)
                    if (1 & i) {
                        if (e = u[0], (n = e.length - 1) > 0) {
                            for (x || (o.polygonStart(), x = !0), o.lineStart(), t = 0; t < n; ++t) o.point((r = e[t])[0], r[1]);
                            o.lineEnd()
                        }
                    } else a > 1 && 2 & i && u.push(u.pop().concat(u.shift())), d.push(u.filter(Dp))
            }
            var p, d, v, _ = n(o),
                y = i.invert(r[0], r[1]),
                g = Qh(),
                m = n(g),
                x = !1,
                b = {
                    point: u,
                    lineStart: c,
                    lineEnd: s,
                    polygonStart: function() {
                        b.point = f, b.lineStart = l, b.lineEnd = h, d = [], p = []
                    },
                    polygonEnd: function() {
                        b.point = u, b.lineStart = c, b.lineEnd = s, d = w(d);
                        var t = Rp(p, y);
                        d.length ? (x || (o.polygonStart(), x = !0), ep(d, Op, t, e, o)) : t && (x || (o.polygonStart(), x = !0), o.lineStart(), e(null, null, 1, o), o.lineEnd()), x && (o.polygonEnd(), x = !1), d = p = null
                    },
                    sphere: function() {
                        o.polygonStart(), o.lineStart(), e(null, null, 1, o), o.lineEnd(), o.polygonEnd()
                    }
                };
            return b
        }
    }

    function Dp(t) {
        return t.length > 1
    }

    function Op(t, n) {
        return ((t = t.x)[0] < 0 ? t[1] - ob - eb : ob - t[1]) - ((n = n.x)[0] < 0 ? n[1] - ob - eb : ob - n[1])
    }

    function Fp(t) {
        var n, e = NaN,
            r = NaN,
            i = NaN;
        return {
            lineStart: function() {
                t.lineStart(), n = 1
            },
            point: function(o, u) {
                var a = o > 0 ? ib : -ib,
                    c = fb(o - e);
                fb(c - ib) < eb ? (t.point(e, r = (r + u) / 2 > 0 ? ob : -ob), t.point(i, r), t.lineEnd(), t.lineStart(), t.point(a, r), t.point(o, r), n = 0) : i !== a && c >= ib && (fb(e - i) < eb && (e -= i * eb), fb(o - a) < eb && (o -= a * eb), r = Ip(e, r, o, u), t.point(i, r), t.lineEnd(), t.lineStart(), t.point(a, r), n = 0), t.point(e = o, r = u), i = a
            },
            lineEnd: function() {
                t.lineEnd(), e = r = NaN
            },
            clean: function() {
                return 2 - n
            }
        }
    }

    function Ip(t, n, e, r) {
        var i, o, u = gb(t - e);
        return fb(u) > eb ? lb((gb(n) * (o = pb(r)) * gb(e) - gb(r) * (i = pb(n)) * gb(t)) / (i * o * u)) : (n + r) / 2
    }

    function Yp(t, n, e, r) {
        var i;
        if (null == t) i = e * ob, r.point(-ib, i), r.point(0, i), r.point(ib, i), r.point(ib, 0), r.point(ib, -i), r.point(0, -i), r.point(-ib, -i), r.point(-ib, 0), r.point(-ib, i);
        else if (fb(t[0] - n[0]) > eb) {
            var o = t[0] < n[0] ? ib : -ib;
            i = e * o / 2, r.point(-o, i), r.point(0, i), r.point(o, i)
        } else r.point(n[0], n[1])
    }

    function Bp(t, n) {
        function e(e, r, i, o) {
            Zh(o, t, n, i, e, r)
        }

        function r(t, n) {
            return pb(t) * pb(n) > a
        }

        function i(t) {
            var n, e, i, a, f;
            return {
                lineStart: function() {
                    a = i = !1, f = 1
                },
                point: function(l, h) {
                    var p, d = [l, h],
                        v = r(l, h),
                        _ = c ? v ? 0 : u(l, h) : v ? u(l + (l < 0 ? ib : -ib), h) : 0;
                    if (!n && (a = i = v) && t.lineStart(), v !== i && (p = o(n, d), (tp(n, p) || tp(d, p)) && (d[0] += eb, d[1] += eb, v = r(d[0], d[1]))), v !== i) f = 0, v ? (t.lineStart(), p = o(d, n), t.point(p[0], p[1])) : (p = o(n, d), t.point(p[0], p[1]), t.lineEnd()), n = p;
                    else if (s && n && c ^ v) {
                        var y;
                        _ & e || !(y = o(d, n, !0)) || (f = 0, c ? (t.lineStart(), t.point(y[0][0], y[0][1]), t.point(y[1][0], y[1][1]), t.lineEnd()) : (t.point(y[1][0], y[1][1]), t.lineEnd(), t.lineStart(), t.point(y[0][0], y[0][1])))
                    }!v || n && tp(n, d) || t.point(d[0], d[1]), n = d, i = v, e = _
                },
                lineEnd: function() {
                    i && t.lineEnd(), n = null
                },
                clean: function() {
                    return f | (a && i) << 1
                }
            }
        }

        function o(t, n, e) {
            var r = ph(t),
                i = ph(n),
                o = [1, 0, 0],
                u = vh(r, i),
                c = dh(u, u),
                s = u[0],
                f = c - s * s;
            if (!f) return !e && t;
            var l = a * c / f,
                h = -a * s / f,
                p = vh(o, u),
                d = yh(o, l),
                v = yh(u, h);
            _h(d, v);
            var _ = p,
                y = dh(d, _),
                g = dh(_, _),
                m = y * y - g * (dh(d, d) - 1);
            if (!(m < 0)) {
                var x = xb(m),
                    b = yh(_, (-y - x) / g);
                if (_h(b, d), b = hh(b), !e) return b;
                var w, M = t[0],
                    T = n[0],
                    k = t[1],
                    S = n[1];
                T < M && (w = M, M = T, T = w);
                var N = T - M,
                    A = fb(N - ib) < eb,
                    E = A || N < eb;
                if (!A && S < k && (w = k, k = S, S = w), E ? A ? k + S > 0 ^ b[1] < (fb(b[0] - M) < eb ? k : S) : k <= b[1] && b[1] <= S : N > ib ^ (M <= b[0] && b[0] <= T)) {
                    var C = yh(_, (-y + x) / g);
                    return _h(C, d), [b, hh(C)]
                }
            }
        }

        function u(n, e) {
            var r = c ? t : ib - t,
                i = 0;
            return n < -r ? i |= 1 : n > r && (i |= 2), e < -r ? i |= 4 : e > r && (i |= 8), i
        }
        var a = pb(t),
            c = a > 0,
            s = fb(a) > eb;
        return Up(r, i, e, c ? [0, -t] : [-ib, t - ib])
    }

    function jp(t) {
        return {
            stream: Hp(t)
        }
    }

    function Hp(t) {
        function n() {}
        var e = n.prototype = Object.create(Xp.prototype);
        for (var r in t) e[r] = t[r];
        return function(t) {
            var e = new n;
            return e.stream = t, e
        }
    }

    function Xp() {}

    function Vp(t, n, e) {
        var r = n[1][0] - n[0][0],
            i = n[1][1] - n[0][1],
            o = t.clipExtent && t.clipExtent();
        t.scale(150).translate([0, 0]), null != o && t.clipExtent(null), uh(e, t.stream(tw));
        var u = tw.result(),
            a = Math.min(r / (u[1][0] - u[0][0]), i / (u[1][1] - u[0][1])),
            c = +n[0][0] + (r - a * (u[1][0] + u[0][0])) / 2,
            s = +n[0][1] + (i - a * (u[1][1] + u[0][1])) / 2;
        return null != o && t.clipExtent(o), t.scale(150 * a).translate([c, s])
    }

    function Wp(t) {
        return function(n, e) {
            return Vp(t, [
                [0, 0], n
            ], e)
        }
    }

    function $p(t) {
        return function(n, e) {
            return Vp(t, n, e)
        }
    }

    function Zp(t, n) {
        return +n ? Jp(t, n) : Gp(t)
    }

    function Gp(t) {
        return Hp({
            point: function(n, e) {
                n = t(n, e), this.stream.point(n[0], n[1])
            }
        })
    }

    function Jp(t, n) {
        function e(r, i, o, u, a, c, s, f, l, h, p, d, v, _) {
            var y = s - r,
                g = f - i,
                m = y * y + g * g;
            if (m > 4 * n && v--) {
                var x = u + h,
                    b = a + p,
                    w = c + d,
                    M = xb(x * x + b * b + w * w),
                    T = th(w /= M),
                    k = fb(fb(w) - 1) < eb || fb(o - l) < eb ? (o + l) / 2 : hb(b, x),
                    S = t(k, T),
                    N = S[0],
                    A = S[1],
                    E = N - r,
                    C = A - i,
                    z = g * E - y * C;
                (z * z / m > n || fb((y * E + g * C) / m - .5) > .3 || u * h + a * p + c * d < dw) && (e(r, i, o, u, a, c, N, A, k, x /= M, b /= M, w, v, _), _.point(N, A), e(N, A, k, x, b, w, s, f, l, h, p, d, v, _))
            }
        }
        return function(n) {
            function r(e, r) {
                e = t(e, r), n.point(e[0], e[1])
            }

            function i() {
                y = NaN, w.point = o, n.lineStart()
            }

            function o(r, i) {
                var o = ph([r, i]),
                    u = t(r, i);
                e(y, g, _, m, x, b, y = u[0], g = u[1], _ = r, m = o[0], x = o[1], b = o[2], pw, n), n.point(y, g)
            }

            function u() {
                w.point = r, n.lineEnd()
            }

            function a() {
                i(), w.point = c, w.lineEnd = s
            }

            function c(t, n) {
                o(f = t, n), l = y, h = g, p = m, d = x, v = b, w.point = o
            }

            function s() {
                e(y, g, _, m, x, b, l, h, f, p, d, v, pw, n), w.lineEnd = u, u()
            }
            var f, l, h, p, d, v, _, y, g, m, x, b, w = {
                point: r,
                lineStart: i,
                lineEnd: u,
                polygonStart: function() {
                    n.polygonStart(), w.lineStart = a
                },
                polygonEnd: function() {
                    n.polygonEnd(), w.lineStart = i
                }
            };
            return w
        }
    }

    function Qp(t) {
        return Kp(function() {
            return t
        })()
    }

    function Kp(t) {
        function n(t) {
            return t = f(t[0] * sb, t[1] * sb), [t[0] * _ + a, c - t[1] * _]
        }

        function e(t) {
            return t = f.invert((t[0] - a) / _, (c - t[1]) / _), t && [t[0] * cb, t[1] * cb]
        }

        function r(t, n) {
            return t = u(t, n), [t[0] * _ + a, c - t[1] * _]
        }

        function i() {
            f = Bh(s = Hh(b, w, M), u);
            var t = u(m, x);
            return a = y - t[0] * _, c = g + t[1] * _, o()
        }

        function o() {
            return d = v = null, n
        }
        var u, a, c, s, f, l, h, p, d, v, _ = 150,
            y = 480,
            g = 250,
            m = 0,
            x = 0,
            b = 0,
            w = 0,
            M = 0,
            T = null,
            k = hw,
            S = null,
            N = _p,
            A = .5,
            E = Zp(r, A);
        return n.stream = function(t) {
                return d && v === t ? d : d = vw(k(s, E(N(v = t))))
            }, n.clipAngle = function(t) {
                return arguments.length ? (k = +t ? Bp(T = t * sb, 6 * sb) : (T = null, hw), o()) : T * cb
            }, n.clipExtent = function(t) {
                return arguments.length ? (N = null == t ? (S = l = h = p = null, _p) : ip(S = +t[0][0], l = +t[0][1], h = +t[1][0], p = +t[1][1]), o()) : null == S ? null : [
                    [S, l],
                    [h, p]
                ]
            }, n.scale = function(t) {
                return arguments.length ? (_ = +t, i()) : _
            }, n.translate = function(t) {
                return arguments.length ? (y = +t[0], g = +t[1], i()) : [y, g]
            }, n.center = function(t) {
                return arguments.length ? (m = t[0] % 360 * sb, x = t[1] % 360 * sb, i()) : [m * cb, x * cb]
            }, n.rotate = function(t) {
                return arguments.length ? (b = t[0] % 360 * sb, w = t[1] % 360 * sb, M = t.length > 2 ? t[2] % 360 * sb : 0, i()) : [b * cb, w * cb, M * cb]
            }, n.precision = function(t) {
                return arguments.length ? (E = Zp(r, A = t * t), o()) : xb(A)
            }, n.fitExtent = $p(n), n.fitSize = Wp(n),
            function() {
                return u = t.apply(this, arguments), n.invert = u.invert && e, i()
            }
    }

    function td(t) {
        var n = 0,
            e = ib / 3,
            r = Kp(t),
            i = r(n, e);
        return i.parallels = function(t) {
            return arguments.length ? r(n = t[0] * sb, e = t[1] * sb) : [n * cb, e * cb]
        }, i
    }

    function nd(t, n) {
        function e(t, n) {
            var e = xb(o - 2 * i * gb(n)) / i;
            return [e * gb(t *= i), u - e * pb(t)]
        }
        var r = gb(t),
            i = (r + gb(n)) / 2,
            o = 1 + r * (2 * i - r),
            u = xb(o) / i;
        return e.invert = function(t, n) {
            var e = u - n;
            return [hb(t, e) / i, th((o - (t * t + e * e) * i * i) / (2 * i))]
        }, e
    }

    function ed() {
        return td(nd).scale(155.424).center([0, 33.6442])
    }

    function rd() {
        return ed().parallels([29.5, 45.5]).scale(1070).translate([480, 250]).rotate([96, 0]).center([-.6, 38.7])
    }

    function id(t) {
        var n = t.length;
        return {
            point: function(e, r) {
                for (var i = -1; ++i < n;) t[i].point(e, r)
            },
            sphere: function() {
                for (var e = -1; ++e < n;) t[e].sphere()
            },
            lineStart: function() {
                for (var e = -1; ++e < n;) t[e].lineStart()
            },
            lineEnd: function() {
                for (var e = -1; ++e < n;) t[e].lineEnd()
            },
            polygonStart: function() {
                for (var e = -1; ++e < n;) t[e].polygonStart()
            },
            polygonEnd: function() {
                for (var e = -1; ++e < n;) t[e].polygonEnd()
            }
        }
    }

    function od() {
        function t(t) {
            var n = t[0],
                e = t[1];
            return u = null, r.point(n, e), u || (i.point(n, e), u) || (o.point(n, e), u)
        }
        var n, e, r, i, o, u, a = rd(),
            c = ed().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]),
            s = ed().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]),
            f = {
                point: function(t, n) {
                    u = [t, n]
                }
            };
        return t.invert = function(t) {
            var n = a.scale(),
                e = a.translate(),
                r = (t[0] - e[0]) / n,
                i = (t[1] - e[1]) / n;
            return (i >= .12 && i < .234 && r >= -.425 && r < -.214 ? c : i >= .166 && i < .234 && r >= -.214 && r < -.115 ? s : a).invert(t)
        }, t.stream = function(t) {
            return n && e === t ? n : n = id([a.stream(e = t), c.stream(t), s.stream(t)])
        }, t.precision = function(n) {
            return arguments.length ? (a.precision(n), c.precision(n), s.precision(n), t) : a.precision()
        }, t.scale = function(n) {
            return arguments.length ? (a.scale(n), c.scale(.35 * n), s.scale(n), t.translate(a.translate())) : a.scale()
        }, t.translate = function(n) {
            if (!arguments.length) return a.translate();
            var e = a.scale(),
                u = +n[0],
                l = +n[1];
            return r = a.translate(n).clipExtent([
                [u - .455 * e, l - .238 * e],
                [u + .455 * e, l + .238 * e]
            ]).stream(f), i = c.translate([u - .307 * e, l + .201 * e]).clipExtent([
                [u - .425 * e + eb, l + .12 * e + eb],
                [u - .214 * e - eb, l + .234 * e - eb]
            ]).stream(f), o = s.translate([u - .205 * e, l + .212 * e]).clipExtent([
                [u - .214 * e + eb, l + .166 * e + eb],
                [u - .115 * e - eb, l + .234 * e - eb]
            ]).stream(f), t
        }, t.fitExtent = $p(t), t.fitSize = Wp(t), t.scale(1070)
    }

    function ud(t) {
        return function(n, e) {
            var r = pb(n),
                i = pb(e),
                o = t(r * i);
            return [o * i * gb(n), o * gb(e)]
        }
    }

    function ad(t) {
        return function(n, e) {
            var r = xb(n * n + e * e),
                i = t(r),
                o = gb(i),
                u = pb(i);
            return [hb(n * o, r * u), th(r && e * o / r)]
        }
    }

    function cd() {
        return Qp(_w).scale(124.75).clipAngle(179.999)
    }

    function sd() {
        return Qp(yw).scale(79.4188).clipAngle(179.999)
    }

    function fd(t, n) {
        return [t, _b(bb((ob + n) / 2))]
    }

    function ld() {
        return hd(fd).scale(961 / ab)
    }

    function hd(t) {
        var n, e = Qp(t),
            r = e.scale,
            i = e.translate,
            o = e.clipExtent;
        return e.scale = function(t) {
            return arguments.length ? (r(t), n && e.clipExtent(null), e) : r()
        }, e.translate = function(t) {
            return arguments.length ? (i(t), n && e.clipExtent(null), e) : i()
        }, e.clipExtent = function(t) {
            if (!arguments.length) return n ? null : o();
            if (n = null == t) {
                var u = ib * r(),
                    a = i();
                t = [
                    [a[0] - u, a[1] - u],
                    [a[0] + u, a[1] + u]
                ]
            }
            return o(t), e
        }, e.clipExtent(null)
    }

    function pd(t) {
        return bb((ob + t) / 2)
    }

    function dd(t, n) {
        function e(t, n) {
            o > 0 ? n < -ob + eb && (n = -ob + eb) : n > ob - eb && (n = ob - eb);
            var e = o / yb(pd(n), i);
            return [e * gb(i * t), o - e * pb(i * t)]
        }
        var r = pb(t),
            i = t === n ? gb(t) : _b(r / pb(n)) / _b(pd(n) / pd(t)),
            o = r * yb(pd(t), i) / i;
        return i ? (e.invert = function(t, n) {
            var e = o - n,
                r = mb(i) * xb(t * t + e * e);
            return [hb(t, e) / i, 2 * lb(yb(o / r, 1 / i)) - ob]
        }, e) : fd
    }

    function vd() {
        return td(dd).scale(109.5).parallels([30, 30])
    }

    function _d(t, n) {
        return [t, n]
    }

    function yd() {
        return Qp(_d).scale(152.63)
    }

    function gd(t, n) {
        function e(t, n) {
            var e = o - n,
                r = i * t;
            return [e * gb(r), o - e * pb(r)]
        }
        var r = pb(t),
            i = t === n ? gb(t) : (r - pb(n)) / (n - t),
            o = r / i + t;
        return fb(i) < eb ? _d : (e.invert = function(t, n) {
            var e = o - n;
            return [hb(t, e) / i, o - mb(i) * xb(t * t + e * e)]
        }, e)
    }

    function md() {
        return td(gd).scale(131.154).center([0, 13.9389])
    }

    function xd(t, n) {
        var e = pb(n),
            r = pb(t) * e;
        return [e * gb(t) / r, gb(n) / r]
    }

    function bd() {
        return Qp(xd).scale(144.049).clipAngle(60)
    }

    function wd(t, n) {
        return [pb(n) * gb(t), gb(n)]
    }

    function Md() {
        return Qp(wd).scale(249.5).clipAngle(90 + eb)
    }

    function Td(t, n) {
        var e = pb(n),
            r = 1 + pb(t) * e;
        return [e * gb(t) / r, gb(n) / r]
    }

    function kd() {
        return Qp(Td).scale(250).clipAngle(142)
    }

    function Sd(t, n) {
        return [_b(bb((ob + n) / 2)), -t]
    }

    function Nd() {
        var t = hd(Sd),
            n = t.center,
            e = t.rotate;
        return t.center = function(t) {
            return arguments.length ? n([-t[1], t[0]]) : (t = n(), [t[1], -t[0]])
        }, t.rotate = function(t) {
            return arguments.length ? e([t[0], t[1], t.length > 2 ? t[2] + 90 : 90]) : (t = e(), [t[0], t[1], t[2] - 90])
        }, e([0, 0, 90]).scale(159.155)
    }
    var Ad = "4.2.2",
        Ed = e(n),
        Cd = Ed.right,
        zd = Ed.left,
        Pd = Array.prototype,
        qd = Pd.slice,
        Ld = Pd.map,
        Rd = Math.sqrt(50),
        Ud = Math.sqrt(10),
        Dd = Math.sqrt(2),
        Od = "$";
    P.prototype = q.prototype = {
        constructor: P,
        has: function(t) {
            return Od + t in this
        },
        get: function(t) {
            return this[Od + t]
        },
        set: function(t, n) {
            return this[Od + t] = n, this
        },
        remove: function(t) {
            var n = Od + t;
            return n in this && delete this[n]
        },
        clear: function() {
            for (var t in this) t[0] === Od && delete this[t]
        },
        keys: function() {
            var t = [];
            for (var n in this) n[0] === Od && t.push(n.slice(1));
            return t
        },
        values: function() {
            var t = [];
            for (var n in this) n[0] === Od && t.push(this[n]);
            return t
        },
        entries: function() {
            var t = [];
            for (var n in this) n[0] === Od && t.push({
                key: n.slice(1),
                value: this[n]
            });
            return t
        },
        size: function() {
            var t = 0;
            for (var n in this) n[0] === Od && ++t;
            return t
        },
        empty: function() {
            for (var t in this)
                if (t[0] === Od) return !1;
            return !0
        },
        each: function(t) {
            for (var n in this) n[0] === Od && t(this[n], n.slice(1), this)
        }
    };
    var Fd = q.prototype;
    F.prototype = I.prototype = {
        constructor: F,
        has: Fd.has,
        add: function(t) {
            return t += "", this[Od + t] = t, this
        },
        remove: Fd.remove,
        clear: Fd.clear,
        values: Fd.keys,
        size: Fd.size,
        empty: Fd.empty,
        each: Fd.each
    };
    var Id = 3,
        Yd = function t(n) {
            function e(t) {
                return Math.pow(t, n)
            }
            return n = +n, e.exponent = t, e
        }(Id),
        Bd = function t(n) {
            function e(t) {
                return 1 - Math.pow(1 - t, n)
            }
            return n = +n, e.exponent = t, e
        }(Id),
        jd = function t(n) {
            function e(t) {
                return ((t *= 2) <= 1 ? Math.pow(t, n) : 2 - Math.pow(2 - t, n)) / 2
            }
            return n = +n, e.exponent = t, e
        }(Id),
        Hd = Math.PI,
        Xd = Hd / 2,
        Vd = 4 / 11,
        Wd = 6 / 11,
        $d = 8 / 11,
        Zd = .75,
        Gd = 9 / 11,
        Jd = 10 / 11,
        Qd = .9375,
        Kd = 21 / 22,
        tv = 63 / 64,
        nv = 1 / Vd / Vd,
        ev = 1.70158,
        rv = function t(n) {
            function e(t) {
                return t * t * ((n + 1) * t - n)
            }
            return n = +n, e.overshoot = t, e
        }(ev),
        iv = function t(n) {
            function e(t) {
                return --t * t * ((n + 1) * t + n) + 1
            }
            return n = +n, e.overshoot = t, e
        }(ev),
        ov = function t(n) {
            function e(t) {
                return ((t *= 2) < 1 ? t * t * ((n + 1) * t - n) : (t -= 2) * t * ((n + 1) * t + n) + 2) / 2
            }
            return n = +n, e.overshoot = t, e
        }(ev),
        uv = 2 * Math.PI,
        av = 1,
        cv = .3,
        sv = function t(n, e) {
            function r(t) {
                return n * Math.pow(2, 10 * --t) * Math.sin((i - t) / e)
            }
            var i = Math.asin(1 / (n = Math.max(1, n))) * (e /= uv);
            return r.amplitude = function(n) {
                return t(n, e * uv)
            }, r.period = function(e) {
                return t(n, e)
            }, r
        }(av, cv),
        fv = function t(n, e) {
            function r(t) {
                return 1 - n * Math.pow(2, -10 * (t = +t)) * Math.sin((t + i) / e)
            }
            var i = Math.asin(1 / (n = Math.max(1, n))) * (e /= uv);
            return r.amplitude = function(n) {
                return t(n, e * uv)
            }, r.period = function(e) {
                return t(n, e)
            }, r
        }(av, cv),
        lv = function t(n, e) {
            function r(t) {
                return ((t = 2 * t - 1) < 0 ? n * Math.pow(2, 10 * t) * Math.sin((i - t) / e) : 2 - n * Math.pow(2, -10 * t) * Math.sin((i + t) / e)) / 2
            }
            var i = Math.asin(1 / (n = Math.max(1, n))) * (e /= uv);
            return r.amplitude = function(n) {
                return t(n, e * uv)
            }, r.period = function(e) {
                return t(n, e)
            }, r
        }(av, cv),
        hv = Math.PI,
        pv = 2 * hv,
        dv = 1e-6,
        vv = pv - dv;
    Mt.prototype = Tt.prototype = {
        constructor: Mt,
        moveTo: function(t, n) {
            this._.push("M", this._x0 = this._x1 = +t, ",", this._y0 = this._y1 = +n)
        },
        closePath: function() {
            null !== this._x1 && (this._x1 = this._x0, this._y1 = this._y0, this._.push("Z"))
        },
        lineTo: function(t, n) {
            this._.push("L", this._x1 = +t, ",", this._y1 = +n)
        },
        quadraticCurveTo: function(t, n, e, r) {
            this._.push("Q", +t, ",", +n, ",", this._x1 = +e, ",", this._y1 = +r)
        },
        bezierCurveTo: function(t, n, e, r, i, o) {
            this._.push("C", +t, ",", +n, ",", +e, ",", +r, ",", this._x1 = +i, ",", this._y1 = +o)
        },
        arcTo: function(t, n, e, r, i) {
            t = +t, n = +n, e = +e, r = +r, i = +i;
            var o = this._x1,
                u = this._y1,
                a = e - t,
                c = r - n,
                s = o - t,
                f = u - n,
                l = s * s + f * f;
            if (i < 0) throw new Error("negative radius: " + i);
            if (null === this._x1) this._.push("M", this._x1 = t, ",", this._y1 = n);
            else if (l > dv)
                if (Math.abs(f * a - c * s) > dv && i) {
                    var h = e - o,
                        p = r - u,
                        d = a * a + c * c,
                        v = h * h + p * p,
                        _ = Math.sqrt(d),
                        y = Math.sqrt(l),
                        g = i * Math.tan((hv - Math.acos((d + l - v) / (2 * _ * y))) / 2),
                        m = g / y,
                        x = g / _;
                    Math.abs(m - 1) > dv && this._.push("L", t + m * s, ",", n + m * f), this._.push("A", i, ",", i, ",0,0,", +(f * h > s * p), ",", this._x1 = t + x * a, ",", this._y1 = n + x * c)
                } else this._.push("L", this._x1 = t, ",", this._y1 = n);
            else;
        },
        arc: function(t, n, e, r, i, o) {
            t = +t, n = +n, e = +e;
            var u = e * Math.cos(r),
                a = e * Math.sin(r),
                c = t + u,
                s = n + a,
                f = 1 ^ o,
                l = o ? r - i : i - r;
            if (e < 0) throw new Error("negative radius: " + e);
            null === this._x1 ? this._.push("M", c, ",", s) : (Math.abs(this._x1 - c) > dv || Math.abs(this._y1 - s) > dv) && this._.push("L", c, ",", s), e && (l > vv ? this._.push("A", e, ",", e, ",0,1,", f, ",", t - u, ",", n - a, "A", e, ",", e, ",0,1,", f, ",", this._x1 = c, ",", this._y1 = s) : (l < 0 && (l = l % pv + pv), this._.push("A", e, ",", e, ",0,", +(l >= hv), ",", f, ",", this._x1 = t + e * Math.cos(i), ",", this._y1 = n + e * Math.sin(i))))
        },
        rect: function(t, n, e, r) {
            this._.push("M", this._x0 = this._x1 = +t, ",", this._y0 = this._y1 = +n, "h", +e, "v", +r, "h", -e, "Z")
        },
        toString: function() {
            return this._.join("")
        }
    };
    var _v = jt.prototype = Ht.prototype;
    _v.copy = function() {
        var t, n, e = new Ht(this._x, this._y, this._x0, this._y0, this._x1, this._y1),
            r = this._root;
        if (!r) return e;
        if (!r.length) return e._root = Xt(r), e;
        for (t = [{
                source: r,
                target: e._root = new Array(4)
            }]; r = t.pop();)
            for (var i = 0; i < 4; ++i)(n = r.source[i]) && (n.length ? t.push({
                source: n,
                target: r.target[i] = new Array(4)
            }) : r.target[i] = Xt(n));
        return e
    }, _v.add = kt, _v.addAll = Nt, _v.cover = At, _v.data = Et, _v.extent = Ct, _v.find = Pt, _v.remove = qt, _v.removeAll = Lt, _v.root = Rt, _v.size = Ut, _v.visit = Dt, _v.visitAfter = Ot, _v.x = It, _v.y = Bt;
    var yv = [].slice,
        gv = {};
    Vt.prototype = Qt.prototype = {
        constructor: Vt,
        defer: function(t) {
            if ("function" != typeof t || this._call) throw new Error;
            if (null != this._error) return this;
            var n = yv.call(arguments, 1);
            return n.push(t), ++this._waiting, this._tasks.push(n), Wt(this), this
        },
        abort: function() {
            return null == this._error && Gt(this, new Error("abort")),
                this
        },
        await: function(t) {
            if ("function" != typeof t || this._call) throw new Error;
            return this._call = function(n, e) {
                t.apply(null, [n].concat(e))
            }, Jt(this), this
        },
        awaitAll: function(t) {
            if ("function" != typeof t || this._call) throw new Error;
            return this._call = t, Jt(this), this
        }
    };
    var mv = 1e-12,
        xv = Math.PI,
        bv = xv / 2,
        wv = 2 * xv;
    fn.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._point = 0
        },
        lineEnd: function() {
            (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line
        },
        point: function(t, n) {
            switch (t = +t, n = +n, this._point) {
                case 0:
                    this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n);
                    break;
                case 1:
                    this._point = 2;
                default:
                    this._context.lineTo(t, n)
            }
        }
    };
    var Mv = xn(ln);
    mn.prototype = {
        areaStart: function() {
            this._curve.areaStart()
        },
        areaEnd: function() {
            this._curve.areaEnd()
        },
        lineStart: function() {
            this._curve.lineStart()
        },
        lineEnd: function() {
            this._curve.lineEnd()
        },
        point: function(t, n) {
            this._curve.point(n * Math.sin(t), n * -Math.cos(t))
        }
    };
    var Tv = {
            draw: function(t, n) {
                var e = Math.sqrt(n / xv);
                t.moveTo(e, 0), t.arc(0, 0, e, 0, wv)
            }
        },
        kv = {
            draw: function(t, n) {
                var e = Math.sqrt(n / 5) / 2;
                t.moveTo(-3 * e, -e), t.lineTo(-e, -e), t.lineTo(-e, -3 * e), t.lineTo(e, -3 * e), t.lineTo(e, -e), t.lineTo(3 * e, -e), t.lineTo(3 * e, e), t.lineTo(e, e), t.lineTo(e, 3 * e), t.lineTo(-e, 3 * e), t.lineTo(-e, e), t.lineTo(-3 * e, e), t.closePath()
            }
        },
        Sv = Math.sqrt(1 / 3),
        Nv = 2 * Sv,
        Av = {
            draw: function(t, n) {
                var e = Math.sqrt(n / Nv),
                    r = e * Sv;
                t.moveTo(0, -e), t.lineTo(r, 0), t.lineTo(0, e), t.lineTo(-r, 0), t.closePath()
            }
        },
        Ev = .8908130915292852,
        Cv = Math.sin(xv / 10) / Math.sin(7 * xv / 10),
        zv = Math.sin(wv / 10) * Cv,
        Pv = -Math.cos(wv / 10) * Cv,
        qv = {
            draw: function(t, n) {
                var e = Math.sqrt(n * Ev),
                    r = zv * e,
                    i = Pv * e;
                t.moveTo(0, -e), t.lineTo(r, i);
                for (var o = 1; o < 5; ++o) {
                    var u = wv * o / 5,
                        a = Math.cos(u),
                        c = Math.sin(u);
                    t.lineTo(c * e, -a * e), t.lineTo(a * r - c * i, c * r + a * i)
                }
                t.closePath()
            }
        },
        Lv = {
            draw: function(t, n) {
                var e = Math.sqrt(n),
                    r = -e / 2;
                t.rect(r, r, e, e)
            }
        },
        Rv = Math.sqrt(3),
        Uv = {
            draw: function(t, n) {
                var e = -Math.sqrt(n / (3 * Rv));
                t.moveTo(0, 2 * e), t.lineTo(-Rv * e, -e), t.lineTo(Rv * e, -e), t.closePath()
            }
        },
        Dv = -.5,
        Ov = Math.sqrt(3) / 2,
        Fv = 1 / Math.sqrt(12),
        Iv = 3 * (Fv / 2 + 1),
        Yv = {
            draw: function(t, n) {
                var e = Math.sqrt(n / Iv),
                    r = e / 2,
                    i = e * Fv,
                    o = r,
                    u = e * Fv + e,
                    a = -o,
                    c = u;
                t.moveTo(r, i), t.lineTo(o, u), t.lineTo(a, c), t.lineTo(Dv * r - Ov * i, Ov * r + Dv * i), t.lineTo(Dv * o - Ov * u, Ov * o + Dv * u), t.lineTo(Dv * a - Ov * c, Ov * a + Dv * c), t.lineTo(Dv * r + Ov * i, Dv * i - Ov * r), t.lineTo(Dv * o + Ov * u, Dv * u - Ov * o), t.lineTo(Dv * a + Ov * c, Dv * c - Ov * a), t.closePath()
            }
        },
        Bv = [Tv, kv, Av, Lv, qv, Uv, Yv];
    Nn.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
                case 3:
                    Sn(this, this._x1, this._y1);
                case 2:
                    this._context.lineTo(this._x1, this._y1)
            }(this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line
        },
        point: function(t, n) {
            switch (t = +t, n = +n, this._point) {
                case 0:
                    this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n);
                    break;
                case 1:
                    this._point = 2;
                    break;
                case 2:
                    this._point = 3, this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);
                default:
                    Sn(this, t, n)
            }
            this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = n
        }
    }, En.prototype = {
        areaStart: kn,
        areaEnd: kn,
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN, this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
                case 1:
                    this._context.moveTo(this._x2, this._y2), this._context.closePath();
                    break;
                case 2:
                    this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3), this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3), this._context.closePath();
                    break;
                case 3:
                    this.point(this._x2, this._y2), this.point(this._x3, this._y3), this.point(this._x4, this._y4)
            }
        },
        point: function(t, n) {
            switch (t = +t, n = +n, this._point) {
                case 0:
                    this._point = 1, this._x2 = t, this._y2 = n;
                    break;
                case 1:
                    this._point = 2, this._x3 = t, this._y3 = n;
                    break;
                case 2:
                    this._point = 3, this._x4 = t, this._y4 = n, this._context.moveTo((this._x0 + 4 * this._x1 + t) / 6, (this._y0 + 4 * this._y1 + n) / 6);
                    break;
                default:
                    Sn(this, t, n)
            }
            this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = n
        }
    }, zn.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0
        },
        lineEnd: function() {
            (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line
        },
        point: function(t, n) {
            switch (t = +t, n = +n, this._point) {
                case 0:
                    this._point = 1;
                    break;
                case 1:
                    this._point = 2;
                    break;
                case 2:
                    this._point = 3;
                    var e = (this._x0 + 4 * this._x1 + t) / 6,
                        r = (this._y0 + 4 * this._y1 + n) / 6;
                    this._line ? this._context.lineTo(e, r) : this._context.moveTo(e, r);
                    break;
                case 3:
                    this._point = 4;
                default:
                    Sn(this, t, n)
            }
            this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = n
        }
    }, qn.prototype = {
        lineStart: function() {
            this._x = [], this._y = [], this._basis.lineStart()
        },
        lineEnd: function() {
            var t = this._x,
                n = this._y,
                e = t.length - 1;
            if (e > 0)
                for (var r, i = t[0], o = n[0], u = t[e] - i, a = n[e] - o, c = -1; ++c <= e;) r = c / e, this._basis.point(this._beta * t[c] + (1 - this._beta) * (i + r * u), this._beta * n[c] + (1 - this._beta) * (o + r * a));
            this._x = this._y = null, this._basis.lineEnd()
        },
        point: function(t, n) {
            this._x.push(+t), this._y.push(+n)
        }
    };
    var jv = function t(n) {
        function e(t) {
            return 1 === n ? new Nn(t) : new qn(t, n)
        }
        return e.beta = function(n) {
            return t(+n)
        }, e
    }(.85);
    Rn.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
                case 2:
                    this._context.lineTo(this._x2, this._y2);
                    break;
                case 3:
                    Ln(this, this._x1, this._y1)
            }(this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line
        },
        point: function(t, n) {
            switch (t = +t, n = +n, this._point) {
                case 0:
                    this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n);
                    break;
                case 1:
                    this._point = 2, this._x1 = t, this._y1 = n;
                    break;
                case 2:
                    this._point = 3;
                default:
                    Ln(this, t, n)
            }
            this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n
        }
    };
    var Hv = function t(n) {
        function e(t) {
            return new Rn(t, n)
        }
        return e.tension = function(n) {
            return t(+n)
        }, e
    }(0);
    Un.prototype = {
        areaStart: kn,
        areaEnd: kn,
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
                case 1:
                    this._context.moveTo(this._x3, this._y3), this._context.closePath();
                    break;
                case 2:
                    this._context.lineTo(this._x3, this._y3), this._context.closePath();
                    break;
                case 3:
                    this.point(this._x3, this._y3), this.point(this._x4, this._y4), this.point(this._x5, this._y5)
            }
        },
        point: function(t, n) {
            switch (t = +t, n = +n, this._point) {
                case 0:
                    this._point = 1, this._x3 = t, this._y3 = n;
                    break;
                case 1:
                    this._point = 2, this._context.moveTo(this._x4 = t, this._y4 = n);
                    break;
                case 2:
                    this._point = 3, this._x5 = t, this._y5 = n;
                    break;
                default:
                    Ln(this, t, n)
            }
            this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n
        }
    };
    var Xv = function t(n) {
        function e(t) {
            return new Un(t, n)
        }
        return e.tension = function(n) {
            return t(+n)
        }, e
    }(0);
    Dn.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._point = 0
        },
        lineEnd: function() {
            (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line
        },
        point: function(t, n) {
            switch (t = +t, n = +n, this._point) {
                case 0:
                    this._point = 1;
                    break;
                case 1:
                    this._point = 2;
                    break;
                case 2:
                    this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
                    break;
                case 3:
                    this._point = 4;
                default:
                    Ln(this, t, n)
            }
            this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n
        }
    };
    var Vv = function t(n) {
        function e(t) {
            return new Dn(t, n)
        }
        return e.tension = function(n) {
            return t(+n)
        }, e
    }(0);
    Fn.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
                case 2:
                    this._context.lineTo(this._x2, this._y2);
                    break;
                case 3:
                    this.point(this, this._x2, this._y2)
            }(this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line
        },
        point: function(t, n) {
            if (t = +t, n = +n, this._point) {
                var e = this._x2 - t,
                    r = this._y2 - n;
                this._l23_a = Math.sqrt(this._l23_2a = Math.pow(e * e + r * r, this._alpha))
            }
            switch (this._point) {
                case 0:
                    this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n);
                    break;
                case 1:
                    this._point = 2;
                    break;
                case 2:
                    this._point = 3;
                default:
                    On(this, t, n)
            }
            this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n
        }
    };
    var Wv = function t(n) {
        function e(t) {
            return n ? new Fn(t, n) : new Rn(t, 0)
        }
        return e.alpha = function(n) {
            return t(+n)
        }, e
    }(.5);
    In.prototype = {
        areaStart: kn,
        areaEnd: kn,
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
                case 1:
                    this._context.moveTo(this._x3, this._y3), this._context.closePath();
                    break;
                case 2:
                    this._context.lineTo(this._x3, this._y3), this._context.closePath();
                    break;
                case 3:
                    this.point(this._x3, this._y3), this.point(this._x4, this._y4), this.point(this._x5, this._y5)
            }
        },
        point: function(t, n) {
            if (t = +t, n = +n, this._point) {
                var e = this._x2 - t,
                    r = this._y2 - n;
                this._l23_a = Math.sqrt(this._l23_2a = Math.pow(e * e + r * r, this._alpha))
            }
            switch (this._point) {
                case 0:
                    this._point = 1, this._x3 = t, this._y3 = n;
                    break;
                case 1:
                    this._point = 2, this._context.moveTo(this._x4 = t, this._y4 = n);
                    break;
                case 2:
                    this._point = 3, this._x5 = t, this._y5 = n;
                    break;
                default:
                    On(this, t, n)
            }
            this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n
        }
    };
    var $v = function t(n) {
        function e(t) {
            return n ? new In(t, n) : new Un(t, 0)
        }
        return e.alpha = function(n) {
            return t(+n)
        }, e
    }(.5);
    Yn.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN, this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0
        },
        lineEnd: function() {
            (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(), this._line = 1 - this._line
        },
        point: function(t, n) {
            if (t = +t, n = +n, this._point) {
                var e = this._x2 - t,
                    r = this._y2 - n;
                this._l23_a = Math.sqrt(this._l23_2a = Math.pow(e * e + r * r, this._alpha))
            }
            switch (this._point) {
                case 0:
                    this._point = 1;
                    break;
                case 1:
                    this._point = 2;
                    break;
                case 2:
                    this._point = 3, this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
                    break;
                case 3:
                    this._point = 4;
                default:
                    On(this, t, n)
            }
            this._l01_a = this._l12_a, this._l12_a = this._l23_a, this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a, this._x0 = this._x1, this._x1 = this._x2, this._x2 = t, this._y0 = this._y1, this._y1 = this._y2, this._y2 = n
        }
    };
    var Zv = function t(n) {
        function e(t) {
            return n ? new Yn(t, n) : new Dn(t, 0)
        }
        return e.alpha = function(n) {
            return t(+n)
        }, e
    }(.5);
    Bn.prototype = {
        areaStart: kn,
        areaEnd: kn,
        lineStart: function() {
            this._point = 0
        },
        lineEnd: function() {
            this._point && this._context.closePath()
        },
        point: function(t, n) {
            t = +t, n = +n, this._point ? this._context.lineTo(t, n) : (this._point = 1, this._context.moveTo(t, n))
        }
    }, $n.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN, this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
                case 2:
                    this._context.lineTo(this._x1, this._y1);
                    break;
                case 3:
                    Wn(this, this._t0, Vn(this, this._t0))
            }(this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line = 1 - this._line
        },
        point: function(t, n) {
            var e = NaN;
            if (t = +t, n = +n, t !== this._x1 || n !== this._y1) {
                switch (this._point) {
                    case 0:
                        this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n);
                        break;
                    case 1:
                        this._point = 2;
                        break;
                    case 2:
                        this._point = 3, Wn(this, Vn(this, e = Xn(this, t, n)), e);
                        break;
                    default:
                        Wn(this, this._t0, e = Xn(this, t, n))
                }
                this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = n, this._t0 = e
            }
        }
    }, (Zn.prototype = Object.create($n.prototype)).point = function(t, n) {
        $n.prototype.point.call(this, n, t)
    }, Gn.prototype = {
        moveTo: function(t, n) {
            this._context.moveTo(n, t)
        },
        closePath: function() {
            this._context.closePath()
        },
        lineTo: function(t, n) {
            this._context.lineTo(n, t)
        },
        bezierCurveTo: function(t, n, e, r, i, o) {
            this._context.bezierCurveTo(n, t, r, e, o, i)
        }
    }, Kn.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x = [], this._y = []
        },
        lineEnd: function() {
            var t = this._x,
                n = this._y,
                e = t.length;
            if (e)
                if (this._line ? this._context.lineTo(t[0], n[0]) : this._context.moveTo(t[0], n[0]), 2 === e) this._context.lineTo(t[1], n[1]);
                else
                    for (var r = te(t), i = te(n), o = 0, u = 1; u < e; ++o, ++u) this._context.bezierCurveTo(r[0][o], i[0][o], r[1][o], i[1][o], t[u], n[u]);
            (this._line || 0 !== this._line && 1 === e) && this._context.closePath(), this._line = 1 - this._line, this._x = this._y = null
        },
        point: function(t, n) {
            this._x.push(+t), this._y.push(+n)
        }
    }, ee.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x = this._y = NaN, this._point = 0
        },
        lineEnd: function() {
            0 < this._t && this._t < 1 && 2 === this._point && this._context.lineTo(this._x, this._y), (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), this._line >= 0 && (this._t = 1 - this._t, this._line = 1 - this._line)
        },
        point: function(t, n) {
            switch (t = +t, n = +n, this._point) {
                case 0:
                    this._point = 1, this._line ? this._context.lineTo(t, n) : this._context.moveTo(t, n);
                    break;
                case 1:
                    this._point = 2;
                default:
                    if (this._t <= 0) this._context.lineTo(this._x, n), this._context.lineTo(t, n);
                    else {
                        var e = this._x * (1 - this._t) + t * this._t;
                        this._context.lineTo(e, this._y), this._context.lineTo(e, n)
                    }
            }
            this._x = t, this._y = n
        }
    };
    var Gv = Array.prototype.slice,
        Jv = .7,
        Qv = 1 / Jv,
        Kv = /^#([0-9a-f]{3})$/,
        t_ = /^#([0-9a-f]{6})$/,
        n_ = /^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,
        e_ = /^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,
        r_ = /^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,
        i_ = /^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,
        o_ = /^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,
        u_ = /^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,
        a_ = {
            aliceblue: 15792383,
            antiquewhite: 16444375,
            aqua: 65535,
            aquamarine: 8388564,
            azure: 15794175,
            beige: 16119260,
            bisque: 16770244,
            black: 0,
            blanchedalmond: 16772045,
            blue: 255,
            blueviolet: 9055202,
            brown: 10824234,
            burlywood: 14596231,
            cadetblue: 6266528,
            chartreuse: 8388352,
            chocolate: 13789470,
            coral: 16744272,
            cornflowerblue: 6591981,
            cornsilk: 16775388,
            crimson: 14423100,
            cyan: 65535,
            darkblue: 139,
            darkcyan: 35723,
            darkgoldenrod: 12092939,
            darkgray: 11119017,
            darkgreen: 25600,
            darkgrey: 11119017,
            darkkhaki: 12433259,
            darkmagenta: 9109643,
            darkolivegreen: 5597999,
            darkorange: 16747520,
            darkorchid: 10040012,
            darkred: 9109504,
            darksalmon: 15308410,
            darkseagreen: 9419919,
            darkslateblue: 4734347,
            darkslategray: 3100495,
            darkslategrey: 3100495,
            darkturquoise: 52945,
            darkviolet: 9699539,
            deeppink: 16716947,
            deepskyblue: 49151,
            dimgray: 6908265,
            dimgrey: 6908265,
            dodgerblue: 2003199,
            firebrick: 11674146,
            floralwhite: 16775920,
            forestgreen: 2263842,
            fuchsia: 16711935,
            gainsboro: 14474460,
            ghostwhite: 16316671,
            gold: 16766720,
            goldenrod: 14329120,
            gray: 8421504,
            green: 32768,
            greenyellow: 11403055,
            grey: 8421504,
            honeydew: 15794160,
            hotpink: 16738740,
            indianred: 13458524,
            indigo: 4915330,
            ivory: 16777200,
            khaki: 15787660,
            lavender: 15132410,
            lavenderblush: 16773365,
            lawngreen: 8190976,
            lemonchiffon: 16775885,
            lightblue: 11393254,
            lightcoral: 15761536,
            lightcyan: 14745599,
            lightgoldenrodyellow: 16448210,
            lightgray: 13882323,
            lightgreen: 9498256,
            lightgrey: 13882323,
            lightpink: 16758465,
            lightsalmon: 16752762,
            lightseagreen: 2142890,
            lightskyblue: 8900346,
            lightslategray: 7833753,
            lightslategrey: 7833753,
            lightsteelblue: 11584734,
            lightyellow: 16777184,
            lime: 65280,
            limegreen: 3329330,
            linen: 16445670,
            magenta: 16711935,
            maroon: 8388608,
            mediumaquamarine: 6737322,
            mediumblue: 205,
            mediumorchid: 12211667,
            mediumpurple: 9662683,
            mediumseagreen: 3978097,
            mediumslateblue: 8087790,
            mediumspringgreen: 64154,
            mediumturquoise: 4772300,
            mediumvioletred: 13047173,
            midnightblue: 1644912,
            mintcream: 16121850,
            mistyrose: 16770273,
            moccasin: 16770229,
            navajowhite: 16768685,
            navy: 128,
            oldlace: 16643558,
            olive: 8421376,
            olivedrab: 7048739,
            orange: 16753920,
            orangered: 16729344,
            orchid: 14315734,
            palegoldenrod: 15657130,
            palegreen: 10025880,
            paleturquoise: 11529966,
            palevioletred: 14381203,
            papayawhip: 16773077,
            peachpuff: 16767673,
            peru: 13468991,
            pink: 16761035,
            plum: 14524637,
            powderblue: 11591910,
            purple: 8388736,
            rebeccapurple: 6697881,
            red: 16711680,
            rosybrown: 12357519,
            royalblue: 4286945,
            saddlebrown: 9127187,
            salmon: 16416882,
            sandybrown: 16032864,
            seagreen: 3050327,
            seashell: 16774638,
            sienna: 10506797,
            silver: 12632256,
            skyblue: 8900331,
            slateblue: 6970061,
            slategray: 7372944,
            slategrey: 7372944,
            snow: 16775930,
            springgreen: 65407,
            steelblue: 4620980,
            tan: 13808780,
            teal: 32896,
            thistle: 14204888,
            tomato: 16737095,
            turquoise: 4251856,
            violet: 15631086,
            wheat: 16113331,
            white: 16777215,
            whitesmoke: 16119285,
            yellow: 16776960,
            yellowgreen: 10145074
        };
    ge(xe, be, {
        displayable: function() {
            return this.rgb().displayable()
        },
        toString: function() {
            return this.rgb() + ""
        }
    }), ge(Se, ke, me(xe, {
        brighter: function(t) {
            return t = null == t ? Qv : Math.pow(Qv, t), new Se(this.r * t, this.g * t, this.b * t, this.opacity)
        },
        darker: function(t) {
            return t = null == t ? Jv : Math.pow(Jv, t), new Se(this.r * t, this.g * t, this.b * t, this.opacity)
        },
        rgb: function() {
            return this
        },
        displayable: function() {
            return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255 && 0 <= this.opacity && this.opacity <= 1
        },
        toString: function() {
            var t = this.opacity;
            return t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t)), (1 === t ? "rgb(" : "rgba(") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (1 === t ? ")" : ", " + t + ")")
        }
    })), ge(Ce, Ee, me(xe, {
        brighter: function(t) {
            return t = null == t ? Qv : Math.pow(Qv, t), new Ce(this.h, this.s, this.l * t, this.opacity)
        },
        darker: function(t) {
            return t = null == t ? Jv : Math.pow(Jv, t), new Ce(this.h, this.s, this.l * t, this.opacity)
        },
        rgb: function() {
            var t = this.h % 360 + 360 * (this.h < 0),
                n = isNaN(t) || isNaN(this.s) ? 0 : this.s,
                e = this.l,
                r = e + (e < .5 ? e : 1 - e) * n,
                i = 2 * e - r;
            return new Se(ze(t >= 240 ? t - 240 : t + 120, i, r), ze(t, i, r), ze(t < 120 ? t + 240 : t - 120, i, r), this.opacity)
        },
        displayable: function() {
            return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1
        }
    }));
    var c_ = Math.PI / 180,
        s_ = 180 / Math.PI,
        f_ = 18,
        l_ = .95047,
        h_ = 1,
        p_ = 1.08883,
        d_ = 4 / 29,
        v_ = 6 / 29,
        __ = 3 * v_ * v_,
        y_ = v_ * v_ * v_;
    ge(Le, qe, me(xe, {
        brighter: function(t) {
            return new Le(this.l + f_ * (null == t ? 1 : t), this.a, this.b, this.opacity)
        },
        darker: function(t) {
            return new Le(this.l - f_ * (null == t ? 1 : t), this.a, this.b, this.opacity)
        },
        rgb: function() {
            var t = (this.l + 16) / 116,
                n = isNaN(this.a) ? t : t + this.a / 500,
                e = isNaN(this.b) ? t : t - this.b / 200;
            return t = h_ * Ue(t), n = l_ * Ue(n), e = p_ * Ue(e), new Se(De(3.2404542 * n - 1.5371385 * t - .4985314 * e), De(-.969266 * n + 1.8760108 * t + .041556 * e), De(.0556434 * n - .2040259 * t + 1.0572252 * e), this.opacity)
        }
    })), ge(Ye, Ie, me(xe, {
        brighter: function(t) {
            return new Ye(this.h, this.c, this.l + f_ * (null == t ? 1 : t), this.opacity)
        },
        darker: function(t) {
            return new Ye(this.h, this.c, this.l - f_ * (null == t ? 1 : t), this.opacity)
        },
        rgb: function() {
            return Pe(this).rgb()
        }
    }));
    var g_ = -.14861,
        m_ = 1.78277,
        x_ = -.29227,
        b_ = -.90649,
        w_ = 1.97294,
        M_ = w_ * b_,
        T_ = w_ * m_,
        k_ = m_ * x_ - b_ * g_;
    ge(He, je, me(xe, {
        brighter: function(t) {
            return t = null == t ? Qv : Math.pow(Qv, t), new He(this.h, this.s, this.l * t, this.opacity)
        },
        darker: function(t) {
            return t = null == t ? Jv : Math.pow(Jv, t), new He(this.h, this.s, this.l * t, this.opacity)
        },
        rgb: function() {
            var t = isNaN(this.h) ? 0 : (this.h + 120) * c_,
                n = +this.l,
                e = isNaN(this.s) ? 0 : this.s * n * (1 - n),
                r = Math.cos(t),
                i = Math.sin(t);
            return new Se(255 * (n + e * (g_ * r + m_ * i)), 255 * (n + e * (x_ * r + b_ * i)), 255 * (n + e * (w_ * r)), this.opacity)
        }
    }));
    var S_, N_, A_, E_, C_ = function t(n) {
            function e(t, n) {
                var e = r((t = ke(t)).r, (n = ke(n)).r),
                    i = r(t.g, n.g),
                    o = r(t.b, n.b),
                    u = r(t.opacity, n.opacity);
                return function(n) {
                    return t.r = e(n), t.g = i(n), t.b = o(n), t.opacity = u(n), t + ""
                }
            }
            var r = Qe(n);
            return e.gamma = t, e
        }(1),
        z_ = tr(Ve),
        P_ = tr(We),
        q_ = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
        L_ = new RegExp(q_.source, "g"),
        R_ = 180 / Math.PI,
        U_ = {
            translateX: 0,
            translateY: 0,
            rotate: 0,
            skewX: 0,
            scaleX: 1,
            scaleY: 1
        },
        D_ = pr(lr, "px, ", "px)", "deg)"),
        O_ = pr(hr, ", ", ")", ")"),
        F_ = Math.SQRT2,
        I_ = 2,
        Y_ = 4,
        B_ = 1e-12,
        j_ = gr(Je),
        H_ = gr(Ke),
        X_ = xr(Je),
        V_ = xr(Ke),
        W_ = br(Je),
        $_ = br(Ke),
        Z_ = {
            value: function() {}
        };
    Tr.prototype = Mr.prototype = {
        constructor: Tr,
        on: function(t, n) {
            var e, r = this._,
                i = kr(t + "", r),
                o = -1,
                u = i.length; {
                if (!(arguments.length < 2)) {
                    if (null != n && "function" != typeof n) throw new Error("invalid callback: " + n);
                    for (; ++o < u;)
                        if (e = (t = i[o]).type) r[e] = Nr(r[e], t.name, n);
                        else if (null == n)
                        for (e in r) r[e] = Nr(r[e], t.name, null);
                    return this
                }
                for (; ++o < u;)
                    if ((e = (t = i[o]).type) && (e = Sr(r[e], t.name))) return e
            }
        },
        copy: function() {
            var t = {},
                n = this._;
            for (var e in n) t[e] = n[e].slice();
            return new Tr(t)
        },
        call: function(t, n) {
            if ((e = arguments.length - 2) > 0)
                for (var e, r, i = new Array(e), o = 0; o < e; ++o) i[o] = arguments[o + 2];
            if (!this._.hasOwnProperty(t)) throw new Error("unknown type: " + t);
            for (r = this._[t], o = 0, e = r.length; o < e; ++o) r[o].value.apply(n, i)
        },
        apply: function(t, n, e) {
            if (!this._.hasOwnProperty(t)) throw new Error("unknown type: " + t);
            for (var r = this._[t], i = 0, o = r.length; i < o; ++i) r[i].value.apply(n, e)
        }
    };
    var G_, J_, Q_ = zr(","),
        K_ = Q_.parse,
        ty = Q_.parseRows,
        ny = Q_.format,
        ey = Q_.formatRows,
        ry = zr("\t"),
        iy = ry.parse,
        oy = ry.parseRows,
        uy = ry.format,
        ay = ry.formatRows,
        cy = Rr("text/html", function(t) {
            return document.createRange().createContextualFragment(t.responseText)
        }),
        sy = Rr("application/json", function(t) {
            return JSON.parse(t.responseText)
        }),
        fy = Rr("text/plain", function(t) {
            return t.responseText
        }),
        ly = Rr("application/xml", function(t) {
            var n = t.responseXML;
            if (!n) throw new Error("parse error");
            return n
        }),
        hy = Ur("text/csv", K_),
        py = Ur("text/tab-separated-values", iy),
        dy = 0,
        vy = 0,
        _y = 0,
        yy = 1e3,
        gy = 0,
        my = 0,
        xy = 0,
        by = "object" == typeof performance && performance.now ? performance : Date,
        wy = "function" == typeof requestAnimationFrame ? by === Date ? function(t) {
            requestAnimationFrame(function() {
                t(by.now())
            })
        } : requestAnimationFrame : function(t) {
            setTimeout(t, 17)
        };
    Ir.prototype = Yr.prototype = {
        constructor: Ir,
        restart: function(t, n, e) {
            if ("function" != typeof t) throw new TypeError("callback is not a function");
            e = (null == e ? Or() : +e) + (null == n ? 0 : +n), this._next || J_ === this || (J_ ? J_._next = this : G_ = this, J_ = this), this._call = t, this._time = e, Vr()
        },
        stop: function() {
            this._call && (this._call = null, this._time = 1 / 0, Vr())
        }
    };
    var My = new Date,
        Ty = new Date,
        ky = Zr(function() {}, function(t, n) {
            t.setTime(+t + n)
        }, function(t, n) {
            return n - t
        });
    ky.every = function(t) {
        return t = Math.floor(t), isFinite(t) && t > 0 ? t > 1 ? Zr(function(n) {
            n.setTime(Math.floor(n / t) * t)
        }, function(n, e) {
            n.setTime(+n + e * t)
        }, function(n, e) {
            return (e - n) / t
        }) : ky : null
    };
    var Sy = ky.range,
        Ny = 1e3,
        Ay = 6e4,
        Ey = 36e5,
        Cy = 864e5,
        zy = 6048e5,
        Py = Zr(function(t) {
            t.setTime(Math.floor(t / Ny) * Ny)
        }, function(t, n) {
            t.setTime(+t + n * Ny)
        }, function(t, n) {
            return (n - t) / Ny
        }, function(t) {
            return t.getUTCSeconds()
        }),
        qy = Py.range,
        Ly = Zr(function(t) {
            t.setTime(Math.floor(t / Ay) * Ay)
        }, function(t, n) {
            t.setTime(+t + n * Ay)
        }, function(t, n) {
            return (n - t) / Ay
        }, function(t) {
            return t.getMinutes()
        }),
        Ry = Ly.range,
        Uy = Zr(function(t) {
            var n = t.getTimezoneOffset() * Ay % Ey;
            n < 0 && (n += Ey), t.setTime(Math.floor((+t - n) / Ey) * Ey + n)
        }, function(t, n) {
            t.setTime(+t + n * Ey)
        }, function(t, n) {
            return (n - t) / Ey
        }, function(t) {
            return t.getHours()
        }),
        Dy = Uy.range,
        Oy = Zr(function(t) {
            t.setHours(0, 0, 0, 0)
        }, function(t, n) {
            t.setDate(t.getDate() + n)
        }, function(t, n) {
            return (n - t - (n.getTimezoneOffset() - t.getTimezoneOffset()) * Ay) / Cy
        }, function(t) {
            return t.getDate() - 1
        }),
        Fy = Oy.range,
        Iy = Gr(0),
        Yy = Gr(1),
        By = Gr(2),
        jy = Gr(3),
        Hy = Gr(4),
        Xy = Gr(5),
        Vy = Gr(6),
        Wy = Iy.range,
        $y = Yy.range,
        Zy = By.range,
        Gy = jy.range,
        Jy = Hy.range,
        Qy = Xy.range,
        Ky = Vy.range,
        tg = Zr(function(t) {
            t.setDate(1), t.setHours(0, 0, 0, 0)
        }, function(t, n) {
            t.setMonth(t.getMonth() + n)
        }, function(t, n) {
            return n.getMonth() - t.getMonth() + 12 * (n.getFullYear() - t.getFullYear())
        }, function(t) {
            return t.getMonth()
        }),
        ng = tg.range,
        eg = Zr(function(t) {
            t.setMonth(0, 1), t.setHours(0, 0, 0, 0)
        }, function(t, n) {
            t.setFullYear(t.getFullYear() + n)
        }, function(t, n) {
            return n.getFullYear() - t.getFullYear()
        }, function(t) {
            return t.getFullYear()
        });
    eg.every = function(t) {
        return isFinite(t = Math.floor(t)) && t > 0 ? Zr(function(n) {
            n.setFullYear(Math.floor(n.getFullYear() / t) * t), n.setMonth(0, 1), n.setHours(0, 0, 0, 0)
        }, function(n, e) {
            n.setFullYear(n.getFullYear() + e * t)
        }) : null
    };
    var rg = eg.range,
        ig = Zr(function(t) {
            t.setUTCSeconds(0, 0)
        }, function(t, n) {
            t.setTime(+t + n * Ay)
        }, function(t, n) {
            return (n - t) / Ay
        }, function(t) {
            return t.getUTCMinutes()
        }),
        og = ig.range,
        ug = Zr(function(t) {
            t.setUTCMinutes(0, 0, 0)
        }, function(t, n) {
            t.setTime(+t + n * Ey)
        }, function(t, n) {
            return (n - t) / Ey
        }, function(t) {
            return t.getUTCHours()
        }),
        ag = ug.range,
        cg = Zr(function(t) {
            t.setUTCHours(0, 0, 0, 0)
        }, function(t, n) {
            t.setUTCDate(t.getUTCDate() + n)
        }, function(t, n) {
            return (n - t) / Cy
        }, function(t) {
            return t.getUTCDate() - 1
        }),
        sg = cg.range,
        fg = Jr(0),
        lg = Jr(1),
        hg = Jr(2),
        pg = Jr(3),
        dg = Jr(4),
        vg = Jr(5),
        _g = Jr(6),
        yg = fg.range,
        gg = lg.range,
        mg = hg.range,
        xg = pg.range,
        bg = dg.range,
        wg = vg.range,
        Mg = _g.range,
        Tg = Zr(function(t) {
            t.setUTCDate(1), t.setUTCHours(0, 0, 0, 0)
        }, function(t, n) {
            t.setUTCMonth(t.getUTCMonth() + n)
        }, function(t, n) {
            return n.getUTCMonth() - t.getUTCMonth() + 12 * (n.getUTCFullYear() - t.getUTCFullYear())
        }, function(t) {
            return t.getUTCMonth()
        }),
        kg = Tg.range,
        Sg = Zr(function(t) {
            t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0)
        }, function(t, n) {
            t.setUTCFullYear(t.getUTCFullYear() + n)
        }, function(t, n) {
            return n.getUTCFullYear() - t.getUTCFullYear()
        }, function(t) {
            return t.getUTCFullYear()
        });
    Sg.every = function(t) {
        return isFinite(t = Math.floor(t)) && t > 0 ? Zr(function(n) {
            n.setUTCFullYear(Math.floor(n.getUTCFullYear() / t) * t), n.setUTCMonth(0, 1), n.setUTCHours(0, 0, 0, 0)
        }, function(n, e) {
            n.setUTCFullYear(n.getUTCFullYear() + e * t)
        }) : null
    };
    var Ng, Ag = Sg.range,
        Eg = {
            "": ni,
            "%": function(t, n) {
                return (100 * t).toFixed(n)
            },
            b: function(t) {
                return Math.round(t).toString(2)
            },
            c: function(t) {
                return t + ""
            },
            d: function(t) {
                return Math.round(t).toString(10)
            },
            e: function(t, n) {
                return t.toExponential(n)
            },
            f: function(t, n) {
                return t.toFixed(n)
            },
            g: function(t, n) {
                return t.toPrecision(n)
            },
            o: function(t) {
                return Math.round(t).toString(8)
            },
            p: function(t, n) {
                return ri(100 * t, n)
            },
            r: ri,
            s: ei,
            X: function(t) {
                return Math.round(t).toString(16).toUpperCase()
            },
            x: function(t) {
                return Math.round(t).toString(16)
            }
        },
        Cg = /^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;
    oi.prototype.toString = function() {
        return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (null == this.width ? "" : Math.max(1, 0 | this.width)) + (this.comma ? "," : "") + (null == this.precision ? "" : "." + Math.max(0, 0 | this.precision)) + this.type
    };
    var zg, Pg = ["y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
    ci({
        decimal: ".",
        thousands: ",",
        grouping: [3],
        currency: ["$", ""]
    });
    var qg, Lg = {
            "-": "",
            _: " ",
            0: "0"
        },
        Rg = /^\s*\d+/,
        Ug = /^%/,
        Dg = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;
    so({
        dateTime: "%x, %X",
        date: "%-m/%-d/%Y",
        time: "%-I:%M:%S %p",
        periods: ["AM", "PM"],
        days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
    });
    var Og = "%Y-%m-%dT%H:%M:%S.%LZ",
        Fg = Date.prototype.toISOString ? fo : t.utcFormat(Og),
        Ig = +new Date("2000-01-01T00:00:00.000Z") ? lo : t.utcParse(Og),
        Yg = Array.prototype,
        Bg = Yg.map,
        jg = Yg.slice,
        Hg = {
            name: "implicit"
        },
        Xg = [0, 1],
        Vg = 1e3,
        Wg = 60 * Vg,
        $g = 60 * Wg,
        Zg = 24 * $g,
        Gg = 7 * Zg,
        Jg = 30 * Zg,
        Qg = 365 * Zg,
        Kg = Zo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),
        tm = Zo("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),
        nm = Zo("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),
        em = Zo("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),
        rm = $_(je(300, .5, 0), je(-240, .5, 1)),
        im = $_(je(-100, .75, .35), je(80, 1.5, .8)),
        om = $_(je(260, .75, .35), je(80, 1.5, .8)),
        um = je(),
        am = Jo(Zo("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),
        cm = Jo(Zo("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),
        sm = Jo(Zo("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),
        fm = Jo(Zo("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),
        lm = "http://www.w3.org/1999/xhtml",
        hm = {
            svg: "http://www.w3.org/2000/svg",
            xhtml: lm,
            xlink: "http://www.w3.org/1999/xlink",
            xml: "http://www.w3.org/XML/1998/namespace",
            xmlns: "http://www.w3.org/2000/xmlns/"
        },
        pm = 0;
    iu.prototype = ru.prototype = {
        constructor: iu,
        get: function(t) {
            for (var n = this._; !(n in t);)
                if (!(t = t.parentNode)) return;
            return t[n]
        },
        set: function(t, n) {
            return t[this._] = n
        },
        remove: function(t) {
            return this._ in t && delete t[this._]
        },
        toString: function() {
            return this._
        }
    };
    var dm = function(t) {
        return function() {
            return this.matches(t)
        }
    };
    if ("undefined" != typeof document) {
        var vm = document.documentElement;
        if (!vm.matches) {
            var _m = vm.webkitMatchesSelector || vm.msMatchesSelector || vm.mozMatchesSelector || vm.oMatchesSelector;
            dm = function(t) {
                return function() {
                    return _m.call(this, t)
                }
            }
        }
    }
    var ym = dm,
        gm = {};
    if (t.event = null, "undefined" != typeof document) {
        var mm = document.documentElement;
        "onmouseenter" in mm || (gm = {
            mouseenter: "mouseover",
            mouseleave: "mouseout"
        })
    }
    Tu.prototype = {
        constructor: Tu,
        appendChild: function(t) {
            return this._parent.insertBefore(t, this._next)
        },
        insertBefore: function(t, n) {
            return this._parent.insertBefore(t, n)
        },
        querySelector: function(t) {
            return this._parent.querySelector(t)
        },
        querySelectorAll: function(t) {
            return this._parent.querySelectorAll(t)
        }
    };
    var xm = "$";
    ia.prototype = {
        add: function(t) {
            var n = this._names.indexOf(t);
            n < 0 && (this._names.push(t), this._node.setAttribute("class", this._names.join(" ")))
        },
        remove: function(t) {
            var n = this._names.indexOf(t);
            n >= 0 && (this._names.splice(n, 1), this._node.setAttribute("class", this._names.join(" ")))
        },
        contains: function(t) {
            return this._names.indexOf(t) >= 0
        }
    };
    var bm = [null];
    qa.prototype = La.prototype = {
        constructor: qa,
        select: yu,
        selectAll: xu,
        filter: bu,
        data: Au,
        enter: Mu,
        exit: Eu,
        merge: Cu,
        order: zu,
        sort: Pu,
        call: Lu,
        nodes: Ru,
        node: Uu,
        size: Du,
        empty: Ou,
        each: Fu,
        attr: Vu,
        style: Ju,
        property: na,
        classed: fa,
        text: da,
        html: ga,
        raise: xa,
        lower: wa,
        append: Ma,
        insert: ka,
        remove: Na,
        datum: Aa,
        on: fu,
        dispatch: Pa
    };
    var wm = Mr("start", "end", "interrupt"),
        Mm = [],
        Tm = 0,
        km = 1,
        Sm = 2,
        Nm = 3,
        Am = 4,
        Em = 5,
        Cm = La.prototype.constructor,
        zm = 0,
        Pm = La.prototype;
    Uc.prototype = Dc.prototype = {
        constructor: Uc,
        select: wc,
        selectAll: Mc,
        filter: vc,
        merge: _c,
        selection: Tc,
        transition: Rc,
        call: Pm.call,
        nodes: Pm.nodes,
        node: Pm.node,
        size: Pm.size,
        empty: Pm.empty,
        each: Pm.each,
        on: mc,
        attr: rc,
        attrTween: uc,
        style: Ec,
        styleTween: zc,
        text: Lc,
        remove: bc,
        tween: $a,
        delay: sc,
        duration: hc,
        ease: dc
    };
    var qm = {
        time: null,
        delay: 0,
        duration: 250,
        ease: et
    };
    La.prototype.interrupt = Xa, La.prototype.transition = Ic;
    var Lm = [null],
        Rm = Array.prototype.slice,
        Um = 1,
        Dm = 2,
        Om = 3,
        Fm = 4,
        Im = 1e-6;
    ws.prototype = ys.prototype = {
        constructor: ws,
        each: us,
        eachAfter: cs,
        eachBefore: as,
        sum: ss,
        sort: fs,
        path: ls,
        ancestors: ps,
        descendants: ds,
        leaves: vs,
        links: _s,
        copy: gs
    };
    var Ym = "$",
        Bm = {
            depth: -1
        },
        jm = {}; of .prototype = Object.create(ws.prototype);
    var Hm = (1 + Math.sqrt(5)) / 2,
        Xm = function t(n) {
            function e(t, e, r, i, o) {
                sf(n, t, e, r, i, o)
            }
            return e.ratio = function(n) {
                return t((n = +n) > 1 ? n : 1)
            }, e
        }(Hm),
        Vm = function t(n) {
            function e(t, e, r, i, o) {
                if ((u = t._squarify) && u.ratio === n)
                    for (var u, a, c, s, f, l = -1, h = u.length, p = t.value; ++l < h;) {
                        for (a = u[l], c = a.children, s = a.value = 0, f = c.length; s < f; ++s) a.value += c[s].value;
                        a.dice ? Ws(a, e, r, i, r += (o - r) * a.value / p) : cf(a, e, r, e += (i - e) * a.value / p, o), p -= a.value
                    } else t._squarify = u = sf(n, t, e, r, i, o), u.ratio = n
            }
            return e.ratio = function(n) {
                return t((n = +n) > 1 ? n : 1)
            }, e
        }(Hm),
        Wm = 10,
        $m = Math.PI * (3 - Math.sqrt(5));
    Pf.prototype.on = function() {
        var t = this._.on.apply(this._, arguments);
        return t === this._ ? this : t
    }, If.prototype = {
        constructor: If,
        insert: function(t, n) {
            var e, r, i;
            if (t) {
                if (n.P = t, n.N = t.N, t.N && (t.N.P = n), t.N = n, t.R) {
                    for (t = t.R; t.L;) t = t.L;
                    t.L = n
                } else t.R = n;
                e = t
            } else this._ ? (t = Hf(this._), n.P = null, n.N = t, t.P = t.L = n, e = t) : (n.P = n.N = null, this._ = n, e = null);
            for (n.L = n.R = null, n.U = e, n.C = !0, t = n; e && e.C;) r = e.U, e === r.L ? (i = r.R, i && i.C ? (e.C = i.C = !1, r.C = !0, t = r) : (t === e.R && (Bf(this, e), t = e, e = t.U), e.C = !1, r.C = !0, jf(this, r))) : (i = r.L, i && i.C ? (e.C = i.C = !1, r.C = !0, t = r) : (t === e.L && (jf(this, e), t = e, e = t.U), e.C = !1, r.C = !0, Bf(this, r))), e = t.U;
            this._.C = !1
        },
        remove: function(t) {
            t.N && (t.N.P = t.P), t.P && (t.P.N = t.N), t.N = t.P = null;
            var n, e, r, i = t.U,
                o = t.L,
                u = t.R;
            if (e = o ? u ? Hf(u) : o : u, i ? i.L === t ? i.L = e : i.R = e : this._ = e, o && u ? (r = e.C, e.C = t.C, e.L = o, o.U = e, e !== u ? (i = e.U, e.U = t.U, t = e.R, i.L = t, e.R = u, u.U = e) : (e.U = i, i = e, t = e.R)) : (r = t.C, t = e), t && (t.U = i), !r) {
                if (t && t.C) return void(t.C = !1);
                do {
                    if (t === this._) break;
                    if (t === i.L) {
                        if (n = i.R, n.C && (n.C = !1, i.C = !0, Bf(this, i), n = i.R), n.L && n.L.C || n.R && n.R.C) {
                            n.R && n.R.C || (n.L.C = !1, n.C = !0, jf(this, n), n = i.R), n.C = i.C, i.C = n.R.C = !1, Bf(this, i), t = this._;
                            break
                        }
                    } else if (n = i.L, n.C && (n.C = !1, i.C = !0, jf(this, i), n = i.L), n.L && n.L.C || n.R && n.R.C) {
                        n.L && n.L.C || (n.R.C = !1, n.C = !0, Bf(this, n), n = i.L), n.C = i.C, i.C = n.L.C = !1, jf(this, i), t = this._;
                        break
                    }
                    n.C = !0, t = i, i = i.U
                } while (!t.C);
                t && (t.C = !1)
            }
        }
    };
    var Zm, Gm, Jm, Qm, Km, tx = [],
        nx = [],
        ex = 1e-6,
        rx = 1e-12;
    vl.prototype = {
        constructor: vl,
        polygons: function() {
            var t = this.edges;
            return this.cells.map(function(n) {
                var e = n.halfedges.map(function(e) {
                    return Kf(n, t[e])
                });
                return e.data = n.site.data, e
            })
        },
        triangles: function() {
            var t = [],
                n = this.edges;
            return this.cells.forEach(function(e, r) {
                for (var i, o = e.site, u = e.halfedges, a = -1, c = u.length, s = n[u[c - 1]], f = s.left === o ? s.right : s.left; ++a < c;) i = f, s = n[u[a]], f = s.left === o ? s.right : s.left, r < i.index && r < f.index && pl(o, i, f) < 0 && t.push([o.data, i.data, f.data])
            }), t
        },
        links: function() {
            return this.edges.filter(function(t) {
                return t.right
            }).map(function(t) {
                return {
                    source: t.left.data,
                    target: t.right.data
                }
            })
        }
    }, ml.prototype = {
        constructor: ml,
        scale: function(t) {
            return 1 === t ? this : new ml(this.k * t, this.x, this.y)
        },
        translate: function(t, n) {
            return 0 === t & 0 === n ? this : new ml(this.k, this.x + this.k * t, this.y + this.k * n)
        },
        apply: function(t) {
            return [t[0] * this.k + this.x, t[1] * this.k + this.y]
        },
        applyX: function(t) {
            return t * this.k + this.x
        },
        applyY: function(t) {
            return t * this.k + this.y
        },
        invert: function(t) {
            return [(t[0] - this.x) / this.k, (t[1] - this.y) / this.k]
        },
        invertX: function(t) {
            return (t - this.x) / this.k
        },
        invertY: function(t) {
            return (t - this.y) / this.k
        },
        rescaleX: function(t) {
            return t.copy().domain(t.range().map(this.invertX, this).map(t.invert, t))
        },
        rescaleY: function(t) {
            return t.copy().domain(t.range().map(this.invertY, this).map(t.invert, t))
        },
        toString: function() {
            return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")"
        }
    };
    var ix = new ml(1, 0, 0);
    xl.prototype = ml.prototype;
    var ox = {
            name: "drag"
        },
        ux = {
            name: "space"
        },
        ax = {
            name: "handle"
        },
        cx = {
            name: "center"
        },
        sx = {
            name: "x",
            handles: ["e", "w"].map(zl),
            input: function(t, n) {
                return t && [
                    [t[0], n[0][1]],
                    [t[1], n[1][1]]
                ]
            },
            output: function(t) {
                return t && [t[0][0], t[1][0]]
            }
        },
        fx = {
            name: "y",
            handles: ["n", "s"].map(zl),
            input: function(t, n) {
                return t && [
                    [n[0][0], t[0]],
                    [n[1][0], t[1]]
                ]
            },
            output: function(t) {
                return t && [t[0][1], t[1][1]]
            }
        },
        lx = {
            name: "xy",
            handles: ["n", "e", "s", "w", "nw", "ne", "se", "sw"].map(zl),
            input: function(t) {
                return t
            },
            output: function(t) {
                return t
            }
        },
        hx = {
            overlay: "crosshair",
            selection: "move",
            n: "ns-resize",
            e: "ew-resize",
            s: "ns-resize",
            w: "ew-resize",
            nw: "nwse-resize",
            ne: "nesw-resize",
            se: "nwse-resize",
            sw: "nesw-resize"
        },
        px = {
            e: "w",
            w: "e",
            nw: "ne",
            ne: "nw",
            se: "sw",
            sw: "se"
        },
        dx = {
            n: "s",
            s: "n",
            nw: "sw",
            ne: "se",
            se: "ne",
            sw: "nw"
        },
        vx = {
            overlay: 1,
            selection: 1,
            n: null,
            e: 1,
            s: null,
            w: -1,
            nw: -1,
            ne: 1,
            se: 1,
            sw: -1
        },
        _x = {
            overlay: 1,
            selection: 1,
            n: -1,
            e: null,
            s: 1,
            w: null,
            nw: -1,
            ne: -1,
            se: 1,
            sw: 1
        },
        yx = Math.cos,
        gx = Math.sin,
        mx = Math.PI,
        xx = mx / 2,
        bx = 2 * mx,
        wx = Math.max,
        Mx = Array.prototype.slice;
    Jl.prototype = {
        constructor: Jl,
        reset: function() {
            this.s = this.t = 0
        },
        add: function(t) {
            Ql(nb, t, this.t), Ql(this, nb.s, this.s), this.s ? this.t += nb.t : this.s = nb.t
        },
        valueOf: function() {
            return this.s
        }
    };
    var Tx, kx, Sx, Nx, Ax, Ex, Cx, zx, Px, qx, Lx, Rx, Ux, Dx, Ox, Fx, Ix, Yx, Bx, jx, Hx, Xx, Vx, Wx, $x, Zx, Gx, Jx, Qx, Kx, tb, nb = new Jl,
        eb = 1e-6,
        rb = 1e-12,
        ib = Math.PI,
        ob = ib / 2,
        ub = ib / 4,
        ab = 2 * ib,
        cb = 180 / ib,
        sb = ib / 180,
        fb = Math.abs,
        lb = Math.atan,
        hb = Math.atan2,
        pb = Math.cos,
        db = Math.ceil,
        vb = Math.exp,
        _b = Math.log,
        yb = Math.pow,
        gb = Math.sin,
        mb = Math.sign || function(t) {
            return t > 0 ? 1 : t < 0 ? -1 : 0
        },
        xb = Math.sqrt,
        bb = Math.tan,
        wb = {
            Feature: function(t, n) {
                rh(t.geometry, n)
            },
            FeatureCollection: function(t, n) {
                for (var e = t.features, r = -1, i = e.length; ++r < i;) rh(e[r].geometry, n)
            }
        },
        Mb = {
            Sphere: function(t, n) {
                n.sphere()
            },
            Point: function(t, n) {
                t = t.coordinates, n.point(t[0], t[1], t[2])
            },
            MultiPoint: function(t, n) {
                for (var e = t.coordinates, r = -1, i = e.length; ++r < i;) t = e[r], n.point(t[0], t[1], t[2])
            },
            LineString: function(t, n) {
                ih(t.coordinates, n, 0)
            },
            MultiLineString: function(t, n) {
                for (var e = t.coordinates, r = -1, i = e.length; ++r < i;) ih(e[r], n, 0)
            },
            Polygon: function(t, n) {
                oh(t.coordinates, n)
            },
            MultiPolygon: function(t, n) {
                for (var e = t.coordinates, r = -1, i = e.length; ++r < i;) oh(e[r], n)
            },
            GeometryCollection: function(t, n) {
                for (var e = t.geometries, r = -1, i = e.length; ++r < i;) rh(e[r], n)
            }
        },
        Tb = Gl(),
        kb = Gl(),
        Sb = {
            point: eh,
            lineStart: eh,
            lineEnd: eh,
            polygonStart: function() {
                Tb.reset(), Sb.lineStart = ah, Sb.lineEnd = ch
            },
            polygonEnd: function() {
                var t = +Tb;
                kb.add(t < 0 ? ab + t : t), this.lineStart = this.lineEnd = this.point = eh
            },
            sphere: function() {
                kb.add(ab)
            }
        },
        Nb = Gl(),
        Ab = {
            point: mh,
            lineStart: bh,
            lineEnd: wh,
            polygonStart: function() {
                Ab.point = Mh, Ab.lineStart = Th, Ab.lineEnd = kh, Nb.reset(), Sb.polygonStart()
            },
            polygonEnd: function() {
                Sb.polygonEnd(), Ab.point = mh, Ab.lineStart = bh, Ab.lineEnd = wh, Tb < 0 ? (Ex = -(zx = 180), Cx = -(Px = 90)) : Nb > eb ? Px = 90 : Nb < -eb && (Cx = -90), Ox[0] = Ex, Ox[1] = zx
            }
        },
        Eb = {
            sphere: eh,
            point: Ch,
            lineStart: Ph,
            lineEnd: Rh,
            polygonStart: function() {
                Eb.lineStart = Uh, Eb.lineEnd = Dh
            },
            polygonEnd: function() {
                Eb.lineStart = Ph, Eb.lineEnd = Rh
            }
        };
    jh.invert = jh;
    var Cb, zb, Pb, qb, Lb, Rb, Ub, Db, Ob, Fb, Ib, Yb = 1e9,
        Bb = -Yb,
        jb = Gl(),
        Hb = {
            sphere: eh,
            point: eh,
            lineStart: up,
            lineEnd: eh,
            polygonStart: eh,
            polygonEnd: eh
        },
        Xb = [null, null],
        Vb = {
            type: "LineString",
            coordinates: Xb
        },
        Wb = Gl(),
        $b = Gl(),
        Zb = {
            point: eh,
            lineStart: eh,
            lineEnd: eh,
            polygonStart: function() {
                Zb.lineStart = yp, Zb.lineEnd = xp
            },
            polygonEnd: function() {
                Zb.lineStart = Zb.lineEnd = Zb.point = eh, Wb.add(fb($b)), $b.reset()
            },
            result: function() {
                var t = Wb / 2;
                return Wb.reset(), t
            }
        },
        Gb = 1 / 0,
        Jb = Gb,
        Qb = -Gb,
        Kb = Qb,
        tw = {
            point: bp,
            lineStart: eh,
            lineEnd: eh,
            polygonStart: eh,
            polygonEnd: eh,
            result: function() {
                var t = [
                    [Gb, Jb],
                    [Qb, Kb]
                ];
                return Qb = Kb = -(Jb = Gb = 1 / 0), t
            }
        },
        nw = 0,
        ew = 0,
        rw = 0,
        iw = 0,
        ow = 0,
        uw = 0,
        aw = 0,
        cw = 0,
        sw = 0,
        fw = {
            point: wp,
            lineStart: Mp,
            lineEnd: Sp,
            polygonStart: function() {
                fw.lineStart = Np, fw.lineEnd = Ap
            },
            polygonEnd: function() {
                fw.point = wp, fw.lineStart = Mp, fw.lineEnd = Sp
            },
            result: function() {
                var t = sw ? [aw / sw, cw / sw] : uw ? [iw / uw, ow / uw] : rw ? [nw / rw, ew / rw] : [NaN, NaN];
                return nw = ew = rw = iw = ow = uw = aw = cw = sw = 0, t
            }
        },
        lw = Gl(),
        hw = Up(function() {
            return !0
        }, Fp, Yp, [-ib, -ob]);
    Xp.prototype = {
        point: function(t, n) {
            this.stream.point(t, n)
        },
        sphere: function() {
            this.stream.sphere()
        },
        lineStart: function() {
            this.stream.lineStart()
        },
        lineEnd: function() {
            this.stream.lineEnd()
        },
        polygonStart: function() {
            this.stream.polygonStart()
        },
        polygonEnd: function() {
            this.stream.polygonEnd()
        }
    };
    var pw = 16,
        dw = pb(30 * sb),
        vw = Hp({
            point: function(t, n) {
                this.stream.point(t * sb, n * sb)
            }
        }),
        _w = ud(function(t) {
            return xb(2 / (1 + t))
        });
    _w.invert = ad(function(t) {
        return 2 * th(t / 2)
    });
    var yw = ud(function(t) {
        return (t = Kl(t)) && t / gb(t)
    });
    yw.invert = ad(function(t) {
        return t
    }), fd.invert = function(t, n) {
        return [t, 2 * lb(vb(n)) - ob]
    }, _d.invert = _d, xd.invert = ad(lb), wd.invert = ad(th), Td.invert = ad(function(t) {
        return 2 * lb(t)
    }), Sd.invert = function(t, n) {
        return [-n, 2 * lb(vb(t)) - ob]
    }, t.version = Ad, t.bisect = Cd, t.bisectRight = Cd, t.bisectLeft = zd, t.ascending = n, t.bisector = e, t.descending = i, t.deviation = a, t.extent = c, t.histogram = v, t.thresholdFreedmanDiaconis = y, t.thresholdScott = g, t.thresholdSturges = d, t.max = m, t.mean = x, t.median = b, t.merge = w, t.min = M, t.pairs = T, t.permute = k, t.quantile = _, t.range = l, t.scan = S, t.shuffle = N, t.sum = A, t.ticks = h, t.tickStep = p, t.transpose = E, t.variance = u, t.zip = z, t.entries = j, t.keys = Y, t.values = B, t.map = q, t.set = I, t.nest = L, t.randomUniform = H, t.randomNormal = X, t.randomLogNormal = V, t.randomBates = $, t.randomIrwinHall = W, t.randomExponential = Z, t.easeLinear = G, t.easeQuad = K, t.easeQuadIn = J, t.easeQuadOut = Q, t.easeQuadInOut = K, t.easeCubic = et, t.easeCubicIn = tt, t.easeCubicOut = nt, t.easeCubicInOut = et, t.easePoly = jd, t.easePolyIn = Yd, t.easePolyOut = Bd, t.easePolyInOut = jd, t.easeSin = ot, t.easeSinIn = rt, t.easeSinOut = it, t.easeSinInOut = ot, t.easeExp = ct, t.easeExpIn = ut, t.easeExpOut = at, t.easeExpInOut = ct, t.easeCircle = lt, t.easeCircleIn = st, t.easeCircleOut = ft, t.easeCircleInOut = lt, t.easeBounce = pt, t.easeBounceIn = ht, t.easeBounceOut = pt, t.easeBounceInOut = dt, t.easeBack = ov, t.easeBackIn = rv, t.easeBackOut = iv, t.easeBackInOut = ov, t.easeElastic = fv, t.easeElasticIn = sv, t.easeElasticOut = fv, t.easeElasticInOut = lv, t.polygonArea = vt, t.polygonCentroid = _t, t.polygonHull = xt, t.polygonContains = bt, t.polygonLength = wt, t.path = Tt, t.quadtree = jt, t.queue = Qt, t.arc = sn, t.area = vn, t.line = dn, t.pie = gn, t.radialArea = Mn, t.radialLine = wn, t.symbol = Tn, t.symbols = Bv, t.symbolCircle = Tv, t.symbolCross = kv, t.symbolDiamond = Av, t.symbolSquare = Lv, t.symbolStar = qv, t.symbolTriangle = Uv, t.symbolWye = Yv, t.curveBasisClosed = Cn, t.curveBasisOpen = Pn, t.curveBasis = An, t.curveBundle = jv, t.curveCardinalClosed = Xv, t.curveCardinalOpen = Vv, t.curveCardinal = Hv, t.curveCatmullRomClosed = $v, t.curveCatmullRomOpen = Zv, t.curveCatmullRom = Wv, t.curveLinearClosed = jn, t.curveLinear = ln, t.curveMonotoneX = Jn, t.curveMonotoneY = Qn, t.curveNatural = ne, t.curveStep = re, t.curveStepAfter = oe, t.curveStepBefore = ie, t.stack = se, t.stackOffsetExpand = fe, t.stackOffsetNone = ue, t.stackOffsetSilhouette = le, t.stackOffsetWiggle = he, t.stackOrderAscending = pe, t.stackOrderDescending = ve, t.stackOrderInsideOut = _e, t.stackOrderNone = ae, t.stackOrderReverse = ye, t.color = be, t.rgb = ke, t.hsl = Ee, t.lab = qe, t.hcl = Ie, t.cubehelix = je, t.interpolate = cr, t.interpolateArray = nr, t.interpolateDate = er, t.interpolateNumber = rr, t.interpolateObject = ir, t.interpolateRound = sr, t.interpolateString = ar, t.interpolateTransformCss = D_, t.interpolateTransformSvg = O_, t.interpolateZoom = yr, t.interpolateRgb = C_, t.interpolateRgbBasis = z_, t.interpolateRgbBasisClosed = P_, t.interpolateHsl = j_, t.interpolateHslLong = H_, t.interpolateLab = mr, t.interpolateHcl = X_, t.interpolateHclLong = V_, t.interpolateCubehelix = W_, t.interpolateCubehelixLong = $_, t.interpolateBasis = Ve, t.interpolateBasisClosed = We, t.quantize = wr, t.dispatch = Mr, t.dsvFormat = zr, t.csvParse = K_, t.csvParseRows = ty, t.csvFormat = ny, t.csvFormatRows = ey, t.tsvParse = iy, t.tsvParseRows = oy, t.tsvFormat = uy, t.tsvFormatRows = ay, t.request = Pr, t.html = cy, t.json = sy, t.text = fy, t.xml = ly, t.csv = hy, t.tsv = py, t.now = Or, t.timer = Yr, t.timerFlush = Br, t.timeout = Wr, t.interval = $r, t.timeInterval = Zr, t.timeMillisecond = ky, t.timeMilliseconds = Sy, t.timeSecond = Py, t.timeSeconds = qy, t.timeMinute = Ly, t.timeMinutes = Ry, t.timeHour = Uy, t.timeHours = Dy, t.timeDay = Oy, t.timeDays = Fy, t.timeWeek = Iy;
    t.timeWeeks = Wy;
    t.timeSunday = Iy, t.timeSundays = Wy, t.timeMonday = Yy, t.timeMondays = $y, t.timeTuesday = By, t.timeTuesdays = Zy, t.timeWednesday = jy, t.timeWednesdays = Gy, t.timeThursday = Hy, t.timeThursdays = Jy, t.timeFriday = Xy, t.timeFridays = Qy, t.timeSaturday = Vy, t.timeSaturdays = Ky, t.timeMonth = tg, t.timeMonths = ng, t.timeYear = eg, t.timeYears = rg, t.utcMillisecond = ky, t.utcMilliseconds = Sy, t.utcSecond = Py, t.utcSeconds = qy, t.utcMinute = ig, t.utcMinutes = og, t.utcHour = ug, t.utcHours = ag, t.utcDay = cg, t.utcDays = sg, t.utcWeek = fg, t.utcWeeks = yg, t.utcSunday = fg, t.utcSundays = yg, t.utcMonday = lg, t.utcMondays = gg, t.utcTuesday = hg, t.utcTuesdays = mg, t.utcWednesday = pg, t.utcWednesdays = xg, t.utcThursday = dg, t.utcThursdays = bg, t.utcFriday = vg, t.utcFridays = wg, t.utcSaturday = _g, t.utcSaturdays = Mg, t.utcMonth = Tg, t.utcMonths = kg, t.utcYear = Sg, t.utcYears = Ag, t.formatLocale = ai, t.formatDefaultLocale = ci, t.formatSpecifier = ii, t.precisionFixed = si, t.precisionPrefix = fi, t.precisionRound = li, t.isoFormat = Fg, t.isoParse = Ig, t.timeFormatLocale = vi, t.timeFormatDefaultLocale = so, t.scaleBand = po, t.scalePoint = _o, t.scaleIdentity = Eo, t.scaleLinear = Ao, t.scaleLog = Do, t.scaleOrdinal = ho, t.scaleImplicit = Hg, t.scalePow = Fo, t.scaleSqrt = Io, t.scaleQuantile = Yo, t.scaleQuantize = Bo, t.scaleThreshold = jo, t.scaleTime = Wo, t.scaleUtc = $o, t.schemeCategory10 = Kg, t.schemeCategory20b = tm, t.schemeCategory20c = nm, t.schemeCategory20 = em, t.scaleSequential = Qo, t.interpolateCubehelixDefault = rm, t.interpolateRainbow = Go, t.interpolateWarm = im, t.interpolateCool = om, t.interpolateViridis = am, t.interpolateMagma = cm, t.interpolateInferno = sm, t.interpolatePlasma = fm, t.creator = eu, t.customEvent = lu, t.local = ru, t.matcher = ym, t.mouse = du, t.namespace = Ko, t.namespaces = hm, t.select = Ra, t.selectAll = Ua, t.selection = La, t.selector = _u, t.selectorAll = mu, t.touch = Da, t.touches = Oa, t.window = Wu, t.active = Yc, t.interrupt = Ha, t.transition = Dc, t.axisTop = $c, t.axisRight = Zc, t.axisBottom = Gc, t.axisLeft = Jc, t.cluster = os, t.hierarchy = ys, t.pack = Bs, t.packSiblings = Us, t.packEnclose = ks, t.partition = $s, t.stratify = Js, t.tree = af, t.treemap = ff, t.treemapBinary = lf, t.treemapDice = Ws, t.treemapSlice = cf, t.treemapSliceDice = hf, t.treemapSquarify = Xm, t.treemapResquarify = Vm, t.forceCenter = pf, t.forceCollide = gf, t.forceLink = xf, t.forceManyBody = Tf, t.forceSimulation = Mf, t.forceX = kf, t.forceY = Sf, t.drag = Uf, t.dragDisable = Ef, t.dragEnable = Cf, t.voronoi = _l, t.zoom = Sl, t.zoomIdentity = ix, t.zoomTransform = xl, t.brush = Fl, t.brushX = Dl, t.brushY = Ol, t.brushSelection = Ul, t.chord = Bl, t.ribbon = Zl, t.geoAlbers = rd, t.geoAlbersUsa = od, t.geoArea = lh, t.geoAzimuthalEqualArea = cd, t.geoAzimuthalEqualAreaRaw = _w, t.geoAzimuthalEquidistant = sd, t.geoAzimuthalEquidistantRaw = yw, t.geoBounds = Eh, t.geoCentroid = Ih, t.geoCircle = Jh, t.geoClipExtent = op, t.geoConicConformal = vd, t.geoConicConformalRaw = dd, t.geoConicEqualArea = ed, t.geoConicEqualAreaRaw = nd, t.geoConicEquidistant = md, t.geoConicEquidistantRaw = gd, t.geoDistance = lp, t.geoEquirectangular = yd, t.geoEquirectangularRaw = _d, t.geoGnomonic = bd, t.geoGnomonicRaw = xd, t.geoGraticule = dp, t.geoInterpolate = vp, t.geoLength = fp, t.geoMercator = ld, t.geoMercatorRaw = fd, t.geoOrthographic = Md, t.geoOrthographicRaw = wd, t.geoPath = Lp, t.geoProjection = Qp, t.geoProjectionMutator = Kp, t.geoRotation = $h, t.geoStereographic = kd, t.geoStereographicRaw = Td, t.geoStream = uh, t.geoTransform = jp, t.geoTransverseMercator = Nd, t.geoTransverseMercatorRaw = Sd, Object.defineProperty(t, "__esModule", {
        value: !0
    })
});</script>
<script>// https://d3js.org/d3-path/ v2.0.0-rc.1 Copyright 2020 Mike Bostock
(function (global, factory) {
typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
typeof define === 'function' && define.amd ? define(['exports'], factory) :
(global = global || self, factory(global.d3 = global.d3 || {}));
}(this, function (exports) { 'use strict';

const pi = Math.PI,
    tau = 2 * pi,
    epsilon = 1e-6,
    tauEpsilon = tau - epsilon;

function Path() {
  this._x0 = this._y0 = // start of current subpath
  this._x1 = this._y1 = null; // end of current subpath
  this._ = "";
}

function path() {
  return new Path;
}

Path.prototype = path.prototype = {
  constructor: Path,
  moveTo: function(x, y) {
    this._ += "M" + (this._x0 = this._x1 = +x) + "," + (this._y0 = this._y1 = +y);
  },
  closePath: function() {
    if (this._x1 !== null) {
      this._x1 = this._x0, this._y1 = this._y0;
      this._ += "Z";
    }
  },
  lineTo: function(x, y) {
    this._ += "L" + (this._x1 = +x) + "," + (this._y1 = +y);
  },
  quadraticCurveTo: function(x1, y1, x, y) {
    this._ += "Q" + (+x1) + "," + (+y1) + "," + (this._x1 = +x) + "," + (this._y1 = +y);
  },
  bezierCurveTo: function(x1, y1, x2, y2, x, y) {
    this._ += "C" + (+x1) + "," + (+y1) + "," + (+x2) + "," + (+y2) + "," + (this._x1 = +x) + "," + (this._y1 = +y);
  },
  arcTo: function(x1, y1, x2, y2, r) {
    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;
    var x0 = this._x1,
        y0 = this._y1,
        x21 = x2 - x1,
        y21 = y2 - y1,
        x01 = x0 - x1,
        y01 = y0 - y1,
        l01_2 = x01 * x01 + y01 * y01;

    // Is the radius negative? Error.
    if (r < 0) throw new Error("negative radius: " + r);

    // Is this path empty? Move to (x1,y1).
    if (this._x1 === null) {
      this._ += "M" + (this._x1 = x1) + "," + (this._y1 = y1);
    }

    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.
    else if (!(l01_2 > epsilon));

    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?
    // Equivalently, is (x1,y1) coincident with (x2,y2)?
    // Or, is the radius zero? Line to (x1,y1).
    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {
      this._ += "L" + (this._x1 = x1) + "," + (this._y1 = y1);
    }

    // Otherwise, draw an arc!
    else {
      var x20 = x2 - x0,
          y20 = y2 - y0,
          l21_2 = x21 * x21 + y21 * y21,
          l20_2 = x20 * x20 + y20 * y20,
          l21 = Math.sqrt(l21_2),
          l01 = Math.sqrt(l01_2),
          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),
          t01 = l / l01,
          t21 = l / l21;

      // If the start tangent is not coincident with (x0,y0), line to.
      if (Math.abs(t01 - 1) > epsilon) {
        this._ += "L" + (x1 + t01 * x01) + "," + (y1 + t01 * y01);
      }

      this._ += "A" + r + "," + r + ",0,0," + (+(y01 * x20 > x01 * y20)) + "," + (this._x1 = x1 + t21 * x21) + "," + (this._y1 = y1 + t21 * y21);
    }
  },
  arc: function(x, y, r, a0, a1, ccw) {
    x = +x, y = +y, r = +r, ccw = !!ccw;
    var dx = r * Math.cos(a0),
        dy = r * Math.sin(a0),
        x0 = x + dx,
        y0 = y + dy,
        cw = 1 ^ ccw,
        da = ccw ? a0 - a1 : a1 - a0;

    // Is the radius negative? Error.
    if (r < 0) throw new Error("negative radius: " + r);

    // Is this path empty? Move to (x0,y0).
    if (this._x1 === null) {
      this._ += "M" + x0 + "," + y0;
    }

    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).
    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {
      this._ += "L" + x0 + "," + y0;
    }

    // Is this arc empty? We’re done.
    if (!r) return;

    // Does the angle go the wrong way? Flip the direction.
    if (da < 0) da = da % tau + tau;

    // Is this a complete circle? Draw two arcs to complete the circle.
    if (da > tauEpsilon) {
      this._ += "A" + r + "," + r + ",0,1," + cw + "," + (x - dx) + "," + (y - dy) + "A" + r + "," + r + ",0,1," + cw + "," + (this._x1 = x0) + "," + (this._y1 = y0);
    }

    // Is this arc non-empty? Draw an arc!
    else if (da > epsilon) {
      this._ += "A" + r + "," + r + ",0," + (+(da >= pi)) + "," + cw + "," + (this._x1 = x + r * Math.cos(a1)) + "," + (this._y1 = y + r * Math.sin(a1));
    }
  },
  rect: function(x, y, w, h) {
    this._ += "M" + (this._x0 = this._x1 = +x) + "," + (this._y0 = this._y1 = +y) + "h" + (+w) + "v" + (+h) + "h" + (-w) + "Z";
  },
  toString: function() {
    return this._;
  }
};

exports.path = path;

Object.defineProperty(exports, '__esModule', { value: true });

}));</script>
<script>HTMLWidgets.widget({

  name: 'transitions',

  type: 'output',

  factory: function(el, width, height) {

    // TODO: define shared variables for this instance

    return {

      renderValue: function(x) {

        var newSvg = document.getElementById(el.id);
        newSvg.innerHTML += '<div id="chordChartContainer" style="height: 80vh; margin-top: 50px;"><div id="tooltip"></div><svg id="chordChart" style="overflow: visible;"></svg></div>';

        (function(){
            drawChords();

            //

            function drawChords() {
                var matrix = x.data;

                var width = d3.select("#chordChartContainer").style('width'),
                    height = d3.select("#chordChartContainer").style('height');

                var total = arrSum(matrix);

                var names = x.names;

                var colors = d3.scale.category20();

                var res = d3.chordDirected()
                    .padAngle(0.05)
                    .sortSubgroups(d3.descending)
                    (matrix)

                document.getElementById("chordChart").innerHTML = "";

                var chordSvg = d3.select("#chordChart")
                    .attr("width", width)
                    .attr("height", height)
                    .datum(res);

                var radius = parseInt(width) > parseInt(height) ? parseInt(height) / 2 : parseInt(width) / 2

                var innerRadius = radius - 10,
                    outerRadius = innerRadius + 10;

                var outerArc = chordSvg
                    .append("g")
                    .attr("class", "outAreas")
                    .selectAll("g")
                    .data(function (d) {
                        return d.groups;
                    })
                    .enter()
                    .append("g")
                    .append("path")
                    .attr("class", "path")
                    .style("fill", function (d, i) {
                        return colors(i)
                    })
                    .style("stroke", null)
                    .attr("id", function (d, i) {
                        return "path" + i
                    })
                    .attr("d", d3v4.arc()
                        .innerRadius(innerRadius)
                        .outerRadius(outerRadius)
                    )
                    .attr("transform", "translate(" + parseInt(width) / 2 + "," + innerRadius / 1.2 + ")");


                var div = d3.select("#tooltip")
                    .attr("class", "tooltip")
                    .style("opacity", 0);

                /*        var div = chordSvg.append("text")
                            .attr("id", "tooltip")
                            .attr("class", "tooltip")
                            .style("opacity", 0);*/

                var path = chordSvg
                    .append("g")
                    .attr("class", "inAreas")
                    .attr("transform", "translate(" + parseInt(width) / 2 + "," + innerRadius / 1.2 + ")")
                    .selectAll("path")
                    .data(function (d) {
                        return d;
                    })
                    .enter()
                    .append("path")
                    .attr("d", d3.ribbonArrow()
                        .radius(innerRadius)
                    )
                    .attr("class", "ribbon")
                    .style("fill", function (d) {
                        return colors(d.source.index)
                    })
                    .style("stroke", null)
                    .on("mouseover", function (d) {
                        div.transition()
                            .duration(200)
                            .style("opacity", 1);
                        div.html(((d.source.value / total) * 100).toFixed(2) + "%")
                            .style("left", (d3.event.pageX - document.getElementById('chordChartContainer').offsetLeft + 2) + "px")
                            .style("top", (d3.event.pageY - document.getElementById('chordChartContainer').offsetTop - 28) + "px");
                    })
                    .on("mouseout", function (d) {
                        div.transition()
                            .duration(500)
                            .style("opacity", 0);
                    });


                var text = chordSvg
                    .selectAll("text")
                    .data(names)
                    .enter()
                    .append("text")
                    .attr("x", 2)
                    .attr("dy", (outerRadius - innerRadius) - 2)
                    .append("textPath")
                    .attr('class', 'chordLabel')
                    .attr("xlink:href", function (d, i) {
                        return "#path" + i
                    })
                    .text(function (d, i) {
                        return names[i];
                    });

                return () => window.removeEventListener('resize', drawChords());
            }

            window.addEventListener('resize', drawChords());


            function arrSum(arr) {
                var sum = 0;
                arr.forEach(function(v) {
                    if (typeof v == 'object')
                        sum += arrSum(v);
                    else
                        sum += v
                })
                return sum;
            }
        })();

      },

      resize: function(width, height) {

        // TODO: code to re-render the widget with a new size

      }

    };
  }
});
</script>

</head>
<body>
<div id="htmlwidget_container">
  <div class="transitions html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8d35843e36460d35f734" style="width:auto;height:auto;" class="transitions html-widget"></div>
</div>
<script type="application/json" data-for="htmlwidget-8d35843e36460d35f734">{"x":{"data":[[0,5.99,0.9399999999999999,0.14,0.04,1.09,0.09,0.8100000000000001,1.79,0.38,0.65],[2.14,0,2.8,0.12,0.02,0.8,0.07000000000000001,1.65,2,0.9399999999999999,0.6899999999999999],[1.37,0.6899999999999999,0,0.32,0.03,1.07,0.2,8.289999999999999,3.15,0.48,0.98],[0.1,0.08,0.4,0,0,0.1,0.03,0.32,0.3,0.03,0.23],[0.04,0.01,0.05,0,0,0,0,0.03,0.06,0.01,0.04],[0.72,0.67,1.48,0.1,0,0,0.05,1.67,1.02,0.08,0.98],[0.06,0.02,0.46,0.02,0,0.04,0,0.17,0.31,0.05,1.45],[2.41,0.67,4.99,0.33,0.05,1.66,0.17,0,4.96,0.85,1.41],[4.39,2.39,3.08,0.27,0.05,1,0.3,2.76,0,0.84,2.24],[0.17,0.26,0.57,0.03,0,0.1,0.25,0.59,1.33,0,1.14],[0.49,0.44,1.82,0.26,0.05,0.91,1.43,1.21,2.42,0.79,0]],"names":["Sleep","Personal Care","Housework","Childcare","Adult care","Working and Education","Shopping and Services","Eating","Leisure","Sports","Travel and Other"],"message":"works"},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-8d35843e36460d35f734">{"viewer":{"width":"auto","height":"auto","padding":15,"fill":false},"browser":{"width":"auto","height":"auto","padding":40,"fill":false}}</script>
</body>
</html>
